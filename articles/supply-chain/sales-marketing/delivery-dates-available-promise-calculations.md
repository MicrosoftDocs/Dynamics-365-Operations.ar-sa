---
title: التعهد بالأمر
description: يوفر هذا الموضوع معلومات حول التعهد بتنفيذ الأوامر. يساعدك التعهد بتنفيذ الأوامر على التعهد لعملائك بطريقة موثوقة بالالتزام بتواريخ التسليم ويعطيك المرونة التي تسمح لك بالوفاء بهذه التواريخ.‬
author: ShylaThompson
manager: tfehr
ms.date: 04/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: SalesATP, SalesAvailableDlvDates, SalesCarrier
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 193933
ms.assetid: 676fc53a-fa25-4688-9f26-1005316763b8
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: ae3192bcf5128c09279017e3d5e8be8f42ec6975
ms.sourcegitcommit: 95f90ac3f248716abdab16d5de6ccbf059616e4b
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 12/03/2020
ms.locfileid: "4666760"
---
# <a name="order-promising"></a><span data-ttu-id="401d2-104">التعهد بالأمر</span><span class="sxs-lookup"><span data-stu-id="401d2-104">Order promising</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="401d2-105">يوفر هذا الموضوع معلومات حول التعهد بتنفيذ الأوامر.</span><span class="sxs-lookup"><span data-stu-id="401d2-105">This topic provides information about order promising.</span></span> <span data-ttu-id="401d2-106">يساعدك التعهد بتنفيذ الأوامر على التعهد لعملائك بطريقة موثوقة بالالتزام بتواريخ التسليم ويعطيك المرونة التي تسمح لك بالوفاء بهذه التواريخ.‬</span><span class="sxs-lookup"><span data-stu-id="401d2-106">Order promising helps you reliably promise delivery dates to your customers and gives you flexibility so that you can meet those dates.</span></span>

<span data-ttu-id="401d2-107">يحسب التعهد بالأوامر تواريخ الاستلام والشحن الأقدم، ويستند إلى طريقة مراقبة تاريخ الاستلام وأيام النقل.</span><span class="sxs-lookup"><span data-stu-id="401d2-107">Order promising calculates the earliest ship and receipt dates, and is based on the delivery date control method and transport days.</span></span> <span data-ttu-id="401d2-108">ويمكنك الاختيار من بين أربعة طرق للتحكم في تاريخ التسليم:</span><span class="sxs-lookup"><span data-stu-id="401d2-108">You can select among four delivery date control methods:</span></span>

-   <span data-ttu-id="401d2-109">**‬‏‫زمن وصول المبيعات** – زمن وصول المبيعات‬ هو الوقت المستغرق بين إنشاء أمر المبيعات وشحن الأصناف.</span><span class="sxs-lookup"><span data-stu-id="401d2-109">**Sales lead time** – Sales lead time is the time between creation of the sales order and shipment of the items.</span></span> <span data-ttu-id="401d2-110">وتستند عملية حساب تاريخ التسليم إلى العدد الافتراضي للأيام، ولا تراعي توفر المخزون أو طلبًا معروفًا أو توريدًا مخططًا.‬</span><span class="sxs-lookup"><span data-stu-id="401d2-110">The delivery date calculation is based on a default number of days, and does not consider stock availability, known demand, or planned supply.</span></span>
-   <span data-ttu-id="401d2-111">**ATP (المتوفر حسب التعهد)** ‏– ATP هو كمية الصنف المتوفرة ويمكن التعهد بها لعميل في تاريخ محدد.</span><span class="sxs-lookup"><span data-stu-id="401d2-111">**ATP (available-to-promise)** – ATP is the quantity of an item that is available and can be promised to a customer on a specific date.</span></span> <span data-ttu-id="401d2-112">وتتضمن عملية حساب ATP المخزون غير الملتزم به، وأوقات الإنتاج، وعمليات الاستلام المخططة، والإصدارات.</span><span class="sxs-lookup"><span data-stu-id="401d2-112">The ATP calculation includes uncommitted inventory, lead times, planned receipts, and issues.</span></span>
-   <span data-ttu-id="401d2-113">**ATP + هامش الإصدار**– تاريخ الشحن يساوي تاريخ ATP بالإضافة إلى هامش الإصدار للصنف.</span><span class="sxs-lookup"><span data-stu-id="401d2-113">**ATP + Issue margin** – The shipping date is equal to the ATP date plus the issue margin for the item.</span></span> <span data-ttu-id="401d2-114">وهامش الإصدار هو الوقت المطلوب لإعداد الأصناف للشحن.</span><span class="sxs-lookup"><span data-stu-id="401d2-114">The issue margin is the time that is required to prepare the items for shipment.</span></span>
-   <span data-ttu-id="401d2-115">**CTP (المتاح للعتهد)**– يتم حساب التوفر من عملية تحديد إجمالي المكونات المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="401d2-115">**CTP (capable-to-promise)** – Availability is calculated through explosion.</span></span>

> [!NOTE]
> <span data-ttu-id="401d2-116">عند تحديث أمر توريد ، فانه يتم تحديث معلومات أوامر الشراء تعهد بفقط إذا لم يكن من الممكن استيفاء تاريخ تعهد بالأمر الموجود ، كما هو موضح في الامثله التالية:</span><span class="sxs-lookup"><span data-stu-id="401d2-116">When a sales order is updated, the order promising information is only updated if the existing order promising date can't be fulfilled, as illustrated in the following examples:</span></span>
> 
> - <span data-ttu-id="401d2-117">**المثال رقم 1**: الأمر الحالي تعهد بالتاريخ هو 20 يوليو ، ولكن بسبب زيادة الكمية ، لن تتمكن من التسليم إلى 25 يوليو.</span><span class="sxs-lookup"><span data-stu-id="401d2-117">**Example 1**: The current order promising date is July 20, but due to increased quantity, you won't be able to deliver until July 25.</span></span> <span data-ttu-id="401d2-118">نظرا لأنه لا يمكن تحقيق التاريخ الحالي بعد الآن، يتم تشغيل أمر التعهد.</span><span class="sxs-lookup"><span data-stu-id="401d2-118">Because the current date can no longer be met, order promising is triggered.</span></span>
> -  <span data-ttu-id="401d2-119">**المثال رقم 2**: الأمر الحالي تعهد بالتاريخ هو 20 يوليو ، ولكن بسبب انخفاض الكمية، لن تتمكن من التسليم إلى 15 يوليو.</span><span class="sxs-lookup"><span data-stu-id="401d2-119">**Example 2**: The current order promising date is July 20, but due to decreased quantity, it is now possible to deliver on July 15.</span></span> <span data-ttu-id="401d2-120">ومع ذلك ، نظرا لان التاريخ الحالي لا يزال يمكن تحقيقه ، ولم يتم تشغيل التعهد بالأمر، وكان 20 يوليو هو تاريخ التعهد بالأمر.</span><span class="sxs-lookup"><span data-stu-id="401d2-120">However, because the current date can still be fulfilled, order promising is not triggered, and July 20 remains the order promising date.</span></span>

## <a name="atp-calculations"></a><span data-ttu-id="401d2-121">عمليات حساب ATP</span><span class="sxs-lookup"><span data-stu-id="401d2-121">ATP calculations</span></span>
<span data-ttu-id="401d2-122">يتم حساب كمية ATP باستخدام طريقة "ATP التراكمي المتوقع".</span><span class="sxs-lookup"><span data-stu-id="401d2-122">The ATP quantity is calculated by using the “cumulative ATP with look-ahead” method.</span></span> <span data-ttu-id="401d2-123">وأهم ما يميز هذا الأسلوب لحساب ATP هو قدرته على التعامل مع الحالات التي يكون فيها مجموع الإصدارات بين الإيصالات أكثر من عملية الاستلام الأخيرة (على سبيل المثال، عندما يجب استخدام كمية من عملية استلام سابقة لتلبية متطلبات).</span><span class="sxs-lookup"><span data-stu-id="401d2-123">The main advantage of this ATP calculation method is that it can handle cases where the sum of issues among receipts is more than the latest receipt (for example, when a quantity from an earlier receipt must be used to meet a requirement).</span></span> <span data-ttu-id="401d2-124">وتتضمن طريقة "حساب ATP التراكمي المتوقع" جميع الإصدارات حتى تتجاوز الكمية التراكمية المراد استلامها الكمية التراكمية المراد إصدارها.‬</span><span class="sxs-lookup"><span data-stu-id="401d2-124">The “cumulative ATP with look-ahead” calculation method includes all issues until the cumulative quantity to receive exceeds the cumulative quantity to issue.</span></span> <span data-ttu-id="401d2-125">ولذلك، تقوم طريقة حساب ATP هذه بتقييم ما إذا كان يمكن استخدام بعض الكمية من فترة سابقة في فترة مالية لاحقة.</span><span class="sxs-lookup"><span data-stu-id="401d2-125">Therefore, this ATP calculation method evaluates whether some of the quantity from an earlier period can be used in a later period.</span></span>  

<span data-ttu-id="401d2-126">كمية ATP هي رصيد المخزون غير الملتزم به في الفترة الأولى.</span><span class="sxs-lookup"><span data-stu-id="401d2-126">The ATP quantity is the uncommitted inventory balance in the first period.</span></span> <span data-ttu-id="401d2-127">وبشكل عام، يتم حساب كل فترة تتم فيها جدولة عملية الاستلام.</span><span class="sxs-lookup"><span data-stu-id="401d2-127">Typically, it's calculated for each period in which a receipt is scheduled.</span></span> <span data-ttu-id="401d2-128">ويقوم البرنامج بحساب فترة ATP بالأيام، ويحسب التاريخ الحالي كأول تاريخ لكمية ATP.</span><span class="sxs-lookup"><span data-stu-id="401d2-128">The program calculates the ATP period in days and calculates the current date as the first date for the ATP quantity.</span></span> <span data-ttu-id="401d2-129">وفي الفترة الأولى، تتضمن ATP المخزون الفعلي مطروحًا منه أوامر العميل المستحقة والمتأخرة عن موعد استحقاقها.</span><span class="sxs-lookup"><span data-stu-id="401d2-129">In the first period, ATP includes on-hand inventory minus customer orders that are due and overdue.</span></span>  

<span data-ttu-id="401d2-130">يتم حساب ATP باستخدام المعادلة التالية:</span><span class="sxs-lookup"><span data-stu-id="401d2-130">ATP is calculated by using the following formula:</span></span>  

<span data-ttu-id="401d2-131">يتم حساب ATP باستخدام الصيغة التالية: ATP = ATP للفترة السابقة + إيصالات الاستلام للفترة الحالية – الإصدارات للفترة الحالية – صافي كمية الإصدار لكل فترة مستقبلية حتى الفترة التي يتجاوز فيها مجموع إيصالات الاستلام لكافة الفترات المستقبلية، بما يصل إلى ويتضمن الفترة المستقبلية، مجموع الإصدارات بما يصل إلى ويتضمن الفترة المستقبلية.</span><span class="sxs-lookup"><span data-stu-id="401d2-131">ATP = ATP for the previous period + Receipts for the current period – Issues for the current period – Net issue quantity for each future period until the period when the sum of receipts for all future periods, up to and including the future period, exceeds the sum of issues up to and including the future period.</span></span>  

<span data-ttu-id="401d2-132">لاحظ أن حساب ATP لا يتضمن معلومات حول تاريخ انتهاء الصلاحية وأي معلومات خارج الحد الزمني لـ ATP التي يتوقعها النظام عندما يكون بالإمكان التعهد بأي كمية.</span><span class="sxs-lookup"><span data-stu-id="401d2-132">Notice that the ATP calculation does not include information around expiry date and beyond the ATP time fence that the system expects when any quantity can be promised.</span></span>

<span data-ttu-id="401d2-133">عند عدم وجود المزيد من الإصدارات أو عمليات الاستلام، تكون كمية ATP للتواريخ التالية هي نفس آخر كمية ATP محسوبة.</span><span class="sxs-lookup"><span data-stu-id="401d2-133">When there are no more issues or receipts to consider, the ATP quantity for the following dates is the same as the latest calculated ATP quantity.</span></span>  

<span data-ttu-id="401d2-134">إذا لم يتم توفير كافة الأبعاد المستخدمة لأحد الأصناف عند إجراء فحص ATP، فلا يزال من الممكن تحديدها في الإصدار وفي عمليات الاستلام.</span><span class="sxs-lookup"><span data-stu-id="401d2-134">If not all the dimensions that are used for an item are given when the ATP check is completed, they can still be specified on the issue and receipts.</span></span> <span data-ttu-id="401d2-135">وفي هذه الحالة، في حساب ATP، يجب تجميع عمليات الاستلام والإصدارات إلى البُعد الموجود، وذلك لتقليل عدد بنود عمليات الاستلام والإصدارات المستخدمة في حساب ATP.</span><span class="sxs-lookup"><span data-stu-id="401d2-135">In this case, in the ATP calculation, the receipts and issues must be aggregated to the existing dimensions to reduce the number of receipt and issue lines that are used in the ATP calculation.</span></span>  

<span data-ttu-id="401d2-136">كمية ATP التي تظهر دائماً أكبر من أو تساوي 0 (صفر).</span><span class="sxs-lookup"><span data-stu-id="401d2-136">The ATP quantity that is shown is always greater than or equal to 0 (zero).</span></span> <span data-ttu-id="401d2-137">إذا نتج عن الحساب كمية ATP سالبة (على سبيل المثال، إذا تم التعهد في وقت سابق بتسليم كمية أكبر من الكمية المتوفرة)، يتم تلقائيًا تعيين الكمية بالقيمة 0.</span><span class="sxs-lookup"><span data-stu-id="401d2-137">If the calculation returns a negative ATP quantity (for example, if the quantity that was previously promised exceeds the available quantity), the quantity is automatically set to 0.</span></span>

### <a name="example"></a><span data-ttu-id="401d2-138">مثال</span><span class="sxs-lookup"><span data-stu-id="401d2-138">Example</span></span>

<span data-ttu-id="401d2-139">ويتحكم حقل **الحد الزمني لطلب تراجع ATP‬** مدى العودة في الوقت المناسب للبحث عن أوامر الطلب المتأخرة أو إصدارات المخزون.</span><span class="sxs-lookup"><span data-stu-id="401d2-139">The **ATP backward demand time fence** field controls how far back in time to look for delayed demand orders or inventory issues.</span></span> <span data-ttu-id="401d2-140">ويتحكم حقل **الحد الزمني لتوفير تراجع ATP‬** في مدى العودة في الوقت المناسب للبحث عن أوامر التوريد المتأخرة أو عمليات استلام المخزون.</span><span class="sxs-lookup"><span data-stu-id="401d2-140">The **ATP backward supply time fence** field controls how far back in time to look for delayed supply orders or inventory receipts.</span></span> <span data-ttu-id="401d2-141">على سبيل المثال، إذا كان ينبغي مراعاة الطلبات المتأخرة بسبعة أيام فقط في حساب ATP، فيجب تعيين كلا الحقلين إلى **7**.</span><span class="sxs-lookup"><span data-stu-id="401d2-141">For example, if orders that are delayed by only seven days should be considered in the ATP calculation, both fields should be set to **7**.</span></span>  

<span data-ttu-id="401d2-142">ويتحكم حقلا **الوقت المقابل للطلب المتأخر لـ ATP‬** و **الوقت المقابل للتوفير المتأخر لـ ATP‬** في الوقت الذي ستتم فيه مراعاة الطلب أو التوريد المتأخر في حساب ATP.</span><span class="sxs-lookup"><span data-stu-id="401d2-142">The **ATP delayed demand offset time** and **ATP delayed supply offset time** fields control when the delayed demand or supply will be considered in the ATP calculation.</span></span> <span data-ttu-id="401d2-143">على سبيل المثال، إذا كان ينبغي مراعاة الطلب والتوريد المتأخرين في حساب ATP بعد غد، يجب تعيين كلا الحقلين إلى **2**.</span><span class="sxs-lookup"><span data-stu-id="401d2-143">For example, if the delayed supply and demand should be considered in the ATP calculation the day after tomorrow, both fields should be set to **2**.</span></span> <span data-ttu-id="401d2-144">وتعني قيمة **2** أن كمية الصنف في أمر الشراء المتأخر التي يجب أن تتم مراعاتها في حساب ATP ستظهر متاحة لمدة يومين بعد التاريخ الحالي.</span><span class="sxs-lookup"><span data-stu-id="401d2-144">A value of **2** means that the quantity of an item on a delayed purchase order that should be considered in the ATP calculation will be seen as available two days after the current date.</span></span>  

<span data-ttu-id="401d2-145">على سبيل المثال التالي، يتم إدخال **7** في حقلي **الحد الزمني لطلب تراجع ATP‬** و **الحد الزمني لتوفير تراجع ATP‬**، ويتم إدخال **1** في حقلي **الوقت المقابل للطلب المتأخر لـ ATP‬** و **الوقت المقابل للتوفير المتأخر لـ ATP‬**.</span><span class="sxs-lookup"><span data-stu-id="401d2-145">For the following example, **7** is entered in the **ATP backward demand time fence** and **ATP backward supply time fence** fields, and **1** is entered in the **ATP delayed demand offset time** and **ATP delayed supply offset time** fields.</span></span>  

<span data-ttu-id="401d2-146">ولم يتم تلقي أمر شراء 200 قطعة من المنتجات التي كان ينبغي استلامها منذ ثلاثة أيام حتى الآن.</span><span class="sxs-lookup"><span data-stu-id="401d2-146">A purchase order for 200 pieces of a product that should have been received three days ago hasn't been received yet.</span></span> <span data-ttu-id="401d2-147">ولذلك، لم يتم شحن بند أمر مبيعات بـ 75 قطعة من نفس المنتج الذي يجب أن يتم شحنه أمس.</span><span class="sxs-lookup"><span data-stu-id="401d2-147">Therefore, a sales order line for 75 pieces of the same product that should have been shipped yesterday hasn't been shipped.</span></span>  

<span data-ttu-id="401d2-148">ويتصل عميل ويرغب في طلب 150 قطعة من نفس المنتج.</span><span class="sxs-lookup"><span data-stu-id="401d2-148">A customer calls and wants to order 150 pieces of the same product.</span></span> <span data-ttu-id="401d2-149">وعندما تتحقق من توافر المنتج، تجد أنه سيتم تسليم أمر شراء آخر بـ 100 قطعة من المنتج بعد 10 أيام.</span><span class="sxs-lookup"><span data-stu-id="401d2-149">When you verify the availability of the product, you find that another purchase order for 100 pieces of the product will be delivered 10 days later.</span></span>  

<span data-ttu-id="401d2-150">وتقوم بإنشاء بند أمر مبيعات للمنتج وإدخال **150** باعتبارها الكمية.</span><span class="sxs-lookup"><span data-stu-id="401d2-150">You create a sales order line for the product and enter **150** as the quantity.</span></span>  

<span data-ttu-id="401d2-151">ونظرًا لأن طريقة التحكم في تاريخ التسليم هي ATP، فإنه يتم حساب بيانات ATP للعثور على تاريخ شحن الأقرب الممكن.</span><span class="sxs-lookup"><span data-stu-id="401d2-151">Because the delivery date control is method is ATP, the ATP data is calculated to find the earliest possible ship date.</span></span> <span data-ttu-id="401d2-152">استناداً إلى الإعدادات، تتم مراعاة أمر المبيعات وأمر الشراء المتأخرين، وتكون كمية ATP الناتجة للتاريخ الحالي هي 0.</span><span class="sxs-lookup"><span data-stu-id="401d2-152">Based on the settings, the delayed purchase order and sales order are considered, and the resulting ATP quantity for the current date is 0.</span></span> <span data-ttu-id="401d2-153">وغدًا، عندما يكون من المتوقع أن تلقي أمر الشراء المتأخر، فإنه يتم حساب كمية ATP كأكثر من 0 (في هذه الحالة، يتم احتسابها 125).‬</span><span class="sxs-lookup"><span data-stu-id="401d2-153">Tomorrow, when the delayed purchase order is expected to be received, the ATP quantity is calculated as more than 0 (in this case, it's calculated as 125).</span></span> <span data-ttu-id="401d2-154">مع ذلك، بعد 10 أيام من الآن، يُتوقع استلام أمر شراء إضافي بعدد 100 قطعة، وتصبح كمية ATP أكثر من 150.</span><span class="sxs-lookup"><span data-stu-id="401d2-154">However, 10 days from now, when the additional purchase order for 100 pieces is expected to be received, the ATP quantity becomes more than 150.</span></span>  

<span data-ttu-id="401d2-155">ولذلك، يتم تعيين تاريخ الشحن إلى 10 أيام من الآن، استنادًا إلى عملية حساب ATP.‬</span><span class="sxs-lookup"><span data-stu-id="401d2-155">Therefore, the ship date is set to 10 days from now, based on the ATP calculation.</span></span> <span data-ttu-id="401d2-156">ولذلك، يمكنك إخبار العميل بأنه يمكن تسليم الكمية المطلوبة بعد 10 أيام من الآن.</span><span class="sxs-lookup"><span data-stu-id="401d2-156">Therefore, you tell the customer that the requested quantity can be delivered 10 days from now.</span></span>



