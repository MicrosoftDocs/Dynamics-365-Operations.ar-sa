---
title: تحسين أداء محرك الجدولة
description: يوفر هذا الموضوع معلومات حول محرك الجدولة وكيفية تحسين الأداء.
author: ChristianRytt
manager: tfehr
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: roxanad
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: 18a9b7ed4cd26a806002fb1b4684de1e84f39889
ms.sourcegitcommit: c55fecae96b4bb27bc313ba10a97eddb9c91350a
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/12/2020
ms.locfileid: "3989255"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="eeadb-103">تحسين أداء محرك الجدولة</span><span class="sxs-lookup"><span data-stu-id="eeadb-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="eeadb-104">يتم استخدام محرك جدولة المورد عند جدولة المسارات لأوامر الإنتاج المخططة والتي تم إصدارها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="eeadb-105">تم إصدار المحرك في الأصل كجزء من Dynamics AX 2012 وقد مر بعدة تحسينات منذ إصداره.</span><span class="sxs-lookup"><span data-stu-id="eeadb-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="eeadb-106">[مشكلة جدولة عمل الوظيفة](https://en.wikipedia.org/wiki/Job_shop_scheduling) هي مشكلة اندماجية ومعقدة جدًا حيث يزداد وقت الحل بشكل أُسي مع عدد متغيرات القرار.</span><span class="sxs-lookup"><span data-stu-id="eeadb-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="eeadb-107">في بعض الأحيان، يقوم العملاء بإعداد مسارات الإنتاج والبيانات المرتبطة بطريقة تؤدي إلى حدوث مشكلة في الجدولة لا يمكن حلها في الوقت المناسب حتى في الأجهزة الحديثة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="eeadb-108">سيساعدك هذا الموضوع علي فهم محرك الجدولة وكيف يمكن لبرنامج الإعداد المحدد التأثير على الأداء.</span><span class="sxs-lookup"><span data-stu-id="eeadb-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="eeadb-109">وعندما يتعلق البرنامج بتحسين أداء الجدولة، توصي الإرشادات العامة بتقليل تعقيد المشكلة التي يحتاج المحرك لحلها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="eeadb-110">تتضمن بعض العوامل الرئيسية التي يمكن أن تؤثر على الأداء:</span><span class="sxs-lookup"><span data-stu-id="eeadb-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="eeadb-111">المسارات التي تتضمن عمليات متعددة</span><span class="sxs-lookup"><span data-stu-id="eeadb-111">Routes with many operations</span></span>
- <span data-ttu-id="eeadb-112">المسارات التي تتضمن عمليات متوازية</span><span class="sxs-lookup"><span data-stu-id="eeadb-112">Routes with parallel operations</span></span>
- <span data-ttu-id="eeadb-113">عمليات تتضمن كمية من الموارد أعلى من واحد</span><span class="sxs-lookup"><span data-stu-id="eeadb-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="eeadb-114">العمليات التي تتضمن العديد من الموارد القابلة للتطبيق</span><span class="sxs-lookup"><span data-stu-id="eeadb-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="eeadb-115">استخدام الارتباطات الثابتة</span><span class="sxs-lookup"><span data-stu-id="eeadb-115">Use of hard links</span></span>
- <span data-ttu-id="eeadb-116">استخدام قدرة محدودة</span><span class="sxs-lookup"><span data-stu-id="eeadb-116">Use of finite capacity</span></span>
- <span data-ttu-id="eeadb-117">عدد التقويمات المختلفة المستخدمة</span><span class="sxs-lookup"><span data-stu-id="eeadb-117">The number of different calendars used</span></span>
- <span data-ttu-id="eeadb-118">عدد فترات وقت العمل لكل يوم في التقويم</span><span class="sxs-lookup"><span data-stu-id="eeadb-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="eeadb-119">إجمالي المدة للمسار</span><span class="sxs-lookup"><span data-stu-id="eeadb-119">Total duration of the route</span></span>
- <span data-ttu-id="eeadb-120">تشغيل محركات جدولة متعددة بالتوازي</span><span class="sxs-lookup"><span data-stu-id="eeadb-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="eeadb-121">نظرة عامة حول تدفق الجدولة الأساسية</span><span class="sxs-lookup"><span data-stu-id="eeadb-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="eeadb-122">لفهم كيف يمكن أن يؤثر الإعداد المعطى على الأداء، فمن المهم فهم كيفية تدفق العمليات، داخل المحرك والكود X + + المحيط به.</span><span class="sxs-lookup"><span data-stu-id="eeadb-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="eeadb-123">تتكون العملية الأساسية لجدولة الأمر من ثلاث خطوات أساسية:</span><span class="sxs-lookup"><span data-stu-id="eeadb-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="eeadb-124">**تحميل البيانات** - هنا ، يتم تحويل نماذج بيانات X + + إلى نموذج البيانات الداخلية الخاص بالمحرك في نموذج الوظائف والقيود.</span><span class="sxs-lookup"><span data-stu-id="eeadb-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="eeadb-125">**الجدولة** – هذا هو المصدر الرئيسي للجدولة التي تعالج النموذج والقيود المحددة، وينشئ نتيجة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="eeadb-126">خلال هذه العملية، سيطلب المحرك معلومات وقت العمل وعمليات حجز القدرة الحالية من X++ حسب الحاجة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="eeadb-127">**حفظ البيانات** – قد تتم معالجة المحرك الخاص بفترات حجز القدرة الإنتاجية للوظيفة بواسطة كود X + + لحفظ عمليات حجز قدرة الإنتاج وتحديث أوقات البدء والانتهاء للوظائف/العملية/الأمر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="eeadb-128">تحميل البيانات إلى المحرك</span><span class="sxs-lookup"><span data-stu-id="eeadb-128">Load data into the engine</span></span>

<span data-ttu-id="eeadb-129">يحتوي محرك الجدولة على نموذج بيانات مجردة أكثر من قاعدة بيانات Supply Chain Management نظرًا لأنه تم إنشاؤه كمحرك عام يمكنه معالجة مصادر مختلفة من البيانات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="eeadb-130">يجب أن تكون مفاهيم التوجيه والعمليات الثانوية ووقت التشغيل "مترجمة" إلى الوظيفة العامة ونموذج القيد الذي يعرضه المحرك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="eeadb-131">منطق بناء النموذج له مقدار كبير من منطق تسلسل العمل له ويختلف حسب البيانات المصدر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="eeadb-132">فئة X + + المسؤولة هي `WrkCtrScheduler`ولها فئات مشتقة لأوامر الإنتاج المخططة وأوامر الإنتاج التي تم إصدارها وتنبؤات المشروع.</span><span class="sxs-lookup"><span data-stu-id="eeadb-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="eeadb-133">كمثال، ضع في اعتبارك المسار الموضح في الجدول والصورة التالية، والتي تبدو بسيطة نسبيا.</span><span class="sxs-lookup"><span data-stu-id="eeadb-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="eeadb-134">عملية</span><span class="sxs-lookup"><span data-stu-id="eeadb-134">Oper.</span></span> <span data-ttu-id="eeadb-135">الرقم</span><span class="sxs-lookup"><span data-stu-id="eeadb-135">No.</span></span> | <span data-ttu-id="eeadb-136">الأولوية</span><span class="sxs-lookup"><span data-stu-id="eeadb-136">Priority</span></span> | <span data-ttu-id="eeadb-137">وقت الإعداد</span><span class="sxs-lookup"><span data-stu-id="eeadb-137">Setup time</span></span> | <span data-ttu-id="eeadb-138">وقت التشغيل</span><span class="sxs-lookup"><span data-stu-id="eeadb-138">Run time</span></span> | <span data-ttu-id="eeadb-139">وقت الانتظار بعد</span><span class="sxs-lookup"><span data-stu-id="eeadb-139">Queue time after</span></span> | <span data-ttu-id="eeadb-140">كمية الموارد</span><span class="sxs-lookup"><span data-stu-id="eeadb-140">Quantity of resources</span></span> | <span data-ttu-id="eeadb-141">التالي</span><span class="sxs-lookup"><span data-stu-id="eeadb-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="eeadb-142">10</span><span class="sxs-lookup"><span data-stu-id="eeadb-142">10</span></span> | <span data-ttu-id="eeadb-143">رئيسي</span><span class="sxs-lookup"><span data-stu-id="eeadb-143">Primary</span></span> | <span data-ttu-id="eeadb-144">١.٠٠</span><span class="sxs-lookup"><span data-stu-id="eeadb-144">1.00</span></span> | <span data-ttu-id="eeadb-145">2.00</span><span class="sxs-lookup"><span data-stu-id="eeadb-145">2.00</span></span> | | <span data-ttu-id="eeadb-146">1</span><span class="sxs-lookup"><span data-stu-id="eeadb-146">1</span></span> | <span data-ttu-id="eeadb-147">20</span><span class="sxs-lookup"><span data-stu-id="eeadb-147">20</span></span> |
| <span data-ttu-id="eeadb-148">10</span><span class="sxs-lookup"><span data-stu-id="eeadb-148">10</span></span> | <span data-ttu-id="eeadb-149">ثانوي&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="eeadb-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="eeadb-150">1</span><span class="sxs-lookup"><span data-stu-id="eeadb-150">1</span></span> | <span data-ttu-id="eeadb-151">20</span><span class="sxs-lookup"><span data-stu-id="eeadb-151">20</span></span> |
| <span data-ttu-id="eeadb-152">20</span><span class="sxs-lookup"><span data-stu-id="eeadb-152">20</span></span> | <span data-ttu-id="eeadb-153">رئيسي</span><span class="sxs-lookup"><span data-stu-id="eeadb-153">Primary</span></span> | | <span data-ttu-id="eeadb-154">3.00</span><span class="sxs-lookup"><span data-stu-id="eeadb-154">3.00</span></span> | <span data-ttu-id="eeadb-155">١.٠٠</span><span class="sxs-lookup"><span data-stu-id="eeadb-155">1.00</span></span> | <span data-ttu-id="eeadb-156">3</span><span class="sxs-lookup"><span data-stu-id="eeadb-156">3</span></span> | <span data-ttu-id="eeadb-157">0</span><span class="sxs-lookup"><span data-stu-id="eeadb-157">0</span></span> |

<span data-ttu-id="eeadb-158">![مثال، مخطط مسار](media/scheduling-engine-route.png "مثال، مخطط مسار")</span><span class="sxs-lookup"><span data-stu-id="eeadb-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="eeadb-159">عند إرسال هذا إلى المحرك، يتم تقسيمه إلى ثمانية مهام، كما هو مبين في التوضيح التالي (حدد الصورة لتكبيرها).</span><span class="sxs-lookup"><span data-stu-id="eeadb-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="eeadb-160">[![وظائف محرك الجدولة](media/scheduling-engine-jobs.png "وظائف محرك الجدولة")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="eeadb-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="eeadb-161">والارتباط القياسي بين مهمتين هو `FinishStart`الذي يعني أن وقت انتهاء وظيفة واحدة يجب أن يكون قبل وقت بدء وظيفة أخرى.</span><span class="sxs-lookup"><span data-stu-id="eeadb-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="eeadb-162">ونظرا لأنه يجب اجراء الاعداد بواسطة نفس المورد الذي سيقوم بالعملية فيما بعد، فانه توجد قيود `OnSameResource` بينهما.</span><span class="sxs-lookup"><span data-stu-id="eeadb-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="eeadb-163">وبين وظائف العملية الاساسيه والثانوية الخاصة بـ 10، توجد روابط `StartStart` و`FinishFinish`، والتي تعني ان الوظائف يجب ان تبدا وتنتهي في نفس الوقت، وهناك قيود `NotOnSameResource`، والتي ستمنع نفس المورد للاساسيه والثانوية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="eeadb-164">بالنسبة للعملية 20، حيث تم تعيين كمية الموارد إلى 3، فقد تم تقسيم وظيفة العملية إلى ثلاث وظائف مميزة حيث يجب ان تعمل كافة الوظائف في نفس الوقت.</span><span class="sxs-lookup"><span data-stu-id="eeadb-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="eeadb-165">في هذه الحالة، يتم اعداد مجموعه المسارات لعدم حجز القدرة لقائمه الانتظار بعد أوقات، وهو سبب وجود مهمة واحده فقط لقائمه الانتظار بعد ذلك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="eeadb-166">ويفهم محرك الجدولة فقط مفاهيم الوظائف ولا يفهم العمليات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="eeadb-167">وهذا يعني انه عند اجراء جدوله العملية، يتم تقسيم العمليات أيضا إلى مهام ، علي الرغم من انها لن تكون دائمة في قاعده البيانات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="eeadb-168">ولكل وظيفة، سنقوم أيضا بتحديد ما هو متطلب قدره الوظيفة (عدد الثواني المطلوب).</span><span class="sxs-lookup"><span data-stu-id="eeadb-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="eeadb-169">وفقا للطريقة التي تم بها تحديد متطلبات المورد، فقد يكون لنا أيضا، لكل وظيفة، إرسال قائمه بكافة الموارد القابلة للتطبيق المحتملة التي يمكن تشغيل المهمة فيها ومتطلبات القدرة الخاصة بهذا المورد المحدد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="eeadb-170">الرغم من إرسال قائمه الموارد القابلة للتطبيق عند بناء النموذج، سيظل المشغل بحاجه إلى التاكد من ان تعيين المورد صالح بالفعل لمده المهمة بأكملها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="eeadb-171">القيم الداخلية لمحرك الجدولة</span><span class="sxs-lookup"><span data-stu-id="eeadb-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="eeadb-172">واجهة محرك الجدولة</span><span class="sxs-lookup"><span data-stu-id="eeadb-172">Scheduling engine interface</span></span>

<span data-ttu-id="eeadb-173">لمعرفة كيفيه عمل المحرك داخليا، يفضل النظر إلى الوظيفة التي يتم الكشف عنها خارجيا.</span><span class="sxs-lookup"><span data-stu-id="eeadb-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="eeadb-174">في X + +، تكون الواجهة الرئيسية هي `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="eeadb-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="eeadb-175">وهي تحتوي علي الأساليب الموضحة في الأقسام الفرعية التالية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="eeadb-176">المحرك العام</span><span class="sxs-lookup"><span data-stu-id="eeadb-176">General engine</span></span>

| <span data-ttu-id="eeadb-177">**الطريقة**</span><span class="sxs-lookup"><span data-stu-id="eeadb-177">**Method**</span></span> | <span data-ttu-id="eeadb-178">**الغرض**</span><span class="sxs-lookup"><span data-stu-id="eeadb-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="eeadb-179">يقوم بجدوله كافة الوظائف التي تم تحميلها وإرجاع رمز الخطا.</span><span class="sxs-lookup"><span data-stu-id="eeadb-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="eeadb-180">تتيح الحصول علي نتيجة الجدولة ومهمة الخطا الاولي للتسلسل المعرف بواسطة وظيفة معينه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="eeadb-181">التحقق من حجوزات القدرة لكافة الوظائف التي تم تخزينها بواسطة المحرك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="eeadb-182">إرسال طابع زمني إلى المحرك الذي يتم تعيينه لكافة حجوزات القدرة الجديدة للوظائف المجدولة في ذاكره التخزين المؤقت للمحرك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="eeadb-183">إضافه بادئه الخاصية إلى مجموعه الخصائص المستخدمة عند تجميع القدرة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="eeadb-184">إضافه مورد إلى تجمع موارد محرك الجدولة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="eeadb-185">إضافه مجموعة موارد إلى تجمع موارد محرك الجدولة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="eeadb-186">إضافه مورد كعضو في مجموعه موارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="eeadb-187">إضافه هدف تحسين الجدولة (المدة أو الاولويه).</span><span class="sxs-lookup"><span data-stu-id="eeadb-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="eeadb-188">المهام الفردية</span><span class="sxs-lookup"><span data-stu-id="eeadb-188">Individual jobs</span></span>

| <span data-ttu-id="eeadb-189">**الطريقة**</span><span class="sxs-lookup"><span data-stu-id="eeadb-189">**Method**</span></span> | <span data-ttu-id="eeadb-190">**الغرض**</span><span class="sxs-lookup"><span data-stu-id="eeadb-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="eeadb-191">إضافه سجل معلومات الوظيفة الذي يقوم باعلام المحرك عن الوظيفة التي يجب جدولتها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="eeadb-192">يضيف قيدا يجب ان تنتهي عنده مهمة في تاريخ ووقت محددين.</span><span class="sxs-lookup"><span data-stu-id="eeadb-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="eeadb-193">يضيف قيدا يجب ان تبدأ عنده مهمة في تاريخ ووقت محددين.</span><span class="sxs-lookup"><span data-stu-id="eeadb-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="eeadb-194">يعرف القيد الذي يمكن ان تمتد عليه مهمة عبر عدد معين من الحد الأقصى من الأيام.</span><span class="sxs-lookup"><span data-stu-id="eeadb-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="eeadb-195">يقوم باضافه القيد الذي يجب جدوله المهمة علي مورد محدد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="eeadb-196">أضافه اولويه ربط مهمة لزوج (وظيفة، مستوي قيد).</span><span class="sxs-lookup"><span data-stu-id="eeadb-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="eeadb-197">وتعني القيمة ذات الاولويه العليا ان متغيرات الوظيفة سيتم ربطها في وقت سابق.</span><span class="sxs-lookup"><span data-stu-id="eeadb-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="eeadb-198">ستتم معالجه الوظيفة قبل المهام التي لها قيمه اولويه منخفضه في نفس التسلسل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="eeadb-199">يقوم باضافه معلومات القدرة الانتاجيه الخاصة بإحدى الوظائف (مثل وقت التشغيل المطلوب للوظيفة) والتي تعتمد علي المورد الذي تعمل عليه الوظيفة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="eeadb-200">إضافه مورد إلى مجموعه الموارد التي يمكن استخدامها لأداء وظيفة ما، ولتحديد القدرة المطلوبة عند التشغيل علي هذا المورد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="eeadb-201">يقوم باضافه معلومات هدف الوظيفة لمستوى قيد محدد (أقدم وقت انتهاء أو آخر وقت بدء).</span><span class="sxs-lookup"><span data-stu-id="eeadb-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="eeadb-202">أضافه الاولويه للاستخدام عند جدوله وظيفة علي أحد الموارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="eeadb-203">يحدد وقت الوظيفة الذي يعتمد علي المورد الذي ستتم جدوله المهمة فيه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="eeadb-204">يحدد وقت الوظيفة الذي لا يعتمد علي المورد الذي ستتم جدوله المهمة فيه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="eeadb-205">يضع علامة علي وظيفة للجدولة علي مستوى مجموعه الموارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="eeadb-206">تعيين ما إذا كان حق الشفعة مسموحا به لمهمة في أحد الموارد (في حاله السماح للمشغل بجدوله المهمة في فترات القدرة غير المتجاورة).</span><span class="sxs-lookup"><span data-stu-id="eeadb-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="eeadb-207">تعيين عدد الموارد المطلوبة لجدوله وظيفة (فقط من أجل جدوله العمليات).</span><span class="sxs-lookup"><span data-stu-id="eeadb-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="eeadb-208">القيود بين الوظائف</span><span class="sxs-lookup"><span data-stu-id="eeadb-208">Constraints between jobs</span></span>

| <span data-ttu-id="eeadb-209">**الطريقة**</span><span class="sxs-lookup"><span data-stu-id="eeadb-209">**Method**</span></span> | <span data-ttu-id="eeadb-210">**الغرض**</span><span class="sxs-lookup"><span data-stu-id="eeadb-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="eeadb-211">أضافه ارتباط (مثلال إنهاء \>البدء) بين مهمتين.</span><span class="sxs-lookup"><span data-stu-id="eeadb-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="eeadb-212">تعريف القيد الذي لا يمكن ان تنتهي عليه المهمة قبل انتهاء وظائف أخرى بالإضافة إلى وقت التاخير.</span><span class="sxs-lookup"><span data-stu-id="eeadb-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="eeadb-213">يضيف قيدا لان فتحات القدرة المحجوزة للمهام يجب ان تكون في أوقات العمل المتقاطعة للموارد التي تستخدمها الوظائف.</span><span class="sxs-lookup"><span data-stu-id="eeadb-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="eeadb-214">أضافه قيد يحدد كيفيه عمل الوظائف الاضافيه عندما تكون كميه محدده من الصنف يمكن نقلها بين موردين بينما لا يزال المورد الأول لم ينته من المعالجة، التالي يمكن للمورد الثاني بدء المعالجة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="eeadb-215">إضافه قيد يجب عدم جدوله مهمتين علي نفس المورد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="eeadb-216">إضافه قيد لمهمتين يجب أن يستخدما نفس المورد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="eeadb-217">أضافه قيد يجب ان تنتهي عليه المهمة التي لها حجوزات قدرة إنتاجية على نفس فترات الوقت الخاص بالمهمة الرئيسية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="eeadb-218">يستخدم هذا الزر في إضافه معلومات حول الوظيفة الرئيسية في مجموعه من الوظائف المتوازية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="eeadb-219">الحلول</span><span class="sxs-lookup"><span data-stu-id="eeadb-219">Solver</span></span>

<span data-ttu-id="eeadb-220">ويعد المحرك نفسه بشكل أساسي أحد القيود المتخصصة التي تمت اضافتها إلى الحلول.</span><span class="sxs-lookup"><span data-stu-id="eeadb-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="eeadb-221">تستند الحلول إلى عنصرين رئيسيين: المتغيرات والقيود.</span><span class="sxs-lookup"><span data-stu-id="eeadb-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="eeadb-222">المتغير</span><span class="sxs-lookup"><span data-stu-id="eeadb-222">Variable</span></span>

<span data-ttu-id="eeadb-223">يمثل المتغير مجالا من القيم المحتملة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="eeadb-224">يحتوي محرك الجدولة على نوعين من المتغيرات:</span><span class="sxs-lookup"><span data-stu-id="eeadb-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="eeadb-225">**متغير DateTime** - يحتوي علي مجال لكافة التواريخ والأوقات، ويمكن تقييد المجال عن طريق نقل الحد السفلي والحد العلوي لوقت المتغير أقرب إلى بعضهما البعض.</span><span class="sxs-lookup"><span data-stu-id="eeadb-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="eeadb-226">**متغير المورد** - له مجال من الموارد القابلة للتطبيق، ويمكن تقييد المجال عن طريق إزاله الموارد من القائمة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="eeadb-227">القيد</span><span class="sxs-lookup"><span data-stu-id="eeadb-227">Constraint</span></span>

<span data-ttu-id="eeadb-228">القيد الذي يعمل علي المتغيرات بواسطة تقييد المجالات الخاصة بهم، ولكنه يعتمد أيضا علي المتغيرات بحيث يتم تنشيطها عند تغيير المتغيرات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="eeadb-229">العملية الخاصة بـ "نشر القيد" هي عندما يقوم قيد بتنفيذ وظيفته الاساسيه والإبلاغ مره أخرى إلى المنطق الأساسي إذا كان ناجحا.</span><span class="sxs-lookup"><span data-stu-id="eeadb-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="eeadb-230">يعتبر المتغير منضما عندما لا يمكن تقييده بمزيد من المعلومات، وهو ما يعني ان الأمر "تاريخ ووقت" يكون هو نفسه الحد الأعلى والحد الأدنى، ولمتغير المورد الذي يحتوي علي مورد واحد قابل للتطبيق فقط.</span><span class="sxs-lookup"><span data-stu-id="eeadb-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="eeadb-231">عند ربط كافة المتغيرات، يتم العثور على حل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="eeadb-232">مستويات القيد</span><span class="sxs-lookup"><span data-stu-id="eeadb-232">Constraint levels</span></span>

<span data-ttu-id="eeadb-233">عند تنفيذ الجدولة كجزء من مرحله تغطيه تخطيط متطلبات المواد (MRP)، تتم جدوله الأوامر للخلف من تاريخ الطلب.</span><span class="sxs-lookup"><span data-stu-id="eeadb-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="eeadb-234">ومع ذلك، إذا لم يكن من الممكن العثور على جدول يبدا في اليوم أو الأحدث وينتهي قبل تاريخ الطلب، سيتم تغيير اتجاه الجدولة إلى الامام من اليوم.</span><span class="sxs-lookup"><span data-stu-id="eeadb-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="eeadb-235">يتم التعامل مع قاعده العمل الرئيسية هذه عن طريق تنظيم القيود في المستويات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="eeadb-236">في حاله عدم العثور علي حل عند استخدام القيود الموجودة في المستوي الأعلى، سيتم إسقاط القيود الموجودة في هذا المستوي، وتتم محاولة استخدام المستوى الأقل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="eeadb-237">وهذا يعني ، في التطبيق العملي، ان النموذج سيحتوي علي المستوي 1 مع أهداف الوظيفة الخاصة بآخر وقت بدء تم تحديده لحد الوقت الأقصى للنهاية (تاريخ الطلب)، والمستوى 0 مع أهداف الوظيفة الخاصة بأقرب وقت انتهاء ومحدده للحد الأدنى لقيد وقت بدء التشغيل الخاص باليوم.</span><span class="sxs-lookup"><span data-stu-id="eeadb-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="eeadb-238">خوارزمية</span><span class="sxs-lookup"><span data-stu-id="eeadb-238">Algorithm</span></span>

<span data-ttu-id="eeadb-239">فيما يلي الخطوات الاساسيه لخوارزميات المحرك:</span><span class="sxs-lookup"><span data-stu-id="eeadb-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="eeadb-240">البحث عن تسلسلات (سلاسل الوظائف) التي يمكن حلها بشكل منفصل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="eeadb-241">حاول العثور على حل اولي للتسلسل الخاص باعلى مستوى قيد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="eeadb-242">فرز الوظائف في التسلسل استنادا إلى هدف الوظيفة وأولوياتها، بحيث يمكن العثور على وظيفة البدء.</span><span class="sxs-lookup"><span data-stu-id="eeadb-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="eeadb-243">تنفيذ الوظائف التالية في التسلسل التالي:</span><span class="sxs-lookup"><span data-stu-id="eeadb-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="eeadb-244">البحث عن كافة القيود التي تحتاج إلى نشر وتشغيل النشر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="eeadb-245">إذا تم ربط كافة المتغيرات الخاصة بالوظيفة، فهذا يعني انه قد تم العثور علي حل لتلك الوظيفة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="eeadb-246">إذا تعذر ربط أحد المتغيرات دون ان يقوم بانتهاك القيود، ثم استرجاع الربط المتغير، حاول استخدام قيمه مختلفه في المجال (لمتغير المورد)، ثم أعد تشغيل نشر القيد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="eeadb-247">إذا لم يتم العثور على حل، ستتم أزاله كافة القيود الموجودة على مستوى القيد الحالي، ويتم تخفيض مستوي القيد (في حاله توفر أية مستويات سفليه) وإعاده محاولة البحث عن حل لمجموعة القيود الجديدة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="eeadb-248">إذا تم العثور على حل مُجدي، عندها يتم بدء مرحله التحسين، والتي ستحاول العثور علي حل أفضل إلى ان يتم الوصول إلى مهله التحسين أو انه قد تم استنفاد كافة مجموعات الموارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="eeadb-249">لا تدرك الحلول القيد الخاصة بمواصفات خوارزميه الجدولة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="eeadb-250">ويكون في تعريف وتجميع القيود المتنوعة التي يحدثها "سحري".</span><span class="sxs-lookup"><span data-stu-id="eeadb-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="eeadb-251">تحديد أوقات العمل</span><span class="sxs-lookup"><span data-stu-id="eeadb-251">Determining working times</span></span>

<span data-ttu-id="eeadb-252">يتحكم جزء كبير من القيود (الداخلية) في المحرك في وقت العمل والقدرة الخاصة بمورد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="eeadb-253">وبشكل أساسي ، فان المهمة هي لاجتياز الفترات الزمنية الخاصة بالعمل لأحد الموارد من نقطة محددة في اتجاه محدد، والعثور على فاصل زمني كافي حيث يمكن ان يتم احتواء الوظائف المطلوبة (الوقت).</span><span class="sxs-lookup"><span data-stu-id="eeadb-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="eeadb-254">وللقيام بذلك، يحتاج المشغل إلى معرفة أوقات العمل لأحد الموارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="eeadb-255">مقابل لبيانات النموذج الرئيسي، يتم تحميل *أوقات العمل بصورة بطيئة* ، مما يعني انه يتم تحميلها في المحرك حسب الحاجة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-255">Opposite to the main model data, the working times are *lazy loaded* , meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="eeadb-256">وسبب هذه الطريقة هو انه غالبا ما يكون هناك أوقات عمل في Supply Chain Management لتقويم لفتره طويلة جدا التالي توجد العديد من التقويمات بحيث تكون البيانات كبيره جدا ليتم تحميلها بشكل مسبق.</span><span class="sxs-lookup"><span data-stu-id="eeadb-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="eeadb-257">يتم طلب معلومات التقويم بواسطة المحرك في القطع، وذلك باستدعاء أسلوب الفئة X + +`WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span><span class="sxs-lookup"><span data-stu-id="eeadb-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="eeadb-258">الطلب خاص بمعرف تقويم محدد في فتره زمنيه محدده.</span><span class="sxs-lookup"><span data-stu-id="eeadb-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="eeadb-259">استنادا إلى حاله ذاكره التخزين المؤقت للخادم في Supply Chain Management، فان كل من هذه الطلبات قد تنتهي في العديد من استدعاءات قاعده البيانات، والتي تستغرق وقتا طويلا (بالنسبة للوقت المحاسبي الخالص).</span><span class="sxs-lookup"><span data-stu-id="eeadb-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="eeadb-260">أيضا، إذا كان التقويم يحتوي علي تعريفات زمنيه مفصله جدا لوقت العمل مع العديد من الفترات الزمنيه للعمل باليوم، فان هذا يضيف إلى الوقت الذي يستغرقه التحميل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="eeadb-261">عند تحميل بيانات وقت العمل في محرك الجدولة، يتم الاحتفاظ بها في ذاكره التخزين المؤقت الداخلية للتقويم المحدد، بمعنى انه إذا كانت هناك أيه مهام أو موارد أخرى تستخدم نفس التقويم، فيمكن اجراء عمليات البحث التالية بسرعة من الذاكرة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="eeadb-262">واحد الأسباب الشائعة للأداء السيئ هو ما إذا كان يتم استخدام معرف تقويم منفصل لكل مورد، لان البيانات يجب ان يتم طلبها لكل تقويم علي الرغم من ان محتوى التقويم قد يكون هو نفسه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="eeadb-263">قدرة محدودة</span><span class="sxs-lookup"><span data-stu-id="eeadb-263">Finite capacity</span></span>

<span data-ttu-id="eeadb-264">عند استخدام قدره إنتاجية محدوده، يتم تقسيم الفترات الزمنيه الخاصة بالعمل من التقويم وتقليلها بناء علي عمليات الحفاظ علي القدرة الإنتاجية الموجودة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="eeadb-265">يتم جلب عمليات الحجز هذه أيضا من خلال فئة `WrkCtrSchedulingInteropDataProvider` نفسها مثل التقويمات، ولكن بدلا من ذلك تستخدم الطريقة `getCapacityReservations`.</span><span class="sxs-lookup"><span data-stu-id="eeadb-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="eeadb-266">عند الجدولة اثناء التخطيط الرئيسي، يتم اعتبار عمليات حجز الخطة الرئيسية المحددة، وفي حاله تمكينها على صفحة **معلمات التخطيط الرئيسي** ، يتم تضمين عمليات الحجز من أوامر الإنتاج المؤكدة أيضا.</span><span class="sxs-lookup"><span data-stu-id="eeadb-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="eeadb-267">بالمثل، عند جدوله أمر إنتاج، فهو أيضا خيار لتضمين عمليات الحجز من الأوامر المخططة الموجودة، على الرغم من ان ذلك ليس شائعا كما هو الحال مع الطريقة الأخرى.</span><span class="sxs-lookup"><span data-stu-id="eeadb-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="eeadb-268">سيؤدي إلى استخدام القدرة الإنتاجية المحدودة إلى استغراق الجدولة لمده أطول نظرا لأسباب عديده:</span><span class="sxs-lookup"><span data-stu-id="eeadb-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="eeadb-269">ان إحضار معلومات القدرة الإنتاجية من قاعده البيانات هو عمليه بطيئه وعاده ما لا يكون التخزين المؤقت من جانب الخادم لمعلومات القدرة جيدا كما هو الحال بالنسبة لأوقات العمل بسبب عدم مشاركتها بين الموارد مثل التقويمات بشكل نموذجي.</span><span class="sxs-lookup"><span data-stu-id="eeadb-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="eeadb-270">يجب عاده التحقق من عدد فترات وقت العمل لاجتياز الزيادات، وفترات زمنيه أطول قبل العثور علي الحل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="eeadb-271">بعد الانتهاء من الجدولة، يجب اجراء فحص لعمليات الحجز المتعارضة (راجع قسم "تشغيل محركات الجدولة بالتوازي" للحصول علي التفاصيل).</span><span class="sxs-lookup"><span data-stu-id="eeadb-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="eeadb-272">فحص مجموعات الموارد</span><span class="sxs-lookup"><span data-stu-id="eeadb-272">Examining the resource combinations</span></span>

<span data-ttu-id="eeadb-273">إذا كان تسلسل الوظيفة يحتوي فقط علي ارتباطات `FinishStart` القياسية، مما يعني انه يتم الحصول علي سلسله بسيطه بدون أيه فروع، فان النتيجة المُثلى (المشاهدة من الأمر الفردي، وليس عبر الأوامر) يمكن تحقيقها من خلال البحث عن أفضل حل للمهمة الاولي ثم الانتقال إلى للعثور علي أفضل حل للوظيفة التالي.</span><span class="sxs-lookup"><span data-stu-id="eeadb-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="eeadb-274">ويعني أفضل حل لأحدي الوظائف العثور علي المورد الذي يمكنه الحصول علي البداية والتاريخ الأقرب لهدف الوظيفة (في جدوله إعاده التوجيه وهذا يعني الحصول علي تاريخ انتهاء المهمة في أقرب وقت ممكن) مع استمرار احترام القيود.</span><span class="sxs-lookup"><span data-stu-id="eeadb-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="eeadb-275">عند وجود مهام متوازية، قد يتضمن البحث عن حل فحص مجموعات مختلفه من الموارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="eeadb-276">ويعد عدد مجموعات الموارد المحتملة هو حاصل ضرب عدد الموارد القابلة للتطبيق للوظائف المتوازية المتصلة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="eeadb-277">وخصوصا عند جدوله أمر للخلف من تاريخ الطلب، فقد يستغرق الأمر بعض الوقت لضمان عدم وجود حل للمشكلة التي ستقوم بملاءمة الوظائف الموازية قبل تاريخ اليوم، كما ستحتاج إلى فحص كافة المجموعات نظرا لوجود بعض الموارد التي كانت تحتوي علي كفاءه عاليه أو تقويم مختلف قد يعطي نتيجة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="eeadb-278">وهذا يعني انه في حاله عدم تعيين حد مهله، سيتم تشغيله لفتره طويلة قبل تغيير الاتجاه إلى الامام.</span><span class="sxs-lookup"><span data-stu-id="eeadb-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="eeadb-279">ويشير هذا المنطق الاندماجي أيضا إلى ان إضافه موارد أخرى قابله للتطبيق قد تجعل المحرك يعمل بشكل أبطأ.</span><span class="sxs-lookup"><span data-stu-id="eeadb-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="eeadb-280">إذا حدثت مشاكل في الأداء اثناء وجود عمليات متوازية وجدوله بقدره إنتاجية غير محدوده، فيمكن إصلاحها جزئيا وذلك بجعل مصمم التوجيه ياخذ قرارا علي المورد الذي يجب استخدامه ثم تعيين المورد مباشره في العملية (لان المحرك في معظم الحالات سيقوم دائما بإنهاء الملء بنفس المورد، لذا ستكون النتيجة بالمثل).</span><span class="sxs-lookup"><span data-stu-id="eeadb-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="eeadb-281">ارتباطات ثابته</span><span class="sxs-lookup"><span data-stu-id="eeadb-281">Hard links</span></span>

<span data-ttu-id="eeadb-282">ويؤدي تعيين نوع الارتباط بين جهازين إلى قرص ثابت إلى ضمان عدم وجود فجوه زمنيه بين نهاية وظيفة واحده وبداية المهمة التالية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="eeadb-283">يمكن ان يكون هذا مفيدا جدا في مواقف مثل عند تسخين المعدن في وظيفة واحده، ثم يتم معالجته في الوظيفة التالية، حيث لا يكون من المطلوب جعل المعدن باردا لأسفل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="eeadb-284">باستخدام الارتباطات القياسية والجدولة الآجله للامام، إذا كانت المسار عبارة عن سلسله بسيطه بدون أيه فروع، يمكن الحصول علي النتيجة عن طريق البحث عن حل للمهمة الاولى التي تفي بالقيود الخاصة بها وبعد ذلك المواصلة عبر السلسلة التي تنشر وقت الانتهاء من الوظيفة السابقة إلى الوظيفة التالية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="eeadb-285">إذا تعذر علي الوظيفة الحالية العثور علي أيه قدره إنتاجية، سيتم نقل وقت البدء الخاص بها بشكل أكبر، دون ان يتم التاكد من عدم وجود إيه نتيجة للوظائف السابقة لإنشاء فجوات بين الوظائف.</span><span class="sxs-lookup"><span data-stu-id="eeadb-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="eeadb-286">ومع ذلك، مع وجود ارتباطات ثابته (خاصه بقدره محدوده) لنفس السيناريو، فان الحقيقة ان مهمة واحده لاحقا في السلسلة لا يمكنها العثور علي القدرة الإنتاجية، ويعني ذلك انه يجب ان تكون كافة الوظائف المجدولة السابقة "مسحوبة" علي الطريق واحده تلو الأخرى وإعاده جدولتها عدة مرات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="eeadb-287">وبشكل خاص في حالات التحميل العالي لموارد متعددة، يمكن ان تؤدي الارتباطات الثابتة إلى سلسله ردود أفعال حيث ستؤثر المهام علي بعضها البعض ويجب اجراء عدد من التكرارات قبل ان يعمل على استقرار النتيجة إلى جدول مُجدي.</span><span class="sxs-lookup"><span data-stu-id="eeadb-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="eeadb-288">تشغيل محركات جدولة بالتوازي</span><span class="sxs-lookup"><span data-stu-id="eeadb-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="eeadb-289">عند اجراء الجدولة كجزء من تشغيل التخطيط الرئيسي حيث يتم استخدام المساعدين، يمكن لكل من مؤشرات ترابط مساعد التخطيط الرئيسية أيضا انتقاء مهام جدوله أمر الإنتاج.</span><span class="sxs-lookup"><span data-stu-id="eeadb-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="eeadb-290">وهذا يعني ان مشغلات الجدولة المتعددة يمكن تشغيلها في نفس الوقت.</span><span class="sxs-lookup"><span data-stu-id="eeadb-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="eeadb-291">بينما تعد الميزات العامة للأداء فائده كبيره في الأداء، فهناك أيضا بعض عمليات التقليل الوظيفية عند العمل بالجدولة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="eeadb-292">في MRP، تتم جدوله كافة أوامر الإنتاج الخاصة بمستوي شجره المواد (BOM) المحددة بتسلسل تاريخ الطلب، مما يعني انه يجب جدوله تلك الطلبات التي لها تاريخ الطلب الأول أولا التالي الفرصة الأعلى للحصول علي قدرة إنتاج الموارد المتاحة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="eeadb-293">ومع ذلك، فانه مع انتقاء العديد من المحركات من قائمه الأوامر غير المجدولة لم يعد التسلسل مضمونًا، لان أحد الأوامر التي قد تكتمل أسرع من الآخر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="eeadb-294">أيضا، عند الجدولة باستخدام قدره محدوده وعند محاولة العديد من مثيلات المحرك جدوله الأوامر التي من المحتمل ان تستخدم نفس الموارد في نفس الفترة الزمنيه، يمكن ان يحدث شرط سباق.</span><span class="sxs-lookup"><span data-stu-id="eeadb-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="eeadb-295">يتم تسجيل عدد حالات السباق في الحقل **تعارضات الجدولة** في الصفحة محفوظات الخطط الرئيسية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="eeadb-296">ويكون منطق حل التعارض كما يلي:</span><span class="sxs-lookup"><span data-stu-id="eeadb-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="eeadb-297">جدوله أمر (بدون تأمين) والحصول علي حجوزات القدرة الإنتاجية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="eeadb-298">قم بالتامين.</span><span class="sxs-lookup"><span data-stu-id="eeadb-298">Take the lock.</span></span>
- <span data-ttu-id="eeadb-299">تحقق مما إذا كانت حجوزات القدرة الإنتاجية الأحدث موجودة للموارد المجدولة في الفترة الزمنيه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="eeadb-300">إذا كانت القيمة كذلك، فاكتب القدرة الإنتاجية واترك التامين.</span><span class="sxs-lookup"><span data-stu-id="eeadb-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="eeadb-301">إذا كانت الاجابه بنعم، قم بتحرير التامين وإعاده جدوله الأمر من البداية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="eeadb-302">لذلك، عند الجدولة بمثيلات متعددة للمحرك، لا تكون النتيجة قابله للتحديد بشكل كامل لأنها ستعتمد علي التوقيت الصحيح لكل من مؤشرات الترابط.</span><span class="sxs-lookup"><span data-stu-id="eeadb-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="eeadb-303">أداء جدوله العمليات</span><span class="sxs-lookup"><span data-stu-id="eeadb-303">Operation scheduling performance</span></span>

<span data-ttu-id="eeadb-304">علي الرغم من ان جدوله العمليات تعرف أيضا بالتخطيط الخاص بالقدرة علي قطع الاستخدام، والتي تمت مشاهدتها عن وجهة المحرك، فقد تكون مشكله يصعب حلها في حاله استخدام القدرة المحدودة، كلما كانت هناك حاجه لمزيد من البيانات لتحديد الدراسة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="eeadb-305">تعتمد سعة مجموعه الموارد علي الموارد الأعضاء في مجموعه الموارد وعددها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="eeadb-306">ولا تتوفر لمجموعه الموارد الموجودة بنفسها إيه قدره &mdash;فقط عندما تكون الموارد عضوا في المجموعة سيكون لها قدره.</span><span class="sxs-lookup"><span data-stu-id="eeadb-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="eeadb-307">نظرا لامكانيه اختلاف عضويه مجموعه الموارد مع مرور الوقت، يجب ان يتم تقييم القدرة لكل يوم.</span><span class="sxs-lookup"><span data-stu-id="eeadb-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="eeadb-308">في جدوله العمليات، يتم استخدام تقويم مجموعه الموارد لتحديد وقتي البدء والانتهاء لكل عمليه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="eeadb-309">وهذا يعني ان تقويم مجموعه المورد يضع حدا لمقدار الوقت الذي يمكن فيه جدوله العمليات لعمليه واحده في أحد مجموعات الموارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="eeadb-310">بعكس تقويم الموارد المحددة، يتم تجاهل بيانات الكفاءة الخاصة بالتقويم لمجموعه الموارد كما تشير ببساطه إلى الساعات المفتوحة وليس القدرة الفعلية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="eeadb-311">علي سبيل المثال، إذا كان وقت العمل لإحدي مجموعات الموارد في تاريخ محدد هو من 8:00 إلى 16:00 ، لا يمكن وضع عمليه واحده علي الأقل في مجموعه الموارد مقارنه بالقدرة التي يكون بها مجموعه الموارد متاحه إجمالا في هذا اليوم.</span><span class="sxs-lookup"><span data-stu-id="eeadb-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="eeadb-312">ومع ذلك، يمكن للقدرة المتاحة تحديد التحميل بشكل أكبر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="eeadb-313">يعتبر التحميل من جدوله الوظائف علي كافة الموارد المضمنة في مجموعه الموارد في يوم محدد عندما يتم حساب القدرة المتوفرة لمجموعه الموارد في نفس اليوم.</span><span class="sxs-lookup"><span data-stu-id="eeadb-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="eeadb-314">بالنسبة لكل تاريخ، تكون العملية الحسابية هي:</span><span class="sxs-lookup"><span data-stu-id="eeadb-314">For each date, the calculation is:</span></span>

> <span data-ttu-id="eeadb-315">قدرة مجموعة الموارد المتاحة =</span><span class="sxs-lookup"><span data-stu-id="eeadb-315">Available resource group capacity =</span></span>  
> <span data-ttu-id="eeadb-316">(قدره الموارد في المجموعة استنادا إلى التقويم الخاص بها) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-316">(capacity for resources in the group based on their calendar) -</span></span>  
> <span data-ttu-id="eeadb-317">(التحميل المجدول للوظيفة في الموارد الموجودة في المجموعة) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-317">(job scheduled load on the resources in the group) -</span></span>  
> <span data-ttu-id="eeadb-318">(العمليات المجدولة للوظيفة في الموارد الموجودة في المجموعة) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-318">(operations scheduled load on the resources in the group) -</span></span>  
> <span data-ttu-id="eeadb-319">(العمليات المجدولة للوظيفة في مجموعة الموارد) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-319">(operations scheduled load on the resource group)</span></span>

<span data-ttu-id="eeadb-320">في علامة التبويب **متطلبات الموارد** في مسار العمليات ، يمكن تحديد متطلبات المورد باستخدام مورد محدد (في هذه الحالة سيتم جدوله العملية باستخدام ذلك المورد) أو لمجموعه موارد أو لنوع مورد أو لقدره أو مهارة أو دوره تدريبيه أو شهادة واحده أو أكثر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-320">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="eeadb-321">بينما ان استخدام كافة هذه الخيارات يعطي مرونة رائعه علي تصميم التوجيه ، فانه أيضا يعقد جدوله المشغل نظرا لأنه يجب حساب القدرة لكل "خاصيه" (الاسم المجرد المستخدم في المشغل للقدرة والمهارات وغيرها).</span><span class="sxs-lookup"><span data-stu-id="eeadb-321">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="eeadb-322">قدره مجموعه الموارد لإمكانية ما هي مجموع القدرة لكافة الموارد الموجودة في مجموعه الموارد التي لها القدرة محل التساؤل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-322">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="eeadb-323">إذا كان لأحد الموردين في المجموعة امكانيه، سيتم اعتباره بغض النظر عن مستوي القدرة المطلوب.</span><span class="sxs-lookup"><span data-stu-id="eeadb-323">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="eeadb-324">في جدوله العمليات، سيتم تقليل القدرة المتوفرة لقدره معينه لإحدي مجموعات الموارد عند تحميلها بعمليه تتطلب القدرة المعنية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-324">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="eeadb-325">وإذا تطلبت العملية أكثر من امكانيه واحده، سيتم تقليل القدرة علي كافة القدرات المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-325">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="eeadb-326">بالنسبة لكل تاريخ، تكون العملية الحسابية المطلوبة هي:</span><span class="sxs-lookup"><span data-stu-id="eeadb-326">For each date, the required calculation is:</span></span>

> <span data-ttu-id="eeadb-327">القدرة المتوفرة لإمكانية =</span><span class="sxs-lookup"><span data-stu-id="eeadb-327">The available capacity for a capability =</span></span>  
> <span data-ttu-id="eeadb-328">(قدره الإمكانية) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-328">(the capacity for the capability) -</span></span>  
> <span data-ttu-id="eeadb-329">(التحميل المجدول للوظيفة في الموارد بالقدرة المحددة؛ مضمن في مجموعه الموارد) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-329">(job scheduled load on the resources with the specific capability, included in the resource group) -</span></span>  
> <span data-ttu-id="eeadb-330">(التحميل المجدول للعمليات في الموارد بالقدرة المحددة؛ مضمن في مجموعه الموارد) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-330">(operations scheduled load on the resources with the specific capability, included in the resource group) -</span></span>  
> <span data-ttu-id="eeadb-331">(التحميل المجدول للعمليات في الموارد نفسها التي تتطلب الإمكانية المعينة) -</span><span class="sxs-lookup"><span data-stu-id="eeadb-331">(operations scheduled load on the resource group itself that require the specific capability)</span></span>

<span data-ttu-id="eeadb-332">وهذا يعني انه في حاله وجود حمل علي مورد محدد، يتم أخذ الحمل في حساب القدرة المتوفرة لمجموعه الموارد لكل قدره، وذلك لان التحميل علي مورد محدد يقلل من إسهامه في القدرة الخاصة بمجموعه الموارد بسبب القدرة المحددة، وذلك إذا كان التحميل في المورد المحدد خاص بهذه القدرة</span><span class="sxs-lookup"><span data-stu-id="eeadb-332">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="eeadb-333">في حاله وجود تحميل علي مستوي مجموعه الموارد، فانه يعتبر حساب القدرة المتوفرة لمجموعه الموارد لكل قدره فقط إذا كان التحميل من عمليه تتطلب امكانيه معينه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-333">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="eeadb-334">المنطق أعلاه هو معقد، حيث ان هذا هو نفسه لكل نوع من "الخاصية" لذا تتطلب العمليات التي تكون فيها القدرة علي جدوله العمليات مقدارا كبيرا من البيانات ليتم تحميلها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-334">The above logic is complicatd, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="eeadb-335">عرض إدخال وإخراج مشغل الجدولة</span><span class="sxs-lookup"><span data-stu-id="eeadb-335">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="eeadb-336">للحصول علي التفاصيل الخاصة بإدخال وإخراج عمليه الجدولة، قم بتمكين التسجيل بالانتقال إلى **أداره المؤسسة \>اعداد \>جدوله \> جدوله تتبع أداه cockpit** .</span><span class="sxs-lookup"><span data-stu-id="eeadb-336">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit** .</span></span>

<span data-ttu-id="eeadb-337">في هذه الصفحة، حدد أولا **تمكين التسجيل** في جزء الإجراءات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-337">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="eeadb-338">بعد ذلك قم بتشغيل الجدولة لأمر الإنتاج.</span><span class="sxs-lookup"><span data-stu-id="eeadb-338">Then run the scheduling for the production order.</span></span> <span data-ttu-id="eeadb-339">عند الانتهاء، ارجع إلى صفحه **أداه cockpit لتتبع الجدولة** وحدد **تعطيل التسجيل** في جزء الإجراءات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-339">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="eeadb-340">سيظهر تحديث الصفحة وسطر جديد في الشبكة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-340">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="eeadb-341">حدد السطر الجديد، ثم حدد **تنزيل** في جزء الإجراءات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-341">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="eeadb-342">سيعطي لك ذلك مجلدا مضغوطا من نوع zip يحتوي علي الملفات التالية:</span><span class="sxs-lookup"><span data-stu-id="eeadb-342">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="eeadb-343">**Txt.** -هذا هو ملف السجل الذي يصف الخطوات التي يمر بها المحرك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-343">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="eeadb-344">فهذا دقيق جدا ويمكن ان يكون مزعجا قليلا، ولكن عند استخدامه كجزء من تجربه التوجيه لحل مشكلات الأداء الأول من الأمور التي يجب البحث عنها هي الفرق في الوقت بين السطر الأول والسطر الأخير، كما سيمنحك ذلك نفس الوقت الذي استغرقه المجدول.</span><span class="sxs-lookup"><span data-stu-id="eeadb-344">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="eeadb-345">**XmlModel.xml** - يحتوي ذلك علي النموذج المضمن في X++ والذي يعمل عليه المحرك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-345">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="eeadb-346">`JobId` المستخدم في الملف الذي يرتبط بـ `RecId` من الجدول المصدر والذي يحتوي علي الوظائف ( `ReqRouteJob` أو `ProdRouteJob`).</span><span class="sxs-lookup"><span data-stu-id="eeadb-346">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="eeadb-347">والشيء النموذجي الذي يجب البحث عنه في هذا الملف هو ان التواريخ المذكورة في `ConstraintJobStartsAt` و`ConstraintJobEndsAt` كما هي متوقعه، `JobGoal` وانه قد تم تعيين الخاصية بشكل صحيح، وان الوظائف مرتبطة ببعضها البعض من خلال قيود `JobLink`.</span><span class="sxs-lookup"><span data-stu-id="eeadb-347">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="eeadb-348">**XmlSlots.xml** - يحتوي علي كافة حجوزات القدرة وأوقات العمل التي قام المحرك بطلبها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-348">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="eeadb-349">سيتم طلب أوقات وحجوزات التقويم فقط بواسطة المحرك للفترات الزمنيه التي يحاول فيها وضع المهام (ومخزن مؤقت إضافي)، التالي إذا كان الملف يحتوي علي أوقات بعيده في المستقبل، فقد يكون ذلك اشاره إلى وجود مشكله في الاعداد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-349">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="eeadb-350">ستظهر عُقد `ResourceProperty` لكل مورد من مجموعات الموارد والقدرات المقترنة بها للفترات المرتبطة بالفترات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-350">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="eeadb-351">**Result.xml** - تحتوي علي نتيجة تشغيل الجدولة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-351">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="eeadb-352">لاحظ ان وظيفة التتبع يمكن ان تضيف حملا كبيرا علي الأداء، لذلك لا تستخدمه الا لتحقيق جدوله لأوامر محدده بطريقه يمكن التحكم بها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-352">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="eeadb-353">إذا تم تشغيله اثناء تشغيل التخطيط الرئيسي، سيصل سريعا إلى حد الحجم الخاص به والإيقاف.</span><span class="sxs-lookup"><span data-stu-id="eeadb-353">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="eeadb-354">أداء استكشاف الأخطاء وإصلاحها</span><span class="sxs-lookup"><span data-stu-id="eeadb-354">Troubleshooting performance</span></span>

<span data-ttu-id="eeadb-355">كما يمكن فهمها من كافة المقاطع السابقة، هناك بعض العقبات عندما يتعلق باعداد محرك الجدولة واستخدامه، والذي قد يؤدي إلى حدوث مشاكل في الأداء.</span><span class="sxs-lookup"><span data-stu-id="eeadb-355">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="eeadb-356">يمكن استخدام قائمه الاختيار التالية لاستكشاف أخطاء مثل هذه المشكلات وإصلاحها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-356">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="eeadb-357">من المهم النظر إلى كل النقاط بمجرد ان تكون في اغلب الأحيان مجموعه من العوامل المتعددة التي تؤدي إلى مشاكل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-357">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="eeadb-358">اجراء الجدولة كجزء من MRP عندما لا تكون هناك حاجه اليها</span><span class="sxs-lookup"><span data-stu-id="eeadb-358">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="eeadb-359">الرغم من استخدام المسارات لأغراض التحكم في الإنتاج مثل التكاليف واعداد التقارير، فقد لا يكون من الضروري مراعاه ذلك اثناء MRP.</span><span class="sxs-lookup"><span data-stu-id="eeadb-359">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="eeadb-360">في بعض الحالات، سيكون لوقت الإنتاج القياسي المحدد للصنف كافيا للتخطيط.</span><span class="sxs-lookup"><span data-stu-id="eeadb-360">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="eeadb-361">لإيقاف تشغيل جدوله المسارات، قم بتعيين الحد الزمني للقدرة إلى صفر.</span><span class="sxs-lookup"><span data-stu-id="eeadb-361">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="eeadb-362">في حاله ضرورة اجراء الجدولة ، يجب تعيين الحد الزمني للقدرة بعناية نظرا لأنه قد لا يكون من الضروري التفكير في المسارات الكاملة للنطاق الزمني الخاص بتغطيه MRP.</span><span class="sxs-lookup"><span data-stu-id="eeadb-362">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="eeadb-363">لاحظ انه في حاله عدم جدوله الأمر اثناء MRP، ستحتاج بدلا من ذلك إلى جدولته عند تاكيد الأمر المخطط.</span><span class="sxs-lookup"><span data-stu-id="eeadb-363">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="eeadb-364">وهذا يعني ان عمليه التاكيد ستستغرق وقتا أطول، لذلك بناء علي عدد من الأوامر المخططة المقترحة التاكيد الحصول علي الأداء الذي سيتم فيه فقد الحصول علي الأداء اثناء MRP عند التاكيد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-364">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="eeadb-365">توجيه مع عمليات غير ضرورية</span><span class="sxs-lookup"><span data-stu-id="eeadb-365">Route with unnecessary operations</span></span>

<span data-ttu-id="eeadb-366">عند تصميم المسار، فانه من المفضل محاولة صياغة العالم الحقيقي بالضبط مع كل الخطوات التي يمر بها الإنتاج.</span><span class="sxs-lookup"><span data-stu-id="eeadb-366">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="eeadb-367">بينما يمكن ان يكون ذلك مفيدا في بعض الحالات، الا انه ليس من الجيد الأداء كنموذج يحتاج المحرك للعمل بشكل أكبر (سواء في الوظائف والقيود) سيتم تنفيذ المزيد من جمل SQL لادراج الوظائف وعمليات الحفاظ علي القدرة وتحديثها.</span><span class="sxs-lookup"><span data-stu-id="eeadb-367">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="eeadb-368">كما ان هناك التأثير اللاحق باتجاه التالي لتقديم تقرير عن مدي التقدم في الوظائف، والتي يمكن ان تقليلها مع عمليات الترحيل التلقائية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-368">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="eeadb-369">في حاله عدم استخدام البيانات لأي شيء، سيتم إنشاء تحميل غير ضروري.</span><span class="sxs-lookup"><span data-stu-id="eeadb-369">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="eeadb-370">نوصيك بإنشاء العمليات المطلوبة فقط للجدولة (والتي عاده ما تكون موارد الأزمات) و/أو أغراض التكلفة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-370">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="eeadb-371">وبدلا من ذلك، يجب تجميع العديد من العمليات المميزة الأصغر في عمليه واحده أكبر تمثل جزءا أكبر من العملية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-371">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="eeadb-372">العديد من الموارد القابلة للتطبيق للعمليات</span><span class="sxs-lookup"><span data-stu-id="eeadb-372">Many applicable resources for an operation</span></span>

<span data-ttu-id="eeadb-373">يتم تحديد عدد الموارد القابلة للتطبيق لإحدي العمليات بواسطة متطلبات الموارد المعينة في علاقة العملية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-373">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="eeadb-374">يمكن ان يكون المتطلب لمورد محدد (فردي) أو يمكن ان يعتمد علي عضويه المورد لقدره أو مجموعه موارد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-374">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="eeadb-375">إذا لم يتم اجراء الجدولة باستخدام قدره محدوده وكانت كافة الموارد القابلة للتطبيق تملك نفس التقويم والكفاءة، سيقوم محرك الجدولة دائما بإنهاء عمليه الانتقاء لنفس المورد لأحدي العمليات، ولكن فقط بعد محاولة كافة الموارد القابلة للتطبيق للتحقق مما إذا كان هناك أحد الموارد الأخرى.</span><span class="sxs-lookup"><span data-stu-id="eeadb-375">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="eeadb-376">وفي هذه الحالة، يمكن ان يكون تحميل الجدولة اقل بكثير من خلال تعيين مورد محدد دائما إلى العملية في وقت التصميم الخاص بالمسار.</span><span class="sxs-lookup"><span data-stu-id="eeadb-376">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="eeadb-377">المسار الذي يتضمن عمليات متوازية</span><span class="sxs-lookup"><span data-stu-id="eeadb-377">Route with parallel operations</span></span>

<span data-ttu-id="eeadb-378">في حين ان العمليات المتوازية (الاساسيه/الثانوية) هي أداه فعاله لنماذج وحدات السيناريو مثل الجهاز وعامل التشغيل المطلوب لتنفيذ مهمة معينه، فهو أيضا مصدر العديد من مشكلات الأداء.</span><span class="sxs-lookup"><span data-stu-id="eeadb-378">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="eeadb-379">في حاله تعيين متطلب لمورد فردي محدد لكل من العملية الاساسيه والثانوية، فعاده ليست مشكله.</span><span class="sxs-lookup"><span data-stu-id="eeadb-379">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="eeadb-380">ولكن إذا كان هناك العديد من الموارد المحتملة لكل عمليه من هذه العمليات، فانه يقوم باضافه مستوي التعقيد الحسابي الملموس إلى الجدولة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-380">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="eeadb-381">وهناك بديل لاستخدام العمليات المتوازية لصياغة الأزواج كموارد "ظاهريه" (والتي ستمثل الفريق الذي يتم الوصول اليه معا للعملية) أو بدون النموذج لأحدي العمليات إذا لم تكن تمثل أزمة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-381">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="eeadb-382">مسار يتضمن كمية من الموارد أعلى من واحد</span><span class="sxs-lookup"><span data-stu-id="eeadb-382">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="eeadb-383">إذا قمت باعداد كميه الموارد المطلوبة لعمليه اعلي من واحد، فان ذلك ينتج بشكل فعال نفس الطريقة التي يتم بها استخدام عمليات أساسيه/ثانويه نظرا لإرسال الوظائف المتوازية المتعددة إلى المحرك.</span><span class="sxs-lookup"><span data-stu-id="eeadb-383">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="eeadb-384">ومع ذلك ، بالنسبة لهذه الحالة، لا يوجد خيار باستخدام تعيينات الموارد المحددة، لان الكمية الأعلى من واحد تتطلب ان يكون هناك أكثر من مورد واحد قابلا للتطبيق علي العملية.</span><span class="sxs-lookup"><span data-stu-id="eeadb-384">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="eeadb-385">الاستخدام الجائر لقدرة محدودة</span><span class="sxs-lookup"><span data-stu-id="eeadb-385">Excessive use of finite capacity</span></span>

<span data-ttu-id="eeadb-386">ويتطلب استخدام القدرة المحدودة ان يقوم المشغل بتحميل معلومات القدرة من قاعده بيانات ويمكن ان يكون لها حموله حسابيه لأنه من الصعب العثور علي حل بشكل خاص في البيئات التي يتم فيها حجز الموارد قريبا من سعتها القصوى.</span><span class="sxs-lookup"><span data-stu-id="eeadb-386">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="eeadb-387">ونتيجة لذلك، فانه من المهم الحرص عند تقييم ما إذا كان أحد الموارد يحتاج إلى استخدام قدره محدوده أو محجوزًا بشكل زائد.</span><span class="sxs-lookup"><span data-stu-id="eeadb-387">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="eeadb-388">ونظرا لاحتمال وجود اختلاف بين موارد القدرة المحدودة في المدى المهم ان تكون هذه المجموعات غير قابله لأعاده التجميع، فاننا نوصي باستخدام خيار الازدحام في أحد الموارد التي يتم تجميعها مع قيمه منفصلة في الخطة في "الحد الزمني للقدرة" لموارد ألازمات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-388">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="eeadb-389">يمكن ان يؤدي استخدام مفهوم اختناق إلى تمكين تخفيض الحد الزمني للقدرة المحدودة المحدود.</span><span class="sxs-lookup"><span data-stu-id="eeadb-389">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="eeadb-390">اعداد الارتباطات الصلبة</span><span class="sxs-lookup"><span data-stu-id="eeadb-390">Setting hard links</span></span>

<span data-ttu-id="eeadb-391">ونوع الارتباط القياسي الخاص بالمسار هو *مرن* الذي يعني السماح بوجود فجوة زمنيه بين الوقت النهائي لأحدي العمليات وبداية الأمر التالي.</span><span class="sxs-lookup"><span data-stu-id="eeadb-391">The standard link type of the route is *soft* , which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="eeadb-392">السماح بهذه التاثير، فانه إذا كانت المواد أو القدرة غير متوفرة لأحدي العمليات لوقت طويل جدا، فان الإنتاج قد يكون خاملا لفتره من الوقت، مما يعني زيادة محتمله للعمل الجاري.</span><span class="sxs-lookup"><span data-stu-id="eeadb-392">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="eeadb-393">لن يحدث هذا مع الارتباطات الثابتة لان الإنهاء والبدء يجب ان يتزامنا بشكل تام.</span><span class="sxs-lookup"><span data-stu-id="eeadb-393">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="eeadb-394">ولكن يؤدي تعيين الارتباطات الثابتة إلى صعوبة في الجدولة نظرا لأنه يجب حساب نقاط العمل وتقاطع القدرة لموردي العمليات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-394">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="eeadb-395">وفي حاله تضمين عمليات متوازية، فان هذا يضيف التوقيت الحسابي الملموس.</span><span class="sxs-lookup"><span data-stu-id="eeadb-395">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="eeadb-396">إذا كانت موارد العمليتين لها تقويمات مختلفه لا تتراكب علي الإطلاق، المشكلة غير قابلة للحل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-396">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="eeadb-397">نوصي باستخدام الارتباطات الثابتة فقط عند الضرورة، وخذ بعناية جيده إذا كان ذلك ضروريا لكل عمليه من عمليات المسار.</span><span class="sxs-lookup"><span data-stu-id="eeadb-397">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="eeadb-398">لتقليل العمل قيد التقدم دون تطبيق ارتباطات ثابته، فان الدورة هي جدوله الأمر مرتين مع التغيير إلى الاتجاه المعاكس للمسار الثاني.</span><span class="sxs-lookup"><span data-stu-id="eeadb-398">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="eeadb-399">إذا تمت أعاده الجدولة الاولى للخلف من تاريخ التسليم، فيجب ان تتم الثانية من تاريخ البدء المجدول.</span><span class="sxs-lookup"><span data-stu-id="eeadb-399">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="eeadb-400">سيؤدي ذلك إلى ضغط الوظائف التي يتم ضغطها بقدر المستطاع بحيث يتم تصغير العمل الجاري.</span><span class="sxs-lookup"><span data-stu-id="eeadb-400">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="eeadb-401">تقويم منفصل لكل مورد</span><span class="sxs-lookup"><span data-stu-id="eeadb-401">Separate calendar for each resource</span></span>

<span data-ttu-id="eeadb-402">أحد مصادر البيانات الرئيسية لمحرك الجدولة هو معلومات التقويم، والتي يمكن ان تكون مكلفه للتحميل من قاعده البيانات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-402">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="eeadb-403">ونظرا لإنشاء التقويمات استنادا إلى القوالب، يفضل إنشاء تقويم لكل مورد ثم تعديل المعلومات الموجودة في هذا التقويم عندما يكون للمورد فتره توقف ومشكلات أخرى.</span><span class="sxs-lookup"><span data-stu-id="eeadb-403">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="eeadb-404">ومع ذلك ، فان القيام بذلك يؤدي إلى الحد من قدره المحركات علي التخزين المؤقت لبيانات التقويم بالشكل الذي يحتاجها لطلب بيانات جديده لكل مورد ويمكن ان يكون مصدرا كبيرا لمشاكل الأداء.</span><span class="sxs-lookup"><span data-stu-id="eeadb-404">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="eeadb-405">وبدلا من ذلك، نوصي باعاده استخدام التقويمات بقدر الإمكان بين الموارد ، ثم التحكم في تغييرات فتره التعطل عن طريق تعيين معرف تقويم مختلف لأحدي الفترات.</span><span class="sxs-lookup"><span data-stu-id="eeadb-405">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="eeadb-406">عدد كبير لفترات وقت العمل لكل يوم في التقويم</span><span class="sxs-lookup"><span data-stu-id="eeadb-406">High number of working time slots per calendar day</span></span>

<span data-ttu-id="eeadb-407">ونظرا لان المحرك يعمل بتفحص الفترات الزمنيه واحدا تلو الآخر للحصول علي القدرة، فانه من المفيد تقليل عدد الفترات الزمنيه لكل يوم من أيام التقويم.</span><span class="sxs-lookup"><span data-stu-id="eeadb-407">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="eeadb-408">ويمكن اجراء ذلك، علي سبيل المثال، بالأخذ في الاعتبار ما إذا كان من المهم للجدول الناتج توضيح ان العمال لديهم فتره راحة بمقدار 5 دقائق كل ساعة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-408">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="eeadb-409">مهله جدوله كبيره (أو بلا)</span><span class="sxs-lookup"><span data-stu-id="eeadb-409">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="eeadb-410">يمكن تحسين أداء محرك الجدولة باستخدام المعلمات التي تم العثور عليها في صفحه **معلمات الجدولة** .</span><span class="sxs-lookup"><span data-stu-id="eeadb-410">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="eeadb-411">ويجب دائما تعيين **مهله الجدولة الممكنة** و **الجدولة للإعدادات التي تم تمكينها** لتحديد مهله التحسين إلى **نعم** .</span><span class="sxs-lookup"><span data-stu-id="eeadb-411">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes** .</span></span> <span data-ttu-id="eeadb-412">في حاله التعيين علي **لا** ، يمكن ان يتم تشغيل الجدولة إلى ما لانهاية إذا تم إنشاء مسار غير ممكن بخيارات متعددة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-412">If set to **No** , the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="eeadb-413">وتتحكم قيمه **الحد الأقصى لوقت الجدولة لكل تسلسل** في عدد الثواني التي يمكن ان يستغرقها العثور علي حل لتسلسل فردي (في معظم الحالات يتوافق التسلسل مع أمر واحد).</span><span class="sxs-lookup"><span data-stu-id="eeadb-413">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="eeadb-414">تعتمد القيمة التي سيتم استخدامها هنا بشده علي تعقيد التوجيه والإعدادات مثل السعه المحدودة ، أوت مده الحد الأقصى لمده 30 ثانيه هي نقطه بداية جيده.</span><span class="sxs-lookup"><span data-stu-id="eeadb-414">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="eeadb-415">تتحكم القيمة الخاصة **بمهله محاولات تحسين الأداء** في عدد الثواني التي يمكن استخدامها للعثور علي حل أفضل عن تلك التي عثر عليها بالأصل.</span><span class="sxs-lookup"><span data-stu-id="eeadb-415">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="eeadb-416">سيؤثر ذلك فقط علي المسارات التي تستخدم العمليات المتوازية لأنها تجعل من الضروري اختبار مجموعات مختلفه.</span><span class="sxs-lookup"><span data-stu-id="eeadb-416">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="eeadb-417">سيتم تطبيق القيم التي تم تعيينها لمهلات المهل لجدوله أوامر الإنتاج التي تم إصدارها والأوامر المخططة كجزء من MRP.</span><span class="sxs-lookup"><span data-stu-id="eeadb-417">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="eeadb-418">ونتيجة لذلك، قد تتم أضافه قيم عاليه جدا بشكل كبير إلى وقت تشغيل MRP عند تشغيل خطه بالعديد من أوامر الإنتاج المخططة.</span><span class="sxs-lookup"><span data-stu-id="eeadb-418">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>
