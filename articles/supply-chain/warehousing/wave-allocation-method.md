---
title: توزيع الموجة
description: يوضح هذا الموضوع كيفيه اعداد خطوه توزيع الموجه، بما في ذلك كيفيه تمكين المعالجة المتوازية له.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: b01de3c9f1cbcb24abc2b5a0c91db7f0791020bf
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 05/11/2021
ms.locfileid: "6018993"
---
# <a name="wave-allocation"></a><span data-ttu-id="ba56b-103">توزيع الموجة</span><span class="sxs-lookup"><span data-stu-id="ba56b-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ba56b-104">يمكن ان تكون معالجه الموجه مضيعه للوقت، ويتم قضاء معظم وقت المعالجة في خطوه التوزيع وفي خطوه إنشاء العمل.</span><span class="sxs-lookup"><span data-stu-id="ba56b-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="ba56b-105">يمكنك الآن تشغيل كل من هذه الخطوات بالتوازي، والتي يمكنها تحسين أداء معالجه الموجه، والسماح بإنتاجيه أكبر من الامواجات في نفس المستودع.</span><span class="sxs-lookup"><span data-stu-id="ba56b-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="ba56b-106">يوضح هذا الموضوع كيفيه اعداد أسلوب توزيع الموجه للتشغيل بالتوازي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="ba56b-107">لمزيد من المعلومات حول كيفيه اعداد إنشاء العمل لتشغيله بشكل متواز، راجع [جدوله إنشاء العمل اثناء الموجه](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="ba56b-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="ba56b-108">من الممكن مسبقا تخصيص موجه واحد في المستودع في المرة الواحدة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="ba56b-109">تمت أزاله هذا القيد واستبداله بقيد جديد يقوم فقط بتامين الصنف والابعاد الموجودة اعلي الموقع في التدرج الهرمي للحجز.</span><span class="sxs-lookup"><span data-stu-id="ba56b-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="ba56b-110">تتضمن الابعاد الموجودة باعلي الموقع دائما ابعاد المنتج.</span><span class="sxs-lookup"><span data-stu-id="ba56b-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="ba56b-111">على سبيل المثال، إذا تم تكوين عنصر باستخدام *اللون*، فإنه يمكن معالجة متغيرات *الأحمر*، و *الأزرق*، و *الأصفر* بالتوازي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="ba56b-112">وهذا يعني انه في حاله تخصيص نفس العنصر بنفس الابعاد الموجودة اعلي الموقع بواسطة موجه واحد، سيتعين علي موجات أخرى الانتظار للحصول علي تامين علي نفس الصنف والابعاد.</span><span class="sxs-lookup"><span data-stu-id="ba56b-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="ba56b-113">في حاله تعذر الحصول علي التامين بطريقه في الوقت المناسب، سيحدث خطا ستفشل معالجه الموجه.</span><span class="sxs-lookup"><span data-stu-id="ba56b-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="ba56b-114">من أجل استخدام المعالجة المتوازية، يجب تشغيل الموجه في المجموعة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="ba56b-115">تحسينات الأداء</span><span class="sxs-lookup"><span data-stu-id="ba56b-115">Performance improvements</span></span>

<span data-ttu-id="ba56b-116">وتقع فوائد أداء المعالجة المتوازية في فئتين:</span><span class="sxs-lookup"><span data-stu-id="ba56b-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="ba56b-117">**الإنتاجية المحسنة** - سيقوم إنتاجيه الانتاجيه عاده بالتحسين حتى في حاله عدم تكوين المعالجة المتوازية، خاصه للسيناريوهات حيث لا يوجد تراكب للعناصر داخل موجات.</span><span class="sxs-lookup"><span data-stu-id="ba56b-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="ba56b-118">**تحسين التخصيص لموجة واحدة** - أظهر الاختبار على بيانات العملاء تحسنًا في الأداء يقارب 50٪ بعد التبديل إلى التخصيص المتوازي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="ba56b-119">يتم اجراء المعالجة المتوازية لكل أصناف وابعاد اعلي الموقع، ولذلك تعتمد التحسينات علي عدد الأصناف المختلفة التي يحتويها الموجه والبنية التحتية المتوفرة ومده التخصيص مقابل مده إنشاء العمل.</span><span class="sxs-lookup"><span data-stu-id="ba56b-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="ba56b-120">تكوين التوزيع المتوازي</span><span class="sxs-lookup"><span data-stu-id="ba56b-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="ba56b-121">محددات إدارة المستودعات</span><span class="sxs-lookup"><span data-stu-id="ba56b-121">Warehouse management parameters</span></span>

<span data-ttu-id="ba56b-122">لاستخدام معالجه التوزيع المتوازي، انتقل إلى **إدارة المستودع > إعداد > إعداد معلمات إدارة المستودع**، افتح علامة التبويب **معالجة الموجات**، ثم قم باجراء الإعدادات التالية:</span><span class="sxs-lookup"><span data-stu-id="ba56b-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="ba56b-123">**مجموعه دفعات معالجة الموجات** - حدد مجموعه الدفعات التي يجب ان تستخدمها المعالجة الاوليه للموجات.</span><span class="sxs-lookup"><span data-stu-id="ba56b-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="ba56b-124">يمكن إجراء المعالجة اللاحقة للتوزيع باستخدام مجموعات دُفعات مختلفة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="ba56b-125">**أمواج المعالجة في الدفعة** - قم بتعيين هذا إلى *نعم* لاستخدام المعالجة المتوازية.</span><span class="sxs-lookup"><span data-stu-id="ba56b-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="ba56b-126">**انتظار التأمين (بالمللي ثانية)** - أدخل الوقت بالمللي ثانية الذي ستنتظر خطوة توزيع خلالها مورد النظام المؤمن بواسطة خطوة توزيع أخرى.</span><span class="sxs-lookup"><span data-stu-id="ba56b-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="ba56b-127">عند تجاوز هذا الوقت، لن تتم معالجة الموجة ويتم عرض رسالة إعلام بخطأ.</span><span class="sxs-lookup"><span data-stu-id="ba56b-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="ba56b-128">نوصي بالسماح بعدد قليل من الثواني علي الأقل للسماح بتخصيص وحده منطقيه واحده للانتهاء.</span><span class="sxs-lookup"><span data-stu-id="ba56b-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="ba56b-129">للحصول علي معلومات حول خيارات معالجه الموجات الأخرى الموجودة في صفحة **معلمات إدارة المستودع**، راجع [معلمات المستودع لمعالجه الموجات](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="ba56b-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="ba56b-130">طرق معالجة الموجة</span><span class="sxs-lookup"><span data-stu-id="ba56b-130">Wave process methods</span></span>

<span data-ttu-id="ba56b-131">لإعداد المعالجة المتوازية:</span><span class="sxs-lookup"><span data-stu-id="ba56b-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="ba56b-132">انتقل إلى **إدارة المستودع > إعداد > موجات > أساليب معالجة الموجات**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="ba56b-133">حدد أسلوب `allocateWave` في الشبكة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="ba56b-134">في جزء الإجراء، حدد **تكوين المهمة**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="ba56b-135">يتم فتح صفحة **تكوين مهمة أسلوب ترحيل الموجة**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="ba56b-136">تسرد هذه الشبكة كل مستودع حيث قمت بتكوين أسلوب `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="ba56b-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="ba56b-137">سيتم استخدام المعالجة المتوازية فقط للمستودعات المسرده.</span><span class="sxs-lookup"><span data-stu-id="ba56b-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="ba56b-138">استخدم أزرار جزء الإجراءات لأضافه أو أزاله المستودعات من الشبكة حسب الحاجة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="ba56b-139">لكل مستودع، قم بالإعدادات التالية:</span><span class="sxs-lookup"><span data-stu-id="ba56b-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="ba56b-140">**الحد الأقصى لعدد مهام الدفعات** - تحديد عدد مهام الدفعات التي ينبغي استخدامها للتوزيع الخاص بالمستودع المحدد.</span><span class="sxs-lookup"><span data-stu-id="ba56b-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="ba56b-141">يعتمد العدد الأمثل لمهام الدفعات علي البنية الاساسيه المتاحة والمهام المجموعة الأخرى التي يتم معالجتها علي الخادم.</span><span class="sxs-lookup"><span data-stu-id="ba56b-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="ba56b-142">يتم القيام بالاختبارات في بيئة أربعه مراكز التي تم تخصيصها لمعالجه الموجه المعروضة باستخدام ثمانيه مهام تنتج نتائج جيده.</span><span class="sxs-lookup"><span data-stu-id="ba56b-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="ba56b-143">**مجموعة دفعات معالجة الموجات** - يمكن استخدام مجموعات دُفعات محددة لمستودعات مختلفة للسماح بتوسيع معالجة التخصيص حسب المستودع.</span><span class="sxs-lookup"><span data-stu-id="ba56b-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="ba56b-144">تمكين التوازي عبر جميع الكيانات القانونية أو تعطيله</span><span class="sxs-lookup"><span data-stu-id="ba56b-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="ba56b-145">ونوصيك بتعيين أسلوب `allocateWave` لتشغيله بالتوازي عبر كافة الكيانات القانونية وذلك لان ذلك يساعد علي تحسين أداء معالجه الموجه.</span><span class="sxs-lookup"><span data-stu-id="ba56b-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="ba56b-146">بدءًا من الإصدار 10.0.17 من Supply Chain Management، تم تمكين ميزة *توازي الموجات لأسلوب توزيع الموجة* بشكل افتراضي لجميع عمليات التثبيت الجديدة والمحدثة، ولا يمكن إيقاف تشغيلها مرة أخرى.</span><span class="sxs-lookup"><span data-stu-id="ba56b-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="ba56b-147">بعد تمكين هذه الميزة، يحدث ما يلي:</span><span class="sxs-lookup"><span data-stu-id="ba56b-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="ba56b-148">يتم تحديث أسلوب `allocateWave` ليتضمن اعداد تكوين المهمة الذي يتيح لك امكانيه استخدام صفحة **أساليب معالجة الموجات** لتحديد عدد المهام التي سيتم تشغيلها في وقت واحد، مكافئ لعدد العمليات المتوازية.</span><span class="sxs-lookup"><span data-stu-id="ba56b-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="ba56b-149">نتيجة لذلك، يتم تقليل الوقت المستخدم في خطوة موجة التخصيص (التي تكون عادةً من 30٪ إلى 60٪ من إجمالي وقت المعالجة) بعامل يعادل تقريبًا عدد المهام.</span><span class="sxs-lookup"><span data-stu-id="ba56b-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="ba56b-150">من الممكن أيضا تحديد المجموعة التي سيتم تعيينها لمعالجه هذه المهام.</span><span class="sxs-lookup"><span data-stu-id="ba56b-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="ba56b-151">من المهم ملاحظة أنه سيتم تكوين جميع الكيانات القانونية الخاصة بك لمعالجة الموجات دفعة واحدة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="ba56b-152">بالنسبة للمستودعات التي تم تكوينها بالفعل لمعالجة الموجات دفعة واحدة، وللمستودعات التي تم تكوينها بالفعل لاستخدام أسلوب `allocateWave` بالتوازي، سيتم الاحتفاظ بالتكوين الموجود.</span><span class="sxs-lookup"><span data-stu-id="ba56b-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="ba56b-153">بشكل افتراضي، يتم تكوين كافة الكيانات القانونية الجديدة لمعالجه الموجات في المجموعة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="ba56b-154">لكافة المستودعات الجديدة التي تمكين خيار **عمليات إدارة المستودعات** لها سيتم تكوين أسلوب `allocateWave` لها لتشغيلها بالتوازي بشكل افتراضي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="ba56b-155">في صفحة **معلمات إدارة المستودع**، يتم تعيين **حفظ العملية في دفعة** إلى *نعم* ويتم تعيين **انتظار التأمين (بالملي ثانية)** إلى 15 ثانية افتراضيًا.</span><span class="sxs-lookup"><span data-stu-id="ba56b-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="ba56b-156">وهذا يعني ان كافة موجات سيتم تنفيذها في الدفعة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="ba56b-157">عند تشغيل الموجة، تكتسب قفلًا على العنصر والأبعاد أعلى الموقع أثناء خطوة التوزيع.</span><span class="sxs-lookup"><span data-stu-id="ba56b-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="ba56b-158">عندما تحاول مهمة معالجة موجة أخرى الحصول على نفس القفل للسجل نفسه، يتم حظره حتى تنتهي العملية الحالية.</span><span class="sxs-lookup"><span data-stu-id="ba56b-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="ba56b-159">تحدد إعدادات **انتظار التأمين (بالملي ثانية)** الحد الأقصى للوقت الذي سينتظره النظام قبل إصدار التأمين.</span><span class="sxs-lookup"><span data-stu-id="ba56b-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="ba56b-160">تتطلب معالجة التوزيع المتوازي معالجة موجات لتشغيلها في دفعة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="ba56b-161">لذلك، ستقوم بتقليل أداء معالجه الموجه إذا قمت بإيقاف إعداد **حفظ العملية في الدفعة**، خاصةً إذا كانت معالجه الموجه تستخدم عمليه متوازية كما هو محدد من قبل تكوين المهمة لأساليب الموجه ذات الصلة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="ba56b-162">إذا لزم الأمر، يمكنك التراجع عن كل من الإعدادات التي تم اجراؤها بشكل افتراضي عندما يتم تمكين ميزة *موازة الموجات لأسلوب توزيع الموجة* للمثيل الخاص بك تلقائيًا.</span><span class="sxs-lookup"><span data-stu-id="ba56b-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="ba56b-163">وللقيام بهذا:</span><span class="sxs-lookup"><span data-stu-id="ba56b-163">To do this:</span></span>

- <span data-ttu-id="ba56b-164">انتقل إلى **إدارة المستودعات \> إعداد \> معلمات إدارة المستودعات**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="ba56b-165">في علامة التبويب **معالجة الموجة**، طبق قيمك المفضلة لـ **معالجة الموجات في دفعة** و **انتظار التأمين (بالملي ثانية).**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="ba56b-166">انتقل إلى **إدارة المستودعات \> إعداد \> الموجات \> أساليب عملي الموجة**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="ba56b-167">حدد أسلوب `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="ba56b-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="ba56b-168">في جزء الإجراء، حدد **تكوين المهمة** لفتح صفحه تسرد كل مستودع يتم فيه تعيين الطريقة لتعمل بالتوازي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="ba56b-169">قم بتعديل أو حذف عدد مهام الدفعات ومجموعه الموجات المعينة لكل مستودع مدرج بالقائمة حسب الحاجة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ba56b-170">استكشاف الأخطاء وإصلاحها</span><span class="sxs-lookup"><span data-stu-id="ba56b-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="ba56b-171">استكشاف أخطاء استخدام سجل المعلومات وإصلاحها</span><span class="sxs-lookup"><span data-stu-id="ba56b-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="ba56b-172">نظرًا لاستخدام إطار عمل الدُفعة، سيتم تسجيل الأخطاء التي تحدث أثناء معالجة الموجة كجزء من سجلات معلومات وظائف الدُفعة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="ba56b-173">لقراءه وظائف الدفعات المرتبطة بموجة:</span><span class="sxs-lookup"><span data-stu-id="ba56b-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="ba56b-174">انتقل إلى **إدارة المستودعات \> الموجات الصادرة‬ \> موجات الشحنة‬ \> كافة الموجات‬**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="ba56b-175">حدد الموجة التي تريد فحصها.</span><span class="sxs-lookup"><span data-stu-id="ba56b-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="ba56b-176">في جزء الإجراء، افتح علامة التبويب **موجة**، ومن مجموعة **الموجة**، حدد **وظائف الدفعات**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="ba56b-177">تُعد معالجة الموجة ذاتية التصحيح، لذا يجب الإبلاغ عن أي خطأ يتم اكتشافه أثناء المعالجة باستخدام سجل المعلومات.</span><span class="sxs-lookup"><span data-stu-id="ba56b-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="ba56b-178">يمكن أن يكون الخطأ النموذجي المتعلق بالمعالجة المتوازية هو أن موجتين تحاولان تخصيص نفس العنصر في نفس الوقت وأخرى لا تكتمل بحيث لا تتمكن الموجة الأخرى من الحصول على قفل خلال الوقت المحدد.</span><span class="sxs-lookup"><span data-stu-id="ba56b-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="ba56b-179">في حاله حدوث هذا الموقف، فسوف يحتوي سجل مهام المجموعة علي معلومات توضح انه تعذر الحصول علي تامين الصنف، وفي هذه الحالة يجب معالجه الموجه الذي تعرض للفشل مره أخرى.</span><span class="sxs-lookup"><span data-stu-id="ba56b-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="ba56b-180">ونظرا لحدوث المعالجة بالتوازي، يجب ان يتم الاحتفاظ بالبيانات في جداول مختلفه لتعقب حاله المعالجة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="ba56b-181">وهذا يعني ان السجلات الخاصة بوظائف المجموعة قد تحتوي علي أخطاء مثل أخطاء المفاتيح المكررة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="ba56b-182">كما تعد الأخطاء الواردة من مهام المجموعة جزءا من سجل الوظائف الدفعيه.</span><span class="sxs-lookup"><span data-stu-id="ba56b-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="ba56b-183">تكون أهم المعلومات عاده في الجزء السفلي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="ba56b-184">في حالات نادره، علي سبيل المثال، إذا تم إنهاء اتصال SQL، فمن الممكن ان تنتهي معالجه الموجه في حاله غير متناسقة حيث تظهر مهمة المجموعة ولكن يتم إيقاف المعالجة.</span><span class="sxs-lookup"><span data-stu-id="ba56b-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="ba56b-185">لا يمكن للموجه معالجه الأخطاء مثل هذا، لذلك يتم القيام بمحاولة لتنظيف موجات فاشله عند تشغيل الموجه التالي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="ba56b-186">بدلا من ذلك، إذا كان الموجه الحالي في حاله غير متناسقة، قم باجراء الخطوات التالية:</span><span class="sxs-lookup"><span data-stu-id="ba56b-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="ba56b-187">انتقل إلى **إدارة المستودعات \> الموجات الصادرة‬ \> موجات الشحنة‬ \> كافة الموجات‬**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="ba56b-188">حدد الموجه التي تحتاج إلى تنظيفها.</span><span class="sxs-lookup"><span data-stu-id="ba56b-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="ba56b-189">في جزء الإجراء، افتح علامة التبويب **موجة**، وفي مجموعة **الموجة**، حدد **تنظيف بيانات الموجة**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="ba56b-190">استكشاف الأخطاء وإصلاحها باستخدام سجل تقدم الموجه</span><span class="sxs-lookup"><span data-stu-id="ba56b-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="ba56b-191">إذا تم تمكين خيار **إنشاء سجل تقدم الموجات** في صفحة **معلمات إدارة المستودعات**، فإنه يتم إنشاء سجل سجل في كل مرة يبدأ فيها تخصيص عنصر ما وأبعاده وينتهي.</span><span class="sxs-lookup"><span data-stu-id="ba56b-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="ba56b-192">يجب ان تقوم بتمكين هذا السجل فقط عندما تحتاجه، علي سبيل المثال، اثناء الاختبار الاولي أو لاستكشاف الأخطاء وإصلاحها.</span><span class="sxs-lookup"><span data-stu-id="ba56b-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="ba56b-193">عند تمكين هذا الخيار، يمكنك عرض السجل عن طريق الأخذ في الخطوات التالية:</span><span class="sxs-lookup"><span data-stu-id="ba56b-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="ba56b-194">انتقل إلى **إدارة المستودعات \> الموجات الصادرة‬ \> موجات الشحنة‬ \> كافة الموجات‬**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="ba56b-195">حدد الموجة التي تريد فحصها.</span><span class="sxs-lookup"><span data-stu-id="ba56b-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="ba56b-196">في جزء الإجراءات، افتح علامة تبويب **الموجة** في مجموعة **الموجة‏‎‬**، حدد **تقدم**.</span><span class="sxs-lookup"><span data-stu-id="ba56b-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
