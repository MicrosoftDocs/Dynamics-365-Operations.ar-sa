---
title: تحسينات على وظيفة ترحيل كشف الحساب
description: يصف هذا الموضوع التحسينات التي تم إجراؤها على ميزة ترحيل كشف الحساب.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 02880edda6c34c24f8dad8cc8cbeafe215f46896
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 05/14/2019
ms.locfileid: "1541281"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="8b377-103">تحسينات على وظيفة ترحيل كشف الحساب</span><span class="sxs-lookup"><span data-stu-id="8b377-103">Improvements to statement posting functionality</span></span>

[!include[banner](includes/banner.md)]

<span data-ttu-id="8b377-104">يصف هذا الموضوع المجموعة الأولى من التحسينات التي تم إجراؤها على ميزة ترحيل كشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="8b377-105">تتوفر هذه التحسينات في الإصدار 7.3.2 من Microsoft Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="8b377-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="8b377-106">التنشيط</span><span class="sxs-lookup"><span data-stu-id="8b377-106">Activation</span></span>

<span data-ttu-id="8b377-107">افتراضيًا، أثناء نشر Finance and Operations 7.3.2، تم إعداد البرنامج لاستخدام الميزة القديمة لعمليات ترحيل كشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="8b377-108">لتمكين ميزة ترحيل كشف حساب المحسنة، يجب تشغيل مفتاح التكوين الخاص به.</span><span class="sxs-lookup"><span data-stu-id="8b377-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="8b377-109">انتقل إلى **إدارة النظام** \> **الإعداد** \> **تكوين الترخيص**، ثم تحت عقدة **البيع بالتجزئة**، قم بإلغاء تحديد خانة الاختيار **كشوف البيع بالتجزئة (قديمة)**، وحدد خانة الاختيار **كشوف البيع بالتجزئة‬**.</span><span class="sxs-lookup"><span data-stu-id="8b377-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail** node, clear the **Retail statements (legacy)** check box, and select the **Retail statements** check box.</span></span>

<span data-ttu-id="8b377-110">عند تشغيل مفتاح التكوين **كشوف البيع بالتجزئة** الجديد، يتوفر عنصر قائمة جديد يسمى **كشوف البيع بالتجزئة**.</span><span class="sxs-lookup"><span data-stu-id="8b377-110">When the new **Retail statements** configuration key is turned on, a new menu item that is named **Retail statements** is available.</span></span> <span data-ttu-id="8b377-111">يتيح لك عنصر القائمة هذا إنشاء وحساب وترحيل كشوف الحساب يدويًا.</span><span class="sxs-lookup"><span data-stu-id="8b377-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="8b377-112">وسيتوفر أيضًا أي كشف حساب يقوم بالتسبب في حدوث خطأ عند استخدام عملية ترحيل المجموعة من خلال عنصر القائمة هذا.</span><span class="sxs-lookup"><span data-stu-id="8b377-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="8b377-113">عند تشغيل مفتاح تكوين **كشوف البيع بالتجزئة**، يتوفر عنصر قائمة يسمى **‏‫فتح كشوف حسابات‬**.</span><span class="sxs-lookup"><span data-stu-id="8b377-113">(When the **Retail statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="8b377-114">يتضمن Finance and Operations عمليات التحقق من الصحة التالية التي تتعلق بمفاتيح التكوين هذه:</span><span class="sxs-lookup"><span data-stu-id="8b377-114">Finance and Operations includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="8b377-115">لا يمكن تشغيل كلا من مفتاحي التكوين في نفس الوقت.</span><span class="sxs-lookup"><span data-stu-id="8b377-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="8b377-116">يجب استخدام نفس مفاتيح التكوين لكافة العمليات التي يتم تنفيذها على كشف محدد أثناء دورة حياته (الإنشاء والحساب، والمسح والترحيل وهكذا).</span><span class="sxs-lookup"><span data-stu-id="8b377-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="8b377-117">على سبيل المثال، لا يمكن إنشاء واحتساب كشف حساب أثناء تشغيل مفتاح التكوين **كشوف البيع بالتجزئة (قديمة)‬**، ومن ثم حاول ترحيل كشف الحساب نفسه أثناء تشغيل مفتاح التكوين **كشف البيع بالتجزئة**.</span><span class="sxs-lookup"><span data-stu-id="8b377-117">For example, you can't create and calculate a statement while the **Retail statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Retail statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="8b377-118">نوصي أن تستخدم مفتاح التكوين **كشوف البيع بالتجزئة** مع ميزة ترحيل كشف الحساب المحسنة، إلا إذا كان لديك أسباب إجبارية لاستخدام مفتاح التكوين **كشوف البيع بالتجزئة (قديمة)‬** بدلاً من ذلك.</span><span class="sxs-lookup"><span data-stu-id="8b377-118">We recommend that you use the **Retail statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Retail statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="8b377-119">ستستمر Microsoft في الاستثمار في ميزة ترحيل كشف الحساب الجديدة والمحسنة، ومن المهم الانتقال إليها في أقرب فرصة الاستفادة منها.</span><span class="sxs-lookup"><span data-stu-id="8b377-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="8b377-120">سيتم إهمال ميزة ترحيل كشف الحساب القديمة اعتبارًا من الإصدار 8.0.</span><span class="sxs-lookup"><span data-stu-id="8b377-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="8b377-121">إعداد</span><span class="sxs-lookup"><span data-stu-id="8b377-121">Setup</span></span>

<span data-ttu-id="8b377-122">كجزء من التحسينات لميزة ترحيل كشف الحساب، تم تقديم ثلاثة معلمات جديدة في علامة التبويب السريعة **كشف الحساب** في علامة التبويب **ترحيل** في صفحة **معلمات البيع بالتجزئة**:</span><span class="sxs-lookup"><span data-stu-id="8b377-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Retail parameters** page:</span></span>

- <span data-ttu-id="8b377-123">**‏‫تعطيل مسح كشف الحساب‬** هذا الخيار قابل للتطبيق فقط على ميزة ترحيل كشف الحساب القديمة.</span><span class="sxs-lookup"><span data-stu-id="8b377-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="8b377-124">نوصي بتعيين هذا الخيار إلى **لا** لمنع المستخدمين من مسح كشوف الحساب الموجودة بحالة شبه مرحلة.</span><span class="sxs-lookup"><span data-stu-id="8b377-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="8b377-125">إذا تم مسح كشوف الحساب الموجودة في بحالة شبه مرحلة، تصبح البيانات تالفة.</span><span class="sxs-lookup"><span data-stu-id="8b377-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="8b377-126">يجب تعيين هذا الخيار إلى **نعم** فقط في الحالات الاستثنائية.</span><span class="sxs-lookup"><span data-stu-id="8b377-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="8b377-127">**حجز المخزون أثناء الحساب‬** - نوصي أن تستخدم الوظيفة الدفعية **ترحيل المخزون** لحجز المخزون، وتعيين هذا الخيار إلى **لا**.</span><span class="sxs-lookup"><span data-stu-id="8b377-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="8b377-128">عند تعيين هذا الخيار إلى **لا**، فإن ميزة ترحيل كشف الحساب المحسنة لا تحاول إنشاء إدخالات حجز المخزون في وقت الحساب (إذا لم تكن الإدخالات قد تم إنشاؤها بالفعل عن طريق الوظيفة الدفعية **ترحيل المخزون**).</span><span class="sxs-lookup"><span data-stu-id="8b377-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="8b377-129">بدلاً من ذلك، تقوم هذه الميزة بإنشاء إدخالات مخزون الحجز فقط في وقت الترحيل.</span><span class="sxs-lookup"><span data-stu-id="8b377-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="8b377-130">وهذا التنفيذ هو اختيار التصميم ويعتمد على أن الإطار الزمني بين عملية الحساب وعملية الترحيل صغير بشكل عام.</span><span class="sxs-lookup"><span data-stu-id="8b377-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="8b377-131">ومع ذلك، إذا كنت ترغب في حجز المخزون في وقت الحساب، يمكنك تعيين هذا الخيار إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="8b377-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="8b377-132">دائمًا ما تحتفظ ميزة ترحيل كشف الحساب القديمة بالمخزون أثناء عملية حساب كشف الحساب (إذا لم يتم إجراء الحجز مسبقاً من خلال الوظيفة الدفعية **ترحيل المخزون**)، بغض النظر إعداد هذا الخيار.</span><span class="sxs-lookup"><span data-stu-id="8b377-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="8b377-133">**تعطيل الجرد مطلوب** – عندما يتم تعيين هذا الخيار إلى **نعم**، تستمر عملية الترحيل لكشف الحساب، حتى لو كان الفرق بين المبلغ المحتسب ومبلغ الحركة في كشف الحساب خارج نطاق الحد المعين في علامة التبويب السريعة **كشف الحساب** لمتاجر البيع بالتجزئة.</span><span class="sxs-lookup"><span data-stu-id="8b377-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for Retail stores.</span></span>

<span data-ttu-id="8b377-134">بالإضافة إلى ذلك، تم تقديم المعلمات التالية في علامة‏‎ التبويب السريعة **معالجة الدُفعات‬** في علامة التبويب **ترحيل** في صفحة **معلمات البيع بالتجزئة‬**:</span><span class="sxs-lookup"><span data-stu-id="8b377-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Retail parameters** page:</span></span> 

- <span data-ttu-id="8b377-135">**الحد الأقصى لعمليات ترحيل الكشوف المتوازية‬** - يحدد هذا الحقل عدد المهام الدفعية التي سيتم استخدامها لترحيل كشوف حساب متعددة.</span><span class="sxs-lookup"><span data-stu-id="8b377-135">**Maximum number of parallel statement posting** - This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="8b377-136">**الحد الأقصى لعدد مؤشرات الترابط لمعالجة الأوامر لكل كشف الحساب** - يمثل هذا الحقل الحد الأقصى لعدد مؤشرات الترابط المستخدمة بواسطة الوظيفة الدفعية لترحيل كشوف الحساب لإنشاء أوامر مبيعات وفوترتها لكشف حساب واحد.</span><span class="sxs-lookup"><span data-stu-id="8b377-136">**Max thread for order processing per statement** - This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="8b377-137">سيتم حساب الحد الأقصى لعدد مؤشرات الترابط التي سيتم استخدامها بواسطة عملية ترحيل كشوف الحساب استنادًا إلى القيمة الموجودة في هذه المعلمة مضروبة في المعلمة **الحد الأقصى لعمليات ترحيل الكشوف المتوازية‬**.</span><span class="sxs-lookup"><span data-stu-id="8b377-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="8b377-138">قد يؤثر تعيين قيمة عالية جدًا لهذه المعلمة على أداء عملية ترحيل كشوف الحساب بشكل سلبي.</span><span class="sxs-lookup"><span data-stu-id="8b377-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="8b377-139">**الحد الأقصى لبنود الحركة المضمنة في التجميع** - يحدد هذا الحقل عدد بنود الحركة التي سيتم تضمينها في حركة مجمعة واحدة قبل إنشاء واحدة جديدة.</span><span class="sxs-lookup"><span data-stu-id="8b377-139">**Max transaction lines included in aggregation** - This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="8b377-140">يتم إنشاء الحركات المجمعة بناء على معايير تجميع مختلفة، مثل العميل أو تاريخ العمل أو الأبعاد المالية.</span><span class="sxs-lookup"><span data-stu-id="8b377-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="8b377-141">ومن الضروري الملاحظة انه لن يتم تقسيم البنود الواردة من حركة بيع بالتجزئة واحدة عبر حركات مجمعة مختلفة.</span><span class="sxs-lookup"><span data-stu-id="8b377-141">It is important to note that the lines from a single retail transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="8b377-142">وهذا يعني أنه من المحتمل أن يكون عدد البنود في الحركة المجمعة أعلى قليلاً أو أقل استنادًا إلى عوامل مثل عدد المنتجات المميزة.</span><span class="sxs-lookup"><span data-stu-id="8b377-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="8b377-143">**الحد الأقصى لعدد مؤشرات الترابط للتحقق من حركات المتجر** - يحدد هذا الحقل عدد مؤشرات الترابط التي سيتم استخدامها للتحقق من صحة حركات البيع بالتجزئة.</span><span class="sxs-lookup"><span data-stu-id="8b377-143">**Maximum number of threads to validate store transactions** - This field defines the number of threads that will be used to validate retail transactions.</span></span> <span data-ttu-id="8b377-144">تعتبر عمليه التحقق من صحة حركات البيع بالتجزئة خطوة مطلوبة يجب أن تحدث قبل سحب الحركات إلى الكشوف.</span><span class="sxs-lookup"><span data-stu-id="8b377-144">Validating retail transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="8b377-145">ينبغي أيضًا تحديد **منتج بطاقة الهدايا** على علامة التبويب السريعة **بطاقة الهدايا** على تبويب **الترحيل** من صفحة **معلمات البيع بالتجزئة** .</span><span class="sxs-lookup"><span data-stu-id="8b377-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Retail parameters** page.</span></span> <span data-ttu-id="8b377-146">يجب تحديد هذا الأمر حتى لو لم يتم استخدام بطاقات الهدايا من قبل المؤسسة.</span><span class="sxs-lookup"><span data-stu-id="8b377-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="8b377-147">تنطبق كافة الإعدادات والمعلمات المتعلقة بترحيلات كشف الحساب، والتي تم تعريفها في متاجر البيع بالتجزئة وفي صفحة **معلمات البيع بالتجزئة** على ميزة ترحيل كشف الحساب المحسنة.</span><span class="sxs-lookup"><span data-stu-id="8b377-147">All settings and parameters that are related to statement postings, and that are defined on Retail stores and on the **Retail parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="8b377-148">المعالجة</span><span class="sxs-lookup"><span data-stu-id="8b377-148">Processing</span></span>

<span data-ttu-id="8b377-149">يمكن أن يتم حساب كشوف الحساب وترحيلها في مجموعة باستخدام عنصري القائمة **حساب الكشوف على دُفعات‬** و **‏‫ترحيل الكشوف على دُفعات‬**.</span><span class="sxs-lookup"><span data-stu-id="8b377-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="8b377-150">بدلاً من ذلك، يمكن أن يتم يدوياً حساب كشوف الحساب وترحيلها باستخدام عنصر القائمة **كشوف البيع بالتجزئة** الذي توفر ميزة ترحيل كشف الحساب المحسنة.</span><span class="sxs-lookup"><span data-stu-id="8b377-150">Alternatively, statements can be manually calculated and posted by using the **Retail statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="8b377-151">تعتبر العملية والخطوات اللازمة لحساب وترحيل كشوف الحساب على دفعات متماثلة حيث إنها موجودة في ميزة ترحيل كشف الحساب القديمة.</span><span class="sxs-lookup"><span data-stu-id="8b377-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="8b377-152">ومع ذلك، تم إجراء تحسينات هامة في المعالجة الأساسية الخلفية لكشوف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="8b377-153">وهذه التحسينات تجعل العملية أكثر مرونة، وتوفر رؤية أفضل للحالات ومعلومات الخطأ.</span><span class="sxs-lookup"><span data-stu-id="8b377-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="8b377-154">لذلك، يمكن للمستخدمين معالجة السبب الجذري للأخطاء ومتابعة عملية الترحيل دون التسبب في عطب في البيانات ودون أن يتسبب في جعل إصلاحات البيانات ضرورية.</span><span class="sxs-lookup"><span data-stu-id="8b377-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="8b377-155">تصف الأقسام التالية بعض التحسينات الهامة لميزة ترحيل كشف الحساب التي تظهر في واجهة المستخدم لكشوف حساب البيع بالتجزئة وكشوف الحساب المرحلة.</span><span class="sxs-lookup"><span data-stu-id="8b377-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for retail statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="8b377-156">تفاصيل الحالة</span><span class="sxs-lookup"><span data-stu-id="8b377-156">Status details</span></span>

<span data-ttu-id="8b377-157">تم تقديم نموذج حالة جديد في روتين ترحيل كشف الحساب عبر عملية الحساب والترحيل.</span><span class="sxs-lookup"><span data-stu-id="8b377-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="8b377-158">يصف الجدول التالي الحالات المختلفة وترتيبها أثناء عملية الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="8b377-159">ترتيب الحالة</span><span class="sxs-lookup"><span data-stu-id="8b377-159">State order</span></span> | <span data-ttu-id="8b377-160">المنطقة‬</span><span class="sxs-lookup"><span data-stu-id="8b377-160">State</span></span>      | <span data-ttu-id="8b377-161">الوصف</span><span class="sxs-lookup"><span data-stu-id="8b377-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="8b377-162">1</span><span class="sxs-lookup"><span data-stu-id="8b377-162">1</span></span>           | <span data-ttu-id="8b377-163">تم البدء</span><span class="sxs-lookup"><span data-stu-id="8b377-163">Started</span></span>    | <span data-ttu-id="8b377-164">تم إنشاء كشف الحساب وهو جاهز للحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="8b377-165">2</span><span class="sxs-lookup"><span data-stu-id="8b377-165">2</span></span>           | <span data-ttu-id="8b377-166">تم وضع العلامة</span><span class="sxs-lookup"><span data-stu-id="8b377-166">Marked</span></span>     | <span data-ttu-id="8b377-167">يتم تعريف الحركات الموجودة في نطاق كشف الحساب استناداً إلى محدد كشف الحساب، ويتم تعليمها بمعرف كشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="8b377-168">3</span><span class="sxs-lookup"><span data-stu-id="8b377-168">3</span></span>           | <span data-ttu-id="8b377-169">محسوب</span><span class="sxs-lookup"><span data-stu-id="8b377-169">Calculated</span></span> | <span data-ttu-id="8b377-170">يتم حساب بنود كشف الحساب وعرضها.</span><span class="sxs-lookup"><span data-stu-id="8b377-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="8b377-171">يصف الجدول التالي الحالات المختلفة وترتيبها أثناء عملية الترحيل.</span><span class="sxs-lookup"><span data-stu-id="8b377-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="8b377-172">ترتيب الحالة</span><span class="sxs-lookup"><span data-stu-id="8b377-172">State order</span></span> | <span data-ttu-id="8b377-173">المنطقة‬</span><span class="sxs-lookup"><span data-stu-id="8b377-173">State</span></span>                   | <span data-ttu-id="8b377-174">الوصف</span><span class="sxs-lookup"><span data-stu-id="8b377-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="8b377-175">1</span><span class="sxs-lookup"><span data-stu-id="8b377-175">1</span></span>           | <span data-ttu-id="8b377-176">تم فحصه</span><span class="sxs-lookup"><span data-stu-id="8b377-176">Checked</span></span>                 | <span data-ttu-id="8b377-177">يتم تنفيذ عدة عمليات للتحقق من الصحة والتي ترتبط بالمعلمات (على سبيل المثال، تكلفة الإرجاع)، وبكشف الحساب وبنود كشف الحساب (على سبيل المثال، الفرق بين المبلغ المحتسب ومبلغ الحركة).</span><span class="sxs-lookup"><span data-stu-id="8b377-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="8b377-178">2</span><span class="sxs-lookup"><span data-stu-id="8b377-178">2</span></span>           | <span data-ttu-id="8b377-179">مجمَّع</span><span class="sxs-lookup"><span data-stu-id="8b377-179">Aggregated</span></span>              | <span data-ttu-id="8b377-180">يتم تجميع حركات المبيعات للعملاء الذين تمت تسميتهم ولم تتم تسميتهم استنادًا إلى التكوين.</span><span class="sxs-lookup"><span data-stu-id="8b377-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="8b377-181">يتم تحويل كل حركة مجمعة في النهاية إلى أمر مبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="8b377-182">3</span><span class="sxs-lookup"><span data-stu-id="8b377-182">3</span></span>           | <span data-ttu-id="8b377-183">إنشاء أمر عميل</span><span class="sxs-lookup"><span data-stu-id="8b377-183">Customer order created</span></span>  | <span data-ttu-id="8b377-184">وفقا للعملية المجمعة، يتم إنشاء أوامر المبيعات في النظام.</span><span class="sxs-lookup"><span data-stu-id="8b377-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="8b377-185">4</span><span class="sxs-lookup"><span data-stu-id="8b377-185">4</span></span>           | <span data-ttu-id="8b377-186">فوترة أمر العميل</span><span class="sxs-lookup"><span data-stu-id="8b377-186">Customer order invoiced</span></span> | <span data-ttu-id="8b377-187">تتم فوترة أوامر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="8b377-188">5</span><span class="sxs-lookup"><span data-stu-id="8b377-188">5</span></span>           | <span data-ttu-id="8b377-189">الخصومات المرحّلة</span><span class="sxs-lookup"><span data-stu-id="8b377-189">Discounts posted</span></span>        | <span data-ttu-id="8b377-190">يجري ترحيل دفاتر يومية الخصم الدوري استناداً إلى التكوين.</span><span class="sxs-lookup"><span data-stu-id="8b377-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="8b377-191">6</span><span class="sxs-lookup"><span data-stu-id="8b377-191">6</span></span>           | <span data-ttu-id="8b377-192">الإيرادات/المصروفات المرحّلة</span><span class="sxs-lookup"><span data-stu-id="8b377-192">Income/expense posted</span></span>   | <span data-ttu-id="8b377-193">يتم ترحيل حركات الإيرادات/المصروفات كإيصالات.</span><span class="sxs-lookup"><span data-stu-id="8b377-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="8b377-194">7</span><span class="sxs-lookup"><span data-stu-id="8b377-194">7</span></span>           | <span data-ttu-id="8b377-195">الإيصالات المرتبطة</span><span class="sxs-lookup"><span data-stu-id="8b377-195">Vouchers linked</span></span>         | <span data-ttu-id="8b377-196">يتم إنشاء دفاتر يومية المدفوعات وربطها بالفاتورة المتوافقة.</span><span class="sxs-lookup"><span data-stu-id="8b377-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="8b377-197">8</span><span class="sxs-lookup"><span data-stu-id="8b377-197">8</span></span>           | <span data-ttu-id="8b377-198">المدفوعات المرحّلة</span><span class="sxs-lookup"><span data-stu-id="8b377-198">Payments posted</span></span>         | <span data-ttu-id="8b377-199">يتم ترحيل دفاتر يومية المدفوعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="8b377-200">9</span><span class="sxs-lookup"><span data-stu-id="8b377-200">9</span></span>           | <span data-ttu-id="8b377-201">بطاقات الهدايا المرحّلة</span><span class="sxs-lookup"><span data-stu-id="8b377-201">Gift cards posted</span></span>       | <span data-ttu-id="8b377-202">يتم ترحيل حركات بطاقات الهدايا كإيصالات.</span><span class="sxs-lookup"><span data-stu-id="8b377-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="8b377-203">10</span><span class="sxs-lookup"><span data-stu-id="8b377-203">10</span></span>          | <span data-ttu-id="8b377-204">مُرحَّل</span><span class="sxs-lookup"><span data-stu-id="8b377-204">Posted</span></span>                  | <span data-ttu-id="8b377-205">تم وضع علامة على كشف الحساب كمرحّل.</span><span class="sxs-lookup"><span data-stu-id="8b377-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="8b377-206">كل حالة في الجداول السابقة مستقلة بطبيعتها، ويتم إنشاء تبعيات ذات تسلسل هرمي بين الحالات.</span><span class="sxs-lookup"><span data-stu-id="8b377-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="8b377-207">تتدفق هذه التبعية من أعلى إلى أسفل.</span><span class="sxs-lookup"><span data-stu-id="8b377-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="8b377-208">إذا واجه النظام أية أخطاء أثناء معالجة حالة، ويتم عكس الحالة لكشف الحساب إلى الحالة السابقة.</span><span class="sxs-lookup"><span data-stu-id="8b377-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="8b377-209">ويتم استئناف أي إعادة محاولة لاحقة للمعالجة من الحالة التي فشلت ويستمر الانتقال للأمام.</span><span class="sxs-lookup"><span data-stu-id="8b377-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="8b377-210">يتضمن هذا الأسلوب الفوائد التالية:</span><span class="sxs-lookup"><span data-stu-id="8b377-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="8b377-211">يتوفر للمستخدم رؤية الكاملة للحالة التي حدث فيها خطأ.</span><span class="sxs-lookup"><span data-stu-id="8b377-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="8b377-212">يتم تجنب عطب في البيانات.</span><span class="sxs-lookup"><span data-stu-id="8b377-212">Data corruption is avoided.</span></span> <span data-ttu-id="8b377-213">على سبيل المثال، في ميزة ترحيل كشف الحساب القديمة، كان هناك مثيلات حيث تمت فوترة بعض أوامر المبيعات ولكن البعض الآخر تُرك مفتوحًا.</span><span class="sxs-lookup"><span data-stu-id="8b377-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="8b377-214">وكانت هناك مثيلات أيضًا حيث لم تحتوي بعض دفاتر يومية المدفوعات على فاتورة مقابلة للتسوية، نظراً لأن ترحيل الفواتير كان به خطأ.</span><span class="sxs-lookup"><span data-stu-id="8b377-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="8b377-215">يمكن للمستخدمين مشاهدة الحالة الحالية لكشف الحساب باستخدام زر **تفاصيل حالة** في المجموعة **تفاصيل التنفيذ** لكشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="8b377-216">تحتوي صفحة تفاصيل الحالة على ثلاثة أقسام:</span><span class="sxs-lookup"><span data-stu-id="8b377-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="8b377-217">يوضح القسم الأول الحالة الحالية لكشف الحساب، إلى جانب رمز الخطأ ورسالة خطأ مفصلة، إذا حدث خطأ.</span><span class="sxs-lookup"><span data-stu-id="8b377-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="8b377-218">يوضح القسم الثاني حالات متعددة لعملية الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="8b377-219">تشير التلميحات المرئية إلى الحالات التي تم تشغيلها بنجاح، والحالات التي تعذر تشغيلها نظراً لحدوث أخطاء والحالات التي لم يتم بعد تشغيلها.</span><span class="sxs-lookup"><span data-stu-id="8b377-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="8b377-220">يوضح القسم الثالث حالات متعددة لعملية الترحيل.</span><span class="sxs-lookup"><span data-stu-id="8b377-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="8b377-221">تشير التلميحات المرئية إلى الحالات التي تم تشغيلها بنجاح، والحالات التي تعذر تشغيلها نظراً لحدوث أخطاء والحالات التي لم يتم بعد تشغيلها.</span><span class="sxs-lookup"><span data-stu-id="8b377-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="8b377-222">بالإضافة إلى ذلك، يعرض رأس القسم الثاني والثالث الحالة الكلية للعملية ذات الصلة.</span><span class="sxs-lookup"><span data-stu-id="8b377-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="8b377-223">سجلات الأحداث</span><span class="sxs-lookup"><span data-stu-id="8b377-223">Event logs</span></span>

<span data-ttu-id="8b377-224">يمر كشف الحساب بعمليات عديدة (مثل، الإنشاء والحساب والمسح والترحيل)، ويمكن استدعاء مثيلات متعددة لنفس العملية أثناء دورة حياة كشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="8b377-225">على سبيل المثال، بعد أن يتم إنشاء كشف حساب وحسابه، يمكن للمستخدم مسح كشف الحساب وحسابه مرة أخرى.</span><span class="sxs-lookup"><span data-stu-id="8b377-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="8b377-226">يوفر زر **سجلات الأحداث** في مجموعة **تفاصيل التنفيذ** لكشف الحساب سجل مراجعة كامل للعديد من العمليات التي تم استدعائها لكشف الحساب، إلى جانب معلومات حول متى تم استدعاء تلك العمليات.</span><span class="sxs-lookup"><span data-stu-id="8b377-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="8b377-227">الحركات المجمعة</span><span class="sxs-lookup"><span data-stu-id="8b377-227">Aggregated transactions</span></span>

<span data-ttu-id="8b377-228">أثناء عملية الترحيل، يتم تجميع حركات المبيعات بناء على التكوين.</span><span class="sxs-lookup"><span data-stu-id="8b377-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="8b377-229">ويتم تخزين هذه الحركات المجمعة في النظام واستخدامها لإنشاء أوامر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="8b377-230">وتقوم كل حركة مجمعة بإنشاء أمر مبيعات مقابل في النظام.</span><span class="sxs-lookup"><span data-stu-id="8b377-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="8b377-231">يمكنك الحركات المجمعة باستخدام زر **الحركات المجمعة** في المجموعة **تفاصيل التنفيذ** لكشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="8b377-232">تعرض علامة تبويب **تفاصيل أمر المبيعات** الخاصة بحركة مجمعة المعلومات التالية:</span><span class="sxs-lookup"><span data-stu-id="8b377-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="8b377-233">**معرف السجل** - المعرف للحركة المجمعة.</span><span class="sxs-lookup"><span data-stu-id="8b377-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="8b377-234">**رقم كشف الحساب** -كشف الحساب الذي تنتمي إليه الحركة المجمعة.</span><span class="sxs-lookup"><span data-stu-id="8b377-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="8b377-235">**التاريخ** – التاريخ الذي تم فيه ترحيل الحركة.</span><span class="sxs-lookup"><span data-stu-id="8b377-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="8b377-236">**معرف المبيعات** -عند إنشاء أمر مبيعات من الحركة المجمعة، فإنه يكون معرف أمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="8b377-237">إذا كان هذا الحقل فارغاً، فهذا يعني أنه لم يتم إنشاء أمر المبيعات المقابل.</span><span class="sxs-lookup"><span data-stu-id="8b377-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="8b377-238">**عدد البنود المجمعة** - إجمالي عدد البنود لحركة مجمعة وأمر مبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="8b377-239">**الحالة** - الحالة الأخيرة للحركة المجمعة.</span><span class="sxs-lookup"><span data-stu-id="8b377-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="8b377-240">**معرف الفاتورة** -عند فوترة أمر المبيعات الخاص بالحركة المجمعة، فهذا يكون معرف فاتورة المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="8b377-241">إذا كان هذا الحقل فارغاً، فهذا يعني أنه لم يتم ترحيل الفاتورة لأمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="8b377-242">تعرض علامة تبويب **تفاصيل الحركة** لحركة مجمعة جميع حركات البيع بالتجزئة التي تم سحبها إلى الحركة المجمعة.</span><span class="sxs-lookup"><span data-stu-id="8b377-242">The **Transaction details** tab of an aggregated transaction shows all the retail transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="8b377-243">تُظهر البنود المجمعة في الحركة المجمعة كافة السجلات المجمعة من حركات البيع بالتجزئة.</span><span class="sxs-lookup"><span data-stu-id="8b377-243">The aggregated lines on the aggregated transaction show all the aggregated records from the retail transactions.</span></span> <span data-ttu-id="8b377-244">وتعرض البنود المجمعة أيضا تفاصيل مثل الصنف والمتغير والكمية والسعر والمبلغ الصافي والوحدة والمستودع.</span><span class="sxs-lookup"><span data-stu-id="8b377-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="8b377-245">بشكل أساسي، يتوافق كل بند مجمع مع بند أمر مبيعات واحد.</span><span class="sxs-lookup"><span data-stu-id="8b377-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="8b377-246">من صفحة **الحركات المجمعة**، يمكنك تنزيل ملف XML لحركة مجمعة معينة باستخدام الزر **تصدير أمر المبيعات xml**.</span><span class="sxs-lookup"><span data-stu-id="8b377-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="8b377-247">يمكنك استخدام XML لتصحيح المشكلات التي تتضمن إنشاء أمر المبيعات والترحيل.</span><span class="sxs-lookup"><span data-stu-id="8b377-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="8b377-248">قم فقط بتنزيل XML وتحميله إلى بيئة اختبار وتصحيح المشكلة في بيئة الاختبار.</span><span class="sxs-lookup"><span data-stu-id="8b377-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="8b377-249">الأداء الوظيفي لتنزيل XML للحركات المجمعة غير متوفر لكشوف الحساب التي تم ترحيلها.</span><span class="sxs-lookup"><span data-stu-id="8b377-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="8b377-250">توفر طريقة عرض الحركة المجمعة الفوائد التالية:</span><span class="sxs-lookup"><span data-stu-id="8b377-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="8b377-251">يتوفر للمستخدم رؤية للحركات المجمعة التي فشلت أثناء إنشاء أمر المبيعات وأوامر المبيعات التي فشلت أثناء الفوترة.</span><span class="sxs-lookup"><span data-stu-id="8b377-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="8b377-252">يتوفر للمستخدم رؤية كيف يتم تجميع الحركات.</span><span class="sxs-lookup"><span data-stu-id="8b377-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="8b377-253">كما يتوفر للمستخدم سجل مراجعة كامل، من حركات البيع بالتجزئة، إلى أوامر المبيعات وإلى فواتير المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-253">The user has a complete audit trail, from retail transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="8b377-254">لم يكن سجل المراجعة هذا متوفرًا في ميزة ترحيل كشف الحساب القديمة.</span><span class="sxs-lookup"><span data-stu-id="8b377-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="8b377-255">يعمل ملف XML المجمع على تسهيل التعرف على المشكلات أثناء إنشاء أمر المبيعات والفوترة.</span><span class="sxs-lookup"><span data-stu-id="8b377-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="8b377-256">إيصالات دفتر اليومية</span><span class="sxs-lookup"><span data-stu-id="8b377-256">Journal vouchers</span></span>

<span data-ttu-id="8b377-257">يعرض زر **‏‫إيصالات دفتر اليومية‬** في مجموعة **تفاصيل التنفيذ** لكشف الحساب كافة حركات الإيصال المختلفة التي تم إنشاؤها لكشف الحساب، والتي ترتبط بالخصومات وحسابات الإيرادات/المصروفات وبطاقات الهدايا، وغير ذلك.</span><span class="sxs-lookup"><span data-stu-id="8b377-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="8b377-258">في الوقت الحالي، يعرض البرنامج هذه البيانات فقط بشأن كشوف الحساب المرحلة.</span><span class="sxs-lookup"><span data-stu-id="8b377-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="8b377-259">دفاتر يومية المدفوعات</span><span class="sxs-lookup"><span data-stu-id="8b377-259">Payment journals</span></span>

<span data-ttu-id="8b377-260">يعرض زر **دفاتر يومية المدفوعات** في مجموعة **تفاصيل التنفيذ** لكشف الحساب كافة دفاتر يومية المدفوعات المختلفة التي تم إنشاؤها لكشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="8b377-261">في الوقت الحالي، يعرض البرنامج هذه البيانات فقط بشأن كشوف الحساب المرحلة.</span><span class="sxs-lookup"><span data-stu-id="8b377-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="8b377-262">تحسينات أخرى</span><span class="sxs-lookup"><span data-stu-id="8b377-262">Other improvements</span></span>

<span data-ttu-id="8b377-263">تم إنشاء البيئات الأخرى الخلفية التي يمكن أن يراها المستخدم لميزة ترحيل كشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="8b377-264">فيما يلي بعض الأمثلة:</span><span class="sxs-lookup"><span data-stu-id="8b377-264">Here are some examples:</span></span>

- <span data-ttu-id="8b377-265">لا يأخذ التجميع بعين الاعتبار الفريق والوحدات الطرفية وكيانات الورديات.</span><span class="sxs-lookup"><span data-stu-id="8b377-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="8b377-266">نظراً لوجود معلمات تجميع أقل، فيجب معالجة عدد أقل من بنود أمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="8b377-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="8b377-267">ويتم تقليل حدوث حالة توقف تام في جداول عمليات البيع بالتجزئة بتقديم جداول الملحقات الإضافية وبالقيام بعمليات الإدراج بدلاً من عمليات التحديث على جداول عمليات البيع بالتجزئة.</span><span class="sxs-lookup"><span data-stu-id="8b377-267">The occurrence of deadlock on retail transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the retail transaction tables.</span></span>
- <span data-ttu-id="8b377-268">تم تعيين معلمات لعدد المهام الدفعية التي يتم تنفيذها حاليا وتحديدها.</span><span class="sxs-lookup"><span data-stu-id="8b377-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="8b377-269">لذلك، يمكن ضبط هذا الرقم خصيصا لبيئة العميل.</span><span class="sxs-lookup"><span data-stu-id="8b377-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="8b377-270">في ميزة ترحيل كشف الحساب القديمة، تم إنشاء عدد غير محدود من المهام الدفعية في نفس الوقت.</span><span class="sxs-lookup"><span data-stu-id="8b377-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="8b377-271">ونتج عن ذلك وجود أحمال يصعب التحكم بها وأعباء واختناقات في خادم المجموعة.</span><span class="sxs-lookup"><span data-stu-id="8b377-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="8b377-272">يتم وضع كشوف الحساب بفعالية في قائمة الانتظار للمعالجة حسب أولوية كشوف الحساب التي تحتوي على أقصى عدد من الحركات.</span><span class="sxs-lookup"><span data-stu-id="8b377-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="8b377-273">يتم تنفيذ عمليات معالجة الدفعة مثل **حساب الكشوف على دفعات** و **ترحيل الكشوف على دفعات** في الوضع الدفعي فقط.</span><span class="sxs-lookup"><span data-stu-id="8b377-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="8b377-274">في ميزة ترحيل كشف الحساب القديمة، يمكن أن يختار المستخدمون تشغيل عمليتي المعالجة الدفعية هاتين في وضع تفاعلي وهو عملية بمؤشر ارتباط واحد على عكس عمليات المعالجة الدفعية التي تكون ذات مؤشرات الارتباط المتعددة.</span><span class="sxs-lookup"><span data-stu-id="8b377-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="8b377-275">في ميزة ترحيل كشف الحساب القديمة، أي إخفاق لمهمة دفعية يضع الوظيفة الدفعية بأكملها في حالة خطأ.</span><span class="sxs-lookup"><span data-stu-id="8b377-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="8b377-276">في الميزة المحسنة، فإن حالات فشل المهمة الدفعية لا يضع الوظيفة الدفعية في حالة خطأ إذا تم إكمال المهام الدفعية الأخرى بنجاح.</span><span class="sxs-lookup"><span data-stu-id="8b377-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="8b377-277">يجب أن تقيّم حالة الترحيل الخاصة بتشغيل التنفيذ الدفعي باستخدام صفحة **كشوف البيع بالتجزئة**، حيث يمكنك مشاهدة أي كشوف حساب لم يتم ترحيلها نظراً لوجود أخطاء.</span><span class="sxs-lookup"><span data-stu-id="8b377-277">You should assess the posting status for a batch execution run by using the **Retail statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="8b377-278">في ميزة ترحيل كشف الحساب القديمة، فإن أول حدوث لفشل كشف الحساب يؤدي إلى فشل المجموعة بأكملها.</span><span class="sxs-lookup"><span data-stu-id="8b377-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="8b377-279">ولا تتم معالجة كشوف الحساب المتبقية.</span><span class="sxs-lookup"><span data-stu-id="8b377-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="8b377-280">في الميزة المحسنة، تستمر المعالجة الدفعية في معالجة كافة كشوف الحساب، حتى في حالة فشل بعض كشوف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="8b377-281">ومن الفوائد الأخرى أنه يتوفر للمستخدمين رؤية العدد الفعلي لكشوف الحساب التي تحتوي على أخطاء.</span><span class="sxs-lookup"><span data-stu-id="8b377-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="8b377-282">وبالتالي، لن يعلق المستخدمون في حلقة مفرغة من إصلاح الأخطاء وتشغيل عملية الترحيل حتى ترحيل جميع كشوف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="8b377-283">إرشادات عامة حول عملية ترحيل كشف الحساب</span><span class="sxs-lookup"><span data-stu-id="8b377-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="8b377-284">من المستحسن أن تقوم بتشغيل عملية ترحيل كشف الحساب على دفعات، نظراً لأن التشغيل على دفعات يستفيد من إمكانيات إطار عمل المجموعة من حيث التشغيل متعدد العمليات.</span><span class="sxs-lookup"><span data-stu-id="8b377-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="8b377-285">ويكون تعدد العمليات مطلوبًا للتعامل مع الأحجام الكبيرة للحركات التي تتم مشاهدتها عادة في ترحيلات كشف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="8b377-286">من المستحسن أن تقوم بتشغيل المخزون الفعلي السالب في مجموعة نماذج الأصناف، حيث تتاح لك تجربة ترحيل سلسة.</span><span class="sxs-lookup"><span data-stu-id="8b377-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="8b377-287">في بعض السيناريو، قد لا يمكن ترحيل الكشوف السالبة ما لم يكن هناك مخزون فعلي سالب.</span><span class="sxs-lookup"><span data-stu-id="8b377-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="8b377-288">على سبيل المثال، من الناحية النظرية، إذا كان هناك وحدة واحدة فقط من أحد الأصناف في المخزون، وكانت هناك حركة مبيعات وحركة إرجاع للصنف، الحركة يجب أن يكون من الممكن ترحيل الحركة حتى إذا لم يتم تشغيل مخزون سالب.</span><span class="sxs-lookup"><span data-stu-id="8b377-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="8b377-289">ومع ذلك، لأن عملية ترحيل كشف الحساب تسحب كلا من حركة المبيعات وحركة الإرجاع في أمر عميل فردي، ليس هناك ضمان بأن بند المبيعات سيتم ترحيله أولاً، متبوعاً ببند الإرجاع.</span><span class="sxs-lookup"><span data-stu-id="8b377-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="8b377-290">لذلك، يمكن أن يحدث خطأ.</span><span class="sxs-lookup"><span data-stu-id="8b377-290">Therefore, errors can occur.</span></span> <span data-ttu-id="8b377-291">إذا تم تشغيل مخزون سالب في هذا السيناريو، فإن ترحيل الحركة لا يتأثر سلبيا وسيعكس النظام المخزون بشكل صحيح.</span><span class="sxs-lookup"><span data-stu-id="8b377-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="8b377-292">فمن الأفضل أن تستخدم التجميع أثناء حساب وترحيل كشوف الحساب.</span><span class="sxs-lookup"><span data-stu-id="8b377-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="8b377-293">لذلك، يوصي بالإعدادات التالية لبعض محددات التجميع:</span><span class="sxs-lookup"><span data-stu-id="8b377-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="8b377-294">اذهب إلى **معلمات البيع بالتجزئة** \> **‏‫إعداد المراكز الرئيسية** \> **المعلمات** \> **معلمات البيع بالتجزئة**.</span><span class="sxs-lookup"><span data-stu-id="8b377-294">Go to **Retail** \> **Headquarters setup** \> **Parameters** \> **Retail parameters**.</span></span> <span data-ttu-id="8b377-295">بعد ذلك، من علامة التبويب **ترحيل**، في علامة التبويب السريعة **تحديث المخزون**، في حقل **مستوى التفاصيل**، حدد **ملخص**.</span><span class="sxs-lookup"><span data-stu-id="8b377-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="8b377-296">اذهب إلى **معلمات البيع بالتجزئة** \> **‏‫إعداد المراكز الرئيسية** \> **المعلمات** \> **معلمات البيع بالتجزئة**.</span><span class="sxs-lookup"><span data-stu-id="8b377-296">Go to **Retail** \> **Headquarters setup** \> **Parameters** \> **Retail parameters**.</span></span> <span data-ttu-id="8b377-297">بعد ذلك، من علامة التبويب **ترحيل**، في علامة التبويب السريعة **التجميع**، قم بتعيين خيار **حركات الإيصال** إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="8b377-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>
