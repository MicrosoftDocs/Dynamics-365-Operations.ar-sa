---
title: إدارة الأوامر الموزعة (DOM)
description: يصف هذا الموضوع وظيفة إدارة الأوامر الموزعة (DOM) في Dynamics 365 Commerce.
author: josaw1
ms.date: 01/08/2021
ms.topic: index-page
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: f50bc2828df19062a6bdced6faaa7b4d66c38bed
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/31/2021
ms.locfileid: "5792765"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="6ed1a-103">إدارة الأوامر الموزعة (DOM)</span><span class="sxs-lookup"><span data-stu-id="6ed1a-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="6ed1a-104">في النموذج الجديد لعمليات التجارة، يبذل تجار البيع بالتجزئة كل الجهود الممكنة لتوفير تجارب مخصصة لمشاركة العميل والقنوات متعددة الاتجاهات‬ بالإضافة إلى تفاعلات سلسة خالية من المشاكل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="6ed1a-105">ونظرًا للعدد الكبير من الخيارات المتوفرة، سوف يتسوّق المستهلكون في المكان الذين يمكنه أن يوفر التجربة الأكثر ملاءمة لهم.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="6ed1a-106">في حالات كثيرة، لم تعد الأسعار والمنتجات أهم العوامل التي تحث المستهلكين على اتخاذ قرار الشراء.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="6ed1a-107">للمساعدة في تحسين تجربة العميل، يجب أن تكون لدى تجار البيع بالتجزئة رؤية واضحة لمخزونهم في الوقت الحقيقي، وعبر جميع قنواتهم.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="6ed1a-108">فبإمكان طريقة عرض واحدة وشاملة للمخزون بكامله أن تساعد على تنفيذ الأوامر وتخصيصها وتوزيعها,</span><span class="sxs-lookup"><span data-stu-id="6ed1a-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="6ed1a-109">وبالتالي، أصبح اعتماد وتنفيذ نظام إدارة الأوامر الموزعة (DOM) أمرًا بالغ الأهمية لبائعي التجزئة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="6ed1a-110">يحسن نظام إدارة الأوامر الموزعة (DOM) تنفيذ الأوامر عبر شبكة معقدة من الأنظمة والعمليات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="6ed1a-111">وهو يعتمد على طريقة عرض عمومية واحدة للمخزون عبر المؤسسة بكاملها تسمح بإدارة الأوامر بطريقة ذكية، بحيث يتم تنفيذها بطريقة دقيقة ومعقولة التكلفة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="6ed1a-112">ومن خلال تحسين فعالية سلسلة توريد بائع التجزئة، يساعد نظام DOM بائعي التجزئة على تلبية توقعات العملاء بطريقة أفضل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="6ed1a-113">يبين الرسم التوضيحي التالي دورة حياة أمر مبيعات في نظام DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="6ed1a-114">![دورة حياه أمر المبيعات في سياق DOM](./media/flow.png "دورة حياه أمر المبيعات في سياق DOM")</span><span class="sxs-lookup"><span data-stu-id="6ed1a-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="6ed1a-115">إعداد DOM</span><span class="sxs-lookup"><span data-stu-id="6ed1a-115">Set up DOM</span></span>

1. <span data-ttu-id="6ed1a-116">انتقل إلى **إدارة النظام \> الإعداد \> تكوين الترخيص**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="6ed1a-117">على علامة تبويب **مفاتيح التكوين**، وسّع عقدة **التجارة**، ثم حدد خانة الاختيار **إدارة الأوامر الموزعة**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="6ed1a-118">انتقل إلى **Retail وCommerce \> إدارة الأوامر الموزعة \> الإعداد \> معلمات DOM**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="6ed1a-119">على علامة التبويب **عام**، عيّن القيم التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="6ed1a-120">**تمكين إدارة الأوامر الموزعة** – عيّن هذا الخيار إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="6ed1a-121">**تأكيد استخدام خرائط Bing لإدارة الأوامر الموزعة‬** – عيّن هذا الخيار إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>


        > [!NOTE]
        > <span data-ttu-id="6ed1a-122">يمكنك تعيين هذا الخيار إلى **نعم** فقط إذا كان الخيار **تمكين خرائط Bing** على علامة تبويب **خرائط Bing** في صفحة **المعلمات المشتركة لـ Commerce** (**Retail وCommerce \> إعداد Headquarters \> معلمات \> المعلمات المشتركة لـ Commerce**) معينًا أيضًا إلى **نعم**، وإذا تم إدخال مفتاح صالح في حقل **مفتاح خرائط Bing**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>
        >
        > <span data-ttu-id="6ed1a-123">يسمح لك مدخل [مركز تطوير خرائط Bing](https://www.bingmapsportal.com/) بتقييد الوصول إلى مفاتيح API الخاصة بخرائط Bing إلى مجموعة من المجالات التي تحددها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-123">The [Bing Maps Dev Center](https://www.bingmapsportal.com/) portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify.</span></span> <span data-ttu-id="6ed1a-124">وباستخدام هذه الميزة، يمكن للعملاء تعريف مجموعة صارمة من القيم المرجعة أو نطاقات عناوين IP التي سيتم التحقق من صحة المفتاح مقابلها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-124">With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against.</span></span> <span data-ttu-id="6ed1a-125">ستقوم الطلبات التي تنشأ من قائمة السماح الخاصة بك بالمعالجة العادية، بينما تقوم الطلبات من خارج القائمة بإرجاع استجابة رفض الوصول.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-125">Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response.</span></span> <span data-ttu-id="6ed1a-126">تعتبر إضافة أمان المجال إلى المفتاح API اختياريًا ويستمر عمل المفاتيح التي ستبقي كما هي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-126">Adding domain security to your API key is optional and keys left as-is will continue to function.</span></span> <span data-ttu-id="6ed1a-127">وتكون قائمة السماح للمفتاح مستقلة عن كافة المفاتيح الأخرى، مما يمكنك من الحصول على قواعد مميزة لكل من المفاتيح الخاصة بك.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-127">The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys.</span></span> <span data-ttu-id="6ed1a-128">لا تعتمد "إدارة الأوامر الموزعة" إعداد الخصائص التي تتم الإشارة إليها في المجال.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-128">Distributed Order Management does not support the setting up of domain-referred properties.</span></span>


    - <span data-ttu-id="6ed1a-129">**فترة الاحتجاز بالأيام‬** – تحديد الفترة التي يتم خلالها الاحتفاظ بخطط التنفيذ التي يقوم نظام DOM بتشغيلها في النظام.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-129">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="6ed1a-130">ستقوم الوظيفة الدفعية **إعداد وظيفة حذف بيانات إدارة الأوامر الموزعة‬** بحذف أي خطة تنفيذ تكون أقدم من عدد الأيام التي تحددها هنا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-130">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="6ed1a-131">**فترة الرفض (بالأيام)** – تحديد فترة الوقت التي يجب أن تنقضي قبل أن يصبح من الممكن تعيين بند أمر مرفوض إلى الموقع نفسه.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-131">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="6ed1a-132">على علامة تبويب **الحلول‬**، عيّن القيم التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-132">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="6ed1a-133">**الحد الأقصى لعدد محاولات التنفيذ التلقائي‬** – حدد عدد المرات التي يحاول خلالها محرك DOM توريد بند أمر إلى موقع ما.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-133">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="6ed1a-134">إذا تعذر على محرك DOM توريد بند أمر إلى أحد المواقع بعد انقضاء عدد المحاولات المحدد، فسيضع علامة على بند الأمر على أنه استثناء.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-134">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="6ed1a-135">وسيتخطى عندئذٍ هذا البند في عمليات التشغيل المستقبلية حتى يُعاد تعيين الحالة يدويًا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-135">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="6ed1a-136">**نصف قطر منطقة المخزن المحلي‬** – أدخل قيمة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-136">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="6ed1a-137">يساعد هذا الحقل على تحديد كيفية تجميع المواقع واعتبارها متساوية من ناحية المسافة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-137">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="6ed1a-138">على سبيل المثال، إذا أدخلت **100**، فيستم اعتبار كل متجر أو مركز توزيع ضمن نطاق نصف قطر من 100 ميل من عنوان التنفيذ متساويًا من ناحية المسافة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-138">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="6ed1a-139">**نوع الحلول‬** – حدد قيمة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-139">**Solver type** – Select a value.</span></span> <span data-ttu-id="6ed1a-140">هناك نوعان من الحلول تم إصدارهما مع Commerce: **حلول الإنتاج** و **الحلول المُبسطة‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-140">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="6ed1a-141">بالنسبة إلى جميع الأجهزة التي ستقوم بتشغيل DOM (أي، جميع الخوادم التي تعد جزءًا من مجموعة DOMBatch)، يجب تحديد **حلول الإنتاج**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-141">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="6ed1a-142">تحتاج حلول الإنتاج إلى مفتاح الترخيص الذي يتم ترخيصه ونشره في بيئات الإنتاج بشكل افتراضي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-142">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="6ed1a-143">بالنسبة إلى البيئات التي لا علاقة لها بالإنتاج، يجب نشر مفتاح الترخيص يدويًا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-143">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="6ed1a-144">لنشر مفتاح الترخيص يدويًا، اتبع الخطوات التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-144">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="6ed1a-145">في Microsoft Dynamics Lifecycle Services، افتح مكتبة الأصول المشتركة‬، وحدد **النموذج** كنوع الأصول، وقم بتنزيل ملف **ترخيص DOM**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-145">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        1. <span data-ttu-id="6ed1a-146">ابدأ تشغيل Microsoft Internet Information Services (IIS) Manager، وانقر بزر الماوس الأيمن فوق **AOSService website**، ثم حدد **استكشاف**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-146">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="6ed1a-147">تفتح نافذة مستكشف Windows في **\<AOS service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-147">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="6ed1a-148">سجّل المسار \<AOS Service root\>، لأنك ستستخدمه في الخطوة التالية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-148">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        1. <span data-ttu-id="6ed1a-149">انسخ ملف التكوين في الدليل **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-149">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        1. <span data-ttu-id="6ed1a-150">انتقل إلى عميل Headquarters، وافتح صفحة **معلمات DOM**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-150">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="6ed1a-151">على علامة تبويب **الحلول**، في الحقل **نوع الحلول**، حدد **حلول الإنتاج**، وتأكد من عدم ظهور رسائل خطأ.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-151">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>


        > [!NOTE]
        > <span data-ttu-id="6ed1a-152">تتوفر "الحلول المُبسطة‬" لتمكين بائعي التجزئة من تجربة ميزة DOM من دون الحاجة إلى نشر الترخيص الخاص.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-152">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="6ed1a-153">يجب على المؤسسات عدم استخدام "الحلول المُبسطة‬" في بيئات التشغيل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-153">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="6ed1a-154">وعلى الرغم من أن "الحلول المُبسطة‬" توفر مجموعة القدرات نفسها التي توفرها "حلول الإنتاج"، إلا أن ثمة قيود من ناحية الأداء (عدد الأوامر وبنود الأوامر التي يمكن التعامل معها خلال عملية تشغيل واحدة) وتقارب النتائج (قد لا تنتج دُفعة من الأوامر أفضل النتائج في بعض السيناريوهات).</span><span class="sxs-lookup"><span data-stu-id="6ed1a-154">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios).</span></span> <span data-ttu-id="6ed1a-155">تحتاج بعض القواعد مثل قاعدة **الأوامر الجزئية** وقاعدة **الحد الأقصى لعدد المواقع** إلى حلول الإنتاج.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-155">Some rules like the **Partial orders** rule and the **Maximum number of locations** rule require Production Solver.</span></span>
     
6. <span data-ttu-id="6ed1a-156">ارجع **Retail وCommerce \> إدارة الأوامر الموزعة \> الإعداد \> معلمات DOM**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-156">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="6ed1a-157">على علامة تبويب **التسلسلات الرقمية**، عيّن عدد التسلسلات الرقمية المطلوبة إلى مختلف كيانات DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-157">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6ed1a-158">قبل تعيين التسلسلات الرقمية إلى الكيانات، يجب تعريفها في صفحة **التسلسلات الرقمية** (**إدارة المؤسسة \> التسلسلات الرقمية \> التسلسلات الرقمية**).</span><span class="sxs-lookup"><span data-stu-id="6ed1a-158">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="6ed1a-159">تدعم ميزة DOM تعريف أنواع مختلفة من قواعد DOM، وباستطاعة المؤسسات تكوين قواعد متعددة، بحسب احتياجات العمل لديها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-159">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="6ed1a-160">يمكن تعريف قواعد DOM لمجموعة من المواقع أو لمواقع فردية، ولفئة منتج معينة أو منتج أو متغير معين.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-160">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="6ed1a-161">لإنشاء مجموعات المواقع التي يجب استخدامها لقواعد DOM، اتبع الخطوات التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-161">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="6ed1a-162">انتقل إلى **Retail وCommerce \> إعداد القناة‬ \> مجموعات التنفيذ‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-162">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="6ed1a-163">حدد **جديد**، وأدخل اسمًا ووصفًا جديدين للمجموعة الجديدة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-163">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="6ed1a-164">حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-164">Select **Save**.</span></span>
    4. <span data-ttu-id="6ed1a-165">حدد **إضافة بند‬** لإضافة موقع واحد إلى المجموعة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-165">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="6ed1a-166">أو، حدد **إضافة بنود** لإضافة مواقع متعددة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-166">Alternatively, select **Add lines** to add multiple locations.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="6ed1a-167">في الإصدار 10.0.12 والأحدث من Commerce، **يجب تمكين القدرة على تحديد المواقع باعتبارها ممكّنة 'الشحن' أو 'الانتقاء' داخل مجموعة التنفيذ** في مساحة عمل **إدارة الميزات**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-167">In Commerce version 10.0.12 and higher, **Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group** must be enabled in the **Feature Management** workspace.</span></span>
    >
    > <span data-ttu-id="6ed1a-168">تضيف هذه الميزة تكوينات جديدة في صفحة **مجموعة التنفيذ** بحيث يمكنك تحديد ما إذا كان من الممكن استخدام المستودع للشحن أو ما إذا كان من الممكن استخدام توليفة المستودع/المتجر للشحن أو الانتقاء أو كليهما.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-168">This feature add new configurations on the **Fulfillment group** page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</span></span> 
    >
    > <span data-ttu-id="6ed1a-169">في حالة تمكين الميزة، سيتم تحديث الخيارات المتاحة لتحديد الموقع عند إنشاء أوامر الانتقاء أو الشحن في POS.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-169">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</span></span>
    >
    > <span data-ttu-id="6ed1a-170">يؤدي تمكين الميزة أيضًا إلى تحديث الصفحات في POS عند تحديد عمليات "شحن الكل" أو "شحن محدد".</span><span class="sxs-lookup"><span data-stu-id="6ed1a-170">Enabling the feature also results in updated pages in POS when the "ship all" or "ship selected" operations are selected.</span></span>

9. <span data-ttu-id="6ed1a-171">لتعريف القواعد، انتقل إلى **Retail وCommerce \> إدارة الأوامر الموزعة \> إعداد \> إدارة القواعد**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-171">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="6ed1a-172">يتم حاليًا اعتماد قواعد DOM التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-172">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="6ed1a-173">**قاعدة أدنى مخزون‬** – تتيح هذه القاعدة للمؤسسات "حماية" كمية معينة أو منتج معين لأغراض أخرى غير تلك المتعلقة بتنفيذ الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-173">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="6ed1a-174">على سبيل المثال، قد لا ترغب المؤسسات في السماح لإدارة الأوامر الموزعة (DOM) بأخذ كامل المخزون المتوفر في المتجر في الاعتبار لتنفيذ الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-174">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="6ed1a-175">بدلاً من ذلك، قد ترغب في حجز بعض المخزون للعملاء العابرين.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-175">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="6ed1a-176">عند استخدام قاعدة من هذا النوع، يمكنك تحديد الحد الأدنى للمخزون للاحتفاظ بفئة منتجات أو منتج فردي أو متغير منتج في موقع أو مجموعة مواقع.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-176">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="6ed1a-177">**قاعدة أولوية موقع التنفيذ‬** – يسمح نوع القاعدة هذا للمؤسسات بتحديد تدرج هرمي للمواقع لوضع الأولوية التي يأخذها محرك DOM في الاعتبار عندما يحاول تحديد مواقع تنفيذ لمنتجات معينة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-177">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="6ed1a-178">يتراوح النطاق الصالح للأولويات من 1 إلى 10، حيث يمثل 1 الأولوية العليا و10 الأولوية الدنيا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-178">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="6ed1a-179">تؤخذ في الاعتبار المواقع التي لها أولوية عليا قبل المواقع التي لها أولوية دنيا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-179">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="6ed1a-180">إذا تم تعريف القاعدة كقاعدة قيد ثابت، فسيتم توريد الأوامر فقط إلى المواقع التي تم تحديد أولويات لها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-180">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="6ed1a-181">**قاعدة الأوامر الجزئية** – تسمح هذه القاعدة للمؤسسات بتعريف ما إذا كان يمكن تنفيذ أمر أو بنود أمر بشكل جزئي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-181">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="6ed1a-182">تتوفر المعلمات التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-182">The following parameters are available:</span></span>

        - <span data-ttu-id="6ed1a-183">**تنفيذ الأوامر الجزئية؟**</span><span class="sxs-lookup"><span data-stu-id="6ed1a-183">**Fulfill partial orders?**</span></span> <span data-ttu-id="6ed1a-184">-إذا تم تعيين هذا الخيار إلى **نعم**، فبإمكان DOM تنفيذ جزء من الكمية فقط في بند أمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-184">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="6ed1a-185">يتم إنجاز هذا التنفيذ الجزئي عن طريق تقسيم بند الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-185">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="6ed1a-186">**تنفيذ البنود الجزئية؟**</span><span class="sxs-lookup"><span data-stu-id="6ed1a-186">**Fulfill partial lines?**</span></span> <span data-ttu-id="6ed1a-187">– إذا تم تعيين هذا الخيار إلى **نعم**، فبإمكان DOM تنفيذ كمية جزئية من بنود الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-187">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="6ed1a-188">يتم إنجاز هذا التنفيذ الجزئي عن طريق تقسيم بند الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-188">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="6ed1a-189">**تنفيذ أمر من موقع واحد فقط** – إذا تم تعيين هذا الخيار إلى **نعم**، يتأكد DOM من تنفيذ جميع بنود الأمر من موقع واحد.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-189">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="6ed1a-190">يوضح الجدول التالي السلوك عند تحديد مجموعة من هذه المعلمات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-190">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        | <span data-ttu-id="6ed1a-191">رقم المجموعة</span><span class="sxs-lookup"><span data-stu-id="6ed1a-191">Combination number</span></span> | <span data-ttu-id="6ed1a-192">تنفيذ الأوامر الجزئية</span><span class="sxs-lookup"><span data-stu-id="6ed1a-192">Fulfill partial orders</span></span> | <span data-ttu-id="6ed1a-193">تنفيذ البنود الجزئية</span><span class="sxs-lookup"><span data-stu-id="6ed1a-193">Fulfill partial lines</span></span> | <span data-ttu-id="6ed1a-194">تنفيذ الأمر من موقع واحد فقط</span><span class="sxs-lookup"><span data-stu-id="6ed1a-194">Fulfill order from one location only</span></span> | <span data-ttu-id="6ed1a-195">الوصف</span><span class="sxs-lookup"><span data-stu-id="6ed1a-195">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="6ed1a-196">1</span><span class="sxs-lookup"><span data-stu-id="6ed1a-196">1</span></span>    | <span data-ttu-id="6ed1a-197">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-197">Yes</span></span>                    | <span data-ttu-id="6ed1a-198">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-198">Yes</span></span>                   | <span data-ttu-id="6ed1a-199">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-199">Yes</span></span>                                  | <span data-ttu-id="6ed1a-200">يمكن تنفيذ بعض البنود في الأمر، ويمكن تنفيذ بنود فردية بشكل جزئي، ولكن يجب أن تكون جميع البنود من الموقع نفسه في مثيل تشغيل DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-200">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="6ed1a-201">(هذه المجموعة غير مدعومة حاليًا.)</span><span class="sxs-lookup"><span data-stu-id="6ed1a-201">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="6ed1a-202">2</span><span class="sxs-lookup"><span data-stu-id="6ed1a-202">2</span></span>    | <span data-ttu-id="6ed1a-203">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-203">Yes</span></span>                    | <span data-ttu-id="6ed1a-204">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-204">No</span></span>                    | <span data-ttu-id="6ed1a-205">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-205">Yes</span></span>                                  | <span data-ttu-id="6ed1a-206">يمكن تنفيذ بعض البنود في الأمر، ولكن لا يمكن تنفيذ بنود فردية بشكل جزئي، ويجب أن تكون جميع البنود التي يتم تنفيذها من الموقع نفسه في مثيل تشغيل DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-206">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="6ed1a-207">(هذه المجموعة غير مدعومة حاليًا.)</span><span class="sxs-lookup"><span data-stu-id="6ed1a-207">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="6ed1a-208">3</span><span class="sxs-lookup"><span data-stu-id="6ed1a-208">3</span></span>    | <span data-ttu-id="6ed1a-209">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-209">Yes</span></span>                    | <span data-ttu-id="6ed1a-210">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-210">Yes</span></span>                   | <span data-ttu-id="6ed1a-211">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-211">No</span></span>                                   | <span data-ttu-id="6ed1a-212">يمكن تنفيذ بعض البنود في الأمر، ويمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تنفيذ كل بند من أكثر من موقع واحد في مثيل تشغيل DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-212">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="6ed1a-213">4\*</span><span class="sxs-lookup"><span data-stu-id="6ed1a-213">4\*</span></span>  | <span data-ttu-id="6ed1a-214">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-214">No</span></span>                     | <span data-ttu-id="6ed1a-215">غير قابل للتطبيق</span><span class="sxs-lookup"><span data-stu-id="6ed1a-215">Not applicable</span></span>        | <span data-ttu-id="6ed1a-216">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-216">No</span></span>                                   | <span data-ttu-id="6ed1a-217">يجب تنفيذ جميع بنود الأمر، ولا يمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تنفيذ كل بند أمر من موقع مختلف.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-217">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="6ed1a-218">5\*</span><span class="sxs-lookup"><span data-stu-id="6ed1a-218">5\*</span></span>  | <span data-ttu-id="6ed1a-219">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-219">No</span></span>                     | <span data-ttu-id="6ed1a-220">غير قابل للتطبيق</span><span class="sxs-lookup"><span data-stu-id="6ed1a-220">Not applicable</span></span>        | <span data-ttu-id="6ed1a-221">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-221">Yes</span></span>                                  | <span data-ttu-id="6ed1a-222">يجب تنفيذ جميع بنود الأمر، ولا يمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تسليم جميع بنود الأمر من موقع واحد.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-222">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="6ed1a-223">6\*</span><span class="sxs-lookup"><span data-stu-id="6ed1a-223">6\*</span></span>  | <span data-ttu-id="6ed1a-224">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-224">No</span></span>                     | <span data-ttu-id="6ed1a-225">غير قابل للتطبيق</span><span class="sxs-lookup"><span data-stu-id="6ed1a-225">Not applicable</span></span>        | <span data-ttu-id="6ed1a-226">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-226">No</span></span>                                   | <span data-ttu-id="6ed1a-227">تعمل هذه المجموعة مثل المجموعة 4، نظرًا لعدم إمكانية تعيين **تنفيذ البنود الجزئية** إلى **نعم** عند تعيين **تنفيذ الأوامر الجزئية** إلى **لا**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-227">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="6ed1a-228">7\*</span><span class="sxs-lookup"><span data-stu-id="6ed1a-228">7\*</span></span>  | <span data-ttu-id="6ed1a-229">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-229">No</span></span>                     | <span data-ttu-id="6ed1a-230">غير قابل للتطبيق</span><span class="sxs-lookup"><span data-stu-id="6ed1a-230">Not applicable</span></span>        | <span data-ttu-id="6ed1a-231">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-231">Yes</span></span>                                  | <span data-ttu-id="6ed1a-232">تعمل هذه المجموعة مثل المجموعة 5، نظرًا لعدم إمكانية تعيين **تنفيذ البنود الجزئية** إلى **نعم** عند تعيين **تنفيذ الأوامر الجزئية** إلى **لا**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-232">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="6ed1a-233">8</span><span class="sxs-lookup"><span data-stu-id="6ed1a-233">8</span></span>    | <span data-ttu-id="6ed1a-234">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-234">Yes</span></span>                    | <span data-ttu-id="6ed1a-235">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-235">No</span></span>                    | <span data-ttu-id="6ed1a-236">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-236">No</span></span>                                   | <span data-ttu-id="6ed1a-237">يمكن تنفيذ بعض البنود في الأمر، ولكن لا يمكن تنفيذ بنود فردية بشكل جزئي، ويمكن تنفيذ مختلف بنود الأمر من أكثر من موقع واحد في مثيل تشغيل DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-237">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="6ed1a-238">9\*</span><span class="sxs-lookup"><span data-stu-id="6ed1a-238">9\*</span></span>  | <span data-ttu-id="6ed1a-239">لا</span><span class="sxs-lookup"><span data-stu-id="6ed1a-239">No</span></span>                     | <span data-ttu-id="6ed1a-240">غير قابل للتطبيق</span><span class="sxs-lookup"><span data-stu-id="6ed1a-240">Not applicable</span></span>        | <span data-ttu-id="6ed1a-241">‏‏نعم</span><span class="sxs-lookup"><span data-stu-id="6ed1a-241">Yes</span></span>                                  | <span data-ttu-id="6ed1a-242">يجب تنفيذ جميع بنود الأمر، ويجب تنفيذها من موقع واحد فقط.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-242">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="6ed1a-243">\* إذا تم تعيين **تنفيذ الأوامر الجزئية** إلى **لا**، فسيتم اعتبار **تنفيذ البنود الجزئية** على أنه معين دائمًا إلى **لا**، بصرف النظر عن كيفية تعيينه في الواقع.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-243">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="6ed1a-244">في الإصدار 10.0.5 من Retail، تم تغيير المعلمة **تنفيذ الأمر من موقع واحد فقط‬** إلى **الحد الأقصى لمواقع التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-244">In Retail version 10.0.5, the parameter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="6ed1a-245">بدلاً من السماح للمستخدم بتكوين ما إذا كان من الممكن تنفيذ الأوامر من موقع واحد فقط أو من أكبر عدد ممكن من المواقع، بإمكان المستخدمين الآن تحديد ما إذا كان التنفيذ ممكنًا من مجموعة محددة من المواقع (حتى 5 مواقع) أو من أكبر عدد ممكن من المواقع.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-245">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="6ed1a-246">يوفر هذا الأمر مستوى أكبر من المرونة من حيث عدد المواقع التي يمكن تنفيذ الأمر منها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-246">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span> <span data-ttu-id="6ed1a-247">تعمل هذه القاعدة فقط مع حلول الإنتاج.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-247">This rule only works with Production Solver.</span></span> 

   - <span data-ttu-id="6ed1a-248">**قاعدة موقع التنفيذ دون اتصال‬** – تسمح هذه القاعدة للمؤسسة بتحديد موقع أو مجموعة من المواقع كغير متصلة أو غير متوفرة لنظام DOM، بحيث يمكن تعيين الأوامر إلى هذه المواقع لتنفيذها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-248">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="6ed1a-249">**قاعدة الحد الأقصى للرفض** – تسمح هذه القاعدة بتعيين حد للرفض.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-249">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="6ed1a-250">عند الوصول إلى الحد، يضع معالج DOM علامة على أمر أو بند أمر كاستثناء، ويستبعده من أي معالجة إضافية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-250">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="6ed1a-251">بعد تعيين بنود الأمر إلى موقع، بإمكان الموقع رفض بند أمر معين، لأنه قد يتعذر عليه تنفيذ هذا البند لأسباب معينة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-251">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="6ed1a-252">توضع علامة على البنود المرفوضة كاستثناء وتوضع من جديد في التجمع لمعالجتها في وقت التشغيل التالي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-252">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="6ed1a-253">وأثناء التشغيل التالي، سيحاول DOM تعيين البند المرفوض إلى موقع آخر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-253">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="6ed1a-254">بإمكان الموقع الجديد أيضًا رفض بند الأمر المعين.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-254">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="6ed1a-255">بإمكان دورة التعيين والرفض هذه أن تحدث عدة مرات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-255">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="6ed1a-256">عندما يصل عدد مرات الرفض إلى الحد المعين، يضع نظام DOM علامة على بند الأمر كاستثناء دائم ولن يقوم بانتقاء البند لتعيينه مرة أخرى.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-256">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="6ed1a-257">ولن يأخذ DOM في الاعتبار بند الأمر لتعيينه مرة أخرى إلا إذا قام أحد المستخدمين بإعادة تعيين حالة بند الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-257">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="6ed1a-258">**قاعدة الحد الأقصى للمسافة‬** – تسمح هذا القاعدة للمؤسسات بتحديد الحد الأقصى لمسافة موقع أو مجموعة مواقع لتنفيذ الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-258">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="6ed1a-259">إذا تم تحديد قواعد قاعدة الحد الأقصى للمسافات متراكبة لموقع ما، فسيطبق نظام DOM الحد الأقصى للمسافة المحددة لهذا الموقع.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-259">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="6ed1a-260">**قاعدة الحد الأقصى للأوامر‬** – تسمح هذا القاعدة للمؤسسات بتحديد الحد الأقصى للأوامر‬ التي يمكن لموقع أو مجموعة مواقع معالجتها خلال يوم تقويمي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-260">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="6ed1a-261">إذا تم تعيين الحد الأقصى لعدد الأوامر إلى موقع في يوم واحد، فلن يقوم DOM بتعيين أي أوامر أخرى إلى هذا الموقع للجزء المتبقي من هذا اليوم التقويمي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-261">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="6ed1a-262">فيما يلي بعض السمات العامة التي يمكن تعريفها لكافة أنواع القواعد السابقة:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-262">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="6ed1a-263">**تاريخ البدء** و **تاريخ الانتهاء** – يمكن تحديد تاريخ سريان مفعول كل قاعدة باستخدام هذه الحقول.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-263">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="6ed1a-264">**معطّل** – في عملية تشغيل DOM، لا تؤخذ في الاعتبار إلا القواعد التي لديها القيمة **لا** لهذا الحقل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-264">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="6ed1a-265">**قيد ثابت** - يمكن تحديد قاعدة كقيد ثابت أو ليس كقيد ثابت.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-265">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="6ed1a-266">يمر كل تشغيل DOM عبر تكرارين اثنين:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-266">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="6ed1a-267">في التكرار الأول، يتم التعامل مع كل قاعدة كقاعدة قيد ثابت، بصرف النظر عن إعداد هذا الحقل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-267">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="6ed1a-268">بمعنى آخر، يتم تطبيق جميع القواعد.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-268">In other words, every rule is applied.</span></span> <span data-ttu-id="6ed1a-269">الاستثناء الوحيد هو قاعدة **أولوية الموقع**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-269">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="6ed1a-270">في التكرار الثاني، تُزال القواعد التي لم يتم تعريفها على أنها قواعد قيد ثابت. وبالنسبة إلى الأمر أو بنود الأمر التي لم تكن معينة إلى مواقع عندما كانت جميع القواعد مطبقة، سيتم تعيينها إلى مواقع.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-270">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="6ed1a-271">يتم استخدام ملفات تعريف التنفيذ لتجميع مجموعة من القواعد والكيانات القانونية وأصول أوامر المبيعات وأوضاع التسليم.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-271">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="6ed1a-272">تتعلق كل عملية تشغيل DOM بملف تعريف تنفيذ محدد.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-272">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="6ed1a-273">وبهذه الطريقة، بإمكان المؤسسات تحديد وتشغيل مجموعة قواعد لمجموعة من الكيانات القانونية، على الأوامر التي لديها أصول وأوضاع تسليم معينة لأوامر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-273">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="6ed1a-274">وبالتالي، إذا كان يجب تشغيل مجموعة مختلفة من القواعد لمجموعات مختلفة من أصول وأوضاع تسليم أوامر المبيعات‬، فيمكن تحديد ملفات تعريف التنفيذ وفقًا لذلك.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-274">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="6ed1a-275">لإعداد ملفات تعريف التنفيذ‬، اتبع هذه الخطوات:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-275">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="6ed1a-276">انتقل إلى **Retail وCommerce \> إدارة الأوامر الموزعة \> الإعداد \> ملفات تعريف التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-276">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="6ed1a-277">حدد **جديد**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-277">Select **New**.</span></span>
    3. <span data-ttu-id="6ed1a-278">أدخل قيمًا في حقلي **ملف التعريف** و **الوصف**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-278">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="6ed1a-279">عيّن الخيار **تطبيق النتيجة تلقائيًا‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-279">Set the **Auto apply result** option.</span></span> <span data-ttu-id="6ed1a-280">إذا قمت بتعيين هذا الخيار إلى **نعم**، فسيتم تطبيق نتائج تشغيل DOM لملف التعريف بشكل تقائي على بنود أمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-280">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="6ed1a-281">أما إذا قمت بتعيينه إلى **لا**، فيمكن عرض النتائج في خطة التنفيذ فقط.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-281">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="6ed1a-282">ولن يتم تطبيقها على بنود أمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-282">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="6ed1a-283">إذا أردت تشغيل ملف تعريف إدارة الأوامر الموزعة على أوامر لديها كل أصل أمر مبيعات، يشمل ذلك الأوامر التي لم يتم فيها تحديد أصل أمر المبيعات، فعيّن الخيار **مُعالجة الأوامر باستخدام أصل مبيعات فارغ‬** إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-283">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="6ed1a-284">لتشغيل ملف التعريف لبعض أصول أمر المبيعات، يمكنك تحديدها في صفحة **أصول المبيعات**، كما هو موضح فيما بعد.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-284">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>

    > [!NOTE]
    > <span data-ttu-id="6ed1a-285">في الإصدار 10.0.12 أو الأحدث من Commerce، **يجب تمكين القدرة على تعيين مجموعة التنفيذ إلى ملف تعريف التنفيذ** في مساحة عمل **إدارة الميزات**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-285">In Commerce version 10.0.12 and higher, **Ability to assign Fulfillment group to a Fulfillment Profile** must be enabled in the **Feature Management** workspace.</span></span> 
    >
    > <span data-ttu-id="6ed1a-286">تضيف هذه الميزة تكوينًا جديدًا في صفحة **ملف تعريف التنفيذ** والذي يمكن إقرانه بمجموعة تنفيذ فردية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-286">This feature adds a new configuration on the **Fulfillment profile** page that can be associated to a single fulfilment group.</span></span> 
    >
    > <span data-ttu-id="6ed1a-287">إذا قمت بتحديد مجموعة تنفيذ، فإن قواعد DOM الخاصة بملف تعريف التنفيذ هذه ستعمل بكفاءة مقابل مستودعات "الشحن" المضمنة في مجموعة التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-287">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the "shipping" warehouses included in the fulfilment group.</span></span> 
    > 
    > <span data-ttu-id="6ed1a-288">لاستخدام هذه الميزة بفاعلية، تأكد من وجود إحدى مجموعات التنفيذ التي تحتوي على كافة مستودعات الشحن، ثم قم بإقران مجموعة التنفيذ هذه بملف تعريف التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-288">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</span></span>
    
    6. <span data-ttu-id="6ed1a-289">على علامة التبويب السريعة **الكيانات القانونية**، حدد **إضافة**، ثم حدد كيانًا قانونيًا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-289">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="6ed1a-290">على علامة التبويب السريعة **القواعد**، حدد **إضافة**، ثم حدد القاعدة لربطها بملف التعريف.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-290">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="6ed1a-291">كرر الخطوتين السابقتين حتى يتم إقران جميع القواعد المطلوبة بملف التعريف.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-291">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="6ed1a-292">حدد **حفظ**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-292">Select **Save**.</span></span>
    10. <span data-ttu-id="6ed1a-293">في جزء "الإجراءات"، على علامة تبويب **الإعداد**، حدد **أوضاع التسليم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-293">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="6ed1a-294">في صفحة **أوضاع التسليم**، حدد **جديد**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-294">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="6ed1a-295">في حقل **الشركة**، حدد الكيان القانوني.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-295">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="6ed1a-296">تقتصر قائمة الشركات على الكيانات القانونية التي أضفتها في وقت سابق.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-296">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="6ed1a-297">في حقل **وضع التسليم**، حدد وضع التسليم الذي يجب إقرانه بملف التعريف هذا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-297">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="6ed1a-298">لا يمكن إقران وضع تسليم بملفات تعريف نشطة متعددة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-298">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="6ed1a-299">كرر الخطوتين السابقتين حتى يتم إقران جميع أوضاع التسليم المطلوبة بملف التعريف.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-299">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="6ed1a-300">أغلق صفحة **أوضاع التسليم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-300">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="6ed1a-301">في جزء "الإجراءات"، على علامة تبويب **الإعداد**، حدد **أصول أوامر المبيعات‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-301">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="6ed1a-302">في صفحة **أصول المبيعات‬**، حدد **جديد**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-302">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="6ed1a-303">في حقل **الشركة**، حدد الكيان القانوني.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-303">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="6ed1a-304">تقتصر قائمة الشركات على الكيانات القانونية التي أضفتها في وقت سابق.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-304">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="6ed1a-305">في الحقل **أصل المبيعات**، حدد أصل المبيعات الذي تريد إقرانه بملف التعريف هذا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-305">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="6ed1a-306">لا يمكن إقران أصل مبيعات بملفات تعريف نشطة متعددة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-306">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="6ed1a-307">كرر الخطوتين السابقتين حتى يتم إقران جميع أصول المبيعات المطلوبة بملف التعريف.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-307">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="6ed1a-308">أغلق صفحة **أصول المبيعات**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-308">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="6ed1a-309">عيّن الخيار **تمكين ملف التعريف** إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-309">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="6ed1a-310">في حالة وجود أخطاء في الإعداد، تتلقى رسالة تحذير.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-310">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="6ed1a-311">معالجة DOM</span><span class="sxs-lookup"><span data-stu-id="6ed1a-311">DOM processing</span></span>

<span data-ttu-id="6ed1a-312">سيتم تشغيل DOM فقط في وظيفة دفعية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-312">DOM will run only in a batch job.</span></span> <span data-ttu-id="6ed1a-313">لتكوين الوظيفة الدفعية لعمليات تشغيل DOM، اتبع هذه الخطوات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-313">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="6ed1a-314">انتقل إلى **Retail وCommerce \> إدارة الأوامر الموزعة \> معالجة الدُفعات \> إعداد وظيفة مُعالج DOM**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-314">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="6ed1a-315">على علامة التبويب السريعة **معلمات**، في حقل **ملف تعريف التنفيذ**، حدد ملف تعريف لتشغيل DOM له.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-315">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="6ed1a-316">على علامة التبويب السريعة **تشغيل في الخلفية‬**، في الحقل **مجموعة دُفعات**، حدد مجموعة دُفعات مكوّنة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-316">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="6ed1a-317">في حقل **وصف المهمة**، أدخل اسمًا للوظيفة الدفعية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-317">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="6ed1a-318">حدد **التكرار**، وحدد تكرار الوظيفة الدفعية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-318">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="6ed1a-319">حدد **موافق**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-319">Select **OK**.</span></span>

<span data-ttu-id="6ed1a-320">أثناء المعالجة، سيعتبر DOM الأمر وبنود الأمر كما هو موضح هنا:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-320">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="6ed1a-321">بنود الأمر التي تلبي معايير أصول المبيعات وأوضاع التسليم والكيان القانوني كما ورد في ملف تعريف DOM، والتي تلبي أيضًا أي واحد من المعايير التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-321">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="6ed1a-322">تم إنشاؤها من قنوات التجارة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-322">They are created from commerce channels.</span></span>
    - <span data-ttu-id="6ed1a-323">لم يتم توريدها إطلاقًا بواسطة DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-323">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="6ed1a-324">سبق أن تم توريدها بواسطة DOM، ولكن تم وضع علامة عليها كاستثناءات وهي لم تصل إلى الحد الأقصى للمحاولات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-324">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="6ed1a-325">وضع التسليم ليس عن طريق التحميل أو التسليم الإلكتروني.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-325">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="6ed1a-326">لم توضع عليها علامة لتسليمها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-326">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="6ed1a-327">إنها غير مستثناة يدويًا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-327">They aren't manually excluded.</span></span>

- <span data-ttu-id="6ed1a-328">الأوامر التي ليست قيد الانتظار</span><span class="sxs-lookup"><span data-stu-id="6ed1a-328">Orders that aren't on hold</span></span>

<span data-ttu-id="6ed1a-329">يقوم نظام DOM، بعد تطبيق القواعد وقيود المخزون والتحسين، بانتقاء الموقع الأقرب إلى عنوان التسليم الخاص بالعميل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-329">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="6ed1a-330">![معايير أمر المبيعات](./media/ordercriteria.png "معايير أمر المبيعات")</span><span class="sxs-lookup"><span data-stu-id="6ed1a-330">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="6ed1a-331">نتائج عمليات تشغيل DOM</span><span class="sxs-lookup"><span data-stu-id="6ed1a-331">Results of DOM runs</span></span>

<span data-ttu-id="6ed1a-332">إذا تم تعيين ملف تعريف التنفيذ إلى **التطبيق التلقائي**، فسيتم تطبيق نتائج التشغيل تلقائيًا على بنود أمر المبيعات، ويمكن عرض خطة التنفيذ بشكل منفصل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-332">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="6ed1a-333">ومع ذلك، إذا لم يتم تعيين ملف تعريف التنفيذ إلى **التطبيق التلقائي**، فلن تكون رؤية نتائج التشغيل ممكنة إلا من طريقة عرض خطة التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-333">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="6ed1a-334">لعرض جميع خطط التنفيذ التي تم إنشاؤها، اتبع هذه الخطوات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-334">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="6ed1a-335">انتقل إلى **Retail وCommerce \> إدارة الأوامر الموزعة \> إدارة الأوامر الموزعة**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-335">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="6ed1a-336">في مساحة عمل **إدارة الأوامر الموزعة**، حدد اللوحة **خطط التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-336">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="6ed1a-337">حدد معرّف خطة تنفيذ الأمر ذات الصلة لعرض خطة تنفيذ.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-337">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="6ed1a-338">يعرض قسم تفاصيل الأمر في خطة التنفيذ بنود أمر المبيعات الأصلي التي كانت جزءًا من عملية التشغيل.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-338">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="6ed1a-339">بالإضافة إلى حقول بنود أمر المبيعات القياسية، يتضمن أيضًا قسم تفاصيل الأمر الحقول الثلاثة التالية ذات الصلة بنظام DOM:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-339">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="6ed1a-340">**نوع التنفيذ** – يشير هذا الحقل إلى ما إذا كان بند أمر المبيعات قد تم توريده بشكل كامل أو جزئي أو لم يتم توريده إطلاقًا إلى موقع ما.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-340">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="6ed1a-341">**تقسيم** – يشير هذا الحقل إلى ما إذا كان بند أمر المبيعات قد تم تقسيمه وتوريده إلى مواقع مختلفة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-341">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="6ed1a-342">**عدد مواقع التنفيذ‬** – يشير هذا الحقل إلى عدد بنود التنفيذ التي تم إنشاؤها لأمر مبيعات واحد (استنادًا إلى عدد المواقع التي تم توريد بند أمر المبيعات الأصلي إليها).</span><span class="sxs-lookup"><span data-stu-id="6ed1a-342">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="6ed1a-343">يعرض قسم تفاصيل تنفيد الأمر تعيين بنود أمر المبيعات الأصلي إلى مواقع مختلفة، إلى جانب كمياتها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-343">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="6ed1a-344">إجراءات وحالات بنود الأمر</span><span class="sxs-lookup"><span data-stu-id="6ed1a-344">Order line actions and statuses</span></span>

<span data-ttu-id="6ed1a-345">فيما يلي وصف للإعدادات في بند الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-345">The following describes settings on the order line.</span></span> <span data-ttu-id="6ed1a-346">لفتح بند أمر، انتقل إلى **Retail وCommerce \> العملاء \> كافة أوامر المبيعات‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-346">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="6ed1a-347">إذا قمت بتعيين الخيار **استثناء من معالجة DOM** على علامة التبويب **عام** لبند أمر مبيعات إلى **نعم**، فسيتم استبعاد الأمر أو بند الأمر من معالجة DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-347">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="6ed1a-348">يمكن تعيين الحقل **حالة DOM** على علامة التبويب **عام** لبند أمر المبيعات إلى إحدى القيم التالية:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-348">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="6ed1a-349">**بلا** – لم يتم توريد بند الأمر إطلاقًا.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-349">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="6ed1a-350">**مكتمل** - تم توريد بند الأمر وتعيينه إلى موقع ما بنجاح.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-350">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="6ed1a-351">**استثناء** - تم توريد بند الأمر ولكن تعذر تعيينه إلى موقع ما.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-351">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="6ed1a-352">تتضمن الاستثناءات أنواعًا فرعية متعددة يمكن عرضها من مساحة عمل DOM:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-352">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="6ed1a-353">**لا توجد كمية متوفرة** - لا يوجد أي مخزون متاح لتعيين الأمر إليه في المواقع.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-353">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="6ed1a-354">**الحد الأقصى عمليات الرفض** - وصل بند الأمر إلى الحد الأقصى لعمليات الرفض.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-354">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="6ed1a-355">**تعارض تعديل البيانات** - تم تغيير بند أمر المبيعات منذ أن تم توريد الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-355">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="6ed1a-356">لذلك، لا يمكن تطبيق خطة تنفيذ الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-356">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="6ed1a-357">**استثناء سطر أمر مُحدد‬** - هناك عدة استثناءات على بند الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-357">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="6ed1a-358">أثناء إدخال أمر المبيعات، يمكن تشغيل DOM في وضع تفاعلي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-358">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="6ed1a-359">بينما تقوم بإدخال بند أمر، وبعد تحديد المنتج والكمية، يمكنك تحديد **تحديث البند** ومن ثم، تحت **DOM**، حدد **اقتراح موقع تنفيذ‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-359">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="6ed1a-360">سترى عندئذٍ قائمة بالمواقع التي تستند إلى قواعد DOM والتي يمكنها تنفيذ الكمية على بند الأمر.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-360">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="6ed1a-361">تم فرز القائمة حسب المسافة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-361">This list is sorted by distance.</span></span> <span data-ttu-id="6ed1a-362">حدد موقعًا لتعيين الموقع والمستودع الملائمين على بند أمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-362">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="6ed1a-363">لكي تعمل هذه الوظيفة، يلزم وجود ملف تعريف تنفيذ نشط يتطابق مع أصل المبيعات ووضع التسليم على بند المبيعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-363">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="6ed1a-364">لعرض سجلات تشغيل DOM لبند أمر مبيعات، حدد **بند أمر المبيعات**، ثم ضمن **إدارة الأوامر الموزعة (DOM)**، حدد **عرض سجلات DOM**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-364">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="6ed1a-365">ستعرض DOM جميع الأحداث والسجلات التي نشأت نتيجة تشغيل DOM.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-365">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="6ed1a-366">بإمكان السجلات أن تساعدك في فهم سبب تعيين موقع معين إلى بند الأمر، والقواعد والقيود التي تمت مراعاتها كجزء من التعيين.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-366">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="6ed1a-367">على علامة التبويب **إدارة**، تتوفر أيضًا سجلات DOM على مستوى رأس أمر المبيعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-367">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="6ed1a-368">تشغيل وظيفة التنظيف لخطط DOM</span><span class="sxs-lookup"><span data-stu-id="6ed1a-368">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="6ed1a-369">أثناء تشغيل معالجة DOM، يتم إنشاء خطط تنفيذ.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-369">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="6ed1a-370">ومع مرور الوقت، يحتفظ النظام بخطط تنفيذ متعددة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-370">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="6ed1a-371">لإدارة عدد خطط التنفيذ التي يحتفظ بها النظام، يمكنك تكوين وظيفة دفعية تحذف خطط تنفيذ الأوامر القديمة، استنادًا إلى قيمة **فترة الاحتجاز بالأيام‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-371">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="6ed1a-372">انتقل إلى **Retail وCommerce \> إدارة الأوامر الموزعة \> معالجة الدُفعات \> إعداد وظيفة حذف بيانات تنفيذ إدارة البيانات الموزعة‬**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-372">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="6ed1a-373">في حقل **مجموعة الدُفعات**، حدد مجموعة دُفعات تم تكوينها.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-373">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="6ed1a-374">حدد **التكرار**، وحدد تكرار الوظيفة الدفعية.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-374">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="6ed1a-375">حدد **موافق**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-375">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="6ed1a-376">مزيد من المعلومات</span><span class="sxs-lookup"><span data-stu-id="6ed1a-376">More information</span></span>

<span data-ttu-id="6ed1a-377">فيما يلي بعض الأشياء الواجب مراعاتها عند استخدام ميزة DOM:</span><span class="sxs-lookup"><span data-stu-id="6ed1a-377">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="6ed1a-378">في الوقت الحالي، تنظر وظيفة DOM فقط إلى الأوامر التي تم إنشاؤها من قنوات التجارة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-378">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="6ed1a-379">ويتم التعرف على أوامر المبيعات كأوامر مبيعات عند تعيين الخيار **بيع بالتجارة** إلى **نعم**.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-379">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="6ed1a-380">لم تختبر Microsoft وظيفة DOM مع الميزات المتقدمة لإدارة المستودعات.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-380">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="6ed1a-381">يتعين على العملاء والشركاء توخي الحذر لتحديد ما إذا كانت وظيفة DOM متوافقة مع قدرات وعمليات الإدارة المتقدمة للمستودعات ذات الصلة بهم.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-381">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="6ed1a-382">تتوفر وظيفة DOM فقط في إصدار Commerce على السحابة.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-382">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="6ed1a-383">وهي غير معتمدة في عمليات النشر المحلي.</span><span class="sxs-lookup"><span data-stu-id="6ed1a-383">It isn't supported in on-premises deployments.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]