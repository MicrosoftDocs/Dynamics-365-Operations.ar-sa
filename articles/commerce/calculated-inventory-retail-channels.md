---
title: حساب توفر المخزون لقنوات البيع بالتجزئة
description: يصف هذا الموضوع كيفية استخدام شركة Microsoft Dynamics 365 Commerce لعرض توافر المنتجات الحالي المقدر في قنوات عبر الإنترنت وقنوات المتجر.
author: hhainesms
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: hhaines
ms.search.validFrom: 2020-02-11
ms.dyn365.ops.version: Release 10.0.10
ms.openlocfilehash: 96a600279b7a90d6626d23ee8868de13e9dd0f14
ms.sourcegitcommit: dc4898aa32f381620c517bf89c7856e693563ace
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 06/17/2021
ms.locfileid: "6270875"
---
# <a name="calculate-inventory-availability-for-retail-channels"></a><span data-ttu-id="a91f2-103">حساب توفر المخزون لقنوات البيع بالتجزئة</span><span class="sxs-lookup"><span data-stu-id="a91f2-103">Calculate inventory availability for retail channels</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="a91f2-104">يصف هذا الموضوع كيفية استخدام شركة Microsoft Dynamics 365 Commerce لعرض توافر المنتجات الحالي المقدر في قنوات عبر الإنترنت وقنوات المتجر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-104">This topic describes how a company can use Microsoft Dynamics 365 Commerce to view estimated on-hand availability for products in the online and store channels.</span></span>

## <a name="accuracy-of-inventory-availability"></a><span data-ttu-id="a91f2-105">دقة توافر المخزون</span><span class="sxs-lookup"><span data-stu-id="a91f2-105">Accuracy of inventory availability</span></span>

<span data-ttu-id="a91f2-106">يستخدم Commerce خوادم وقواعد بيانات متعددة لضمان إمكانية التوسع والأداء.</span><span class="sxs-lookup"><span data-stu-id="a91f2-106">Commerce uses multiple servers and databases to ensure scalability and performance.</span></span> <span data-ttu-id="a91f2-107">وبالتالي، فإنه من المهم أن تفهم أن قيم المخزون المتوفرة التي يتم توفيرها من خلال تطبيق نقطة البيع (POS) وواجهات برمجة التطبيقات (API) الخاصة بتوافر في التجارة الإلكترونية وصفحات المخزون الحالي في Commerce Headquarters قد لا يكون دقيقًا بنسبة 100 بالمائة في الوقت الحقيقي.</span><span class="sxs-lookup"><span data-stu-id="a91f2-107">Therefore, it's important that you understand that the available inventory values that are provided through the point of sale (POS) application, the e-commerce inventory availability application programming interfaces (APIs), and the on-hand inventory pages in Commerce headquarters might not be 100 percent accurate in real time.</span></span> <span data-ttu-id="a91f2-108">إذا لم تتم مزامنة الحركات التي تم إنشاؤها للمنتجات في قناة الإنترنت أو المتجر مع المقر الرئيسي، فقد لا تعرض صفحات المخزون الفعلي في المقر الرئيسي قيمة مخزون دقيقة في الوقت الفعلي لتلك المنتجات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-108">If transactions that are created for products in the online or store channel haven't yet been synced to headquarters, the on-hand inventory pages in headquarters might not show an accurate real-time inventory value for those products.</span></span> <span data-ttu-id="a91f2-109">على العكس من ذلك ، إذا قمت بتكوين شركتك بحيث يتمكن المستخدمون في المقر الرئيسي أو التطبيقات المتكاملة الأخرى من بيع المخزون أو استلامه أو إرجاعه أو تعديله بطريقة أخرى خارج المتجر أو المستودع عبر الإنترنت ، فقد لا يكون لدى نقطة البيع أو القناة عبر الإنترنت جميع المعلومات المطلوبة إظهار قيم دقيقة في الوقت الفعلي للعناصر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-109">Conversely, if you configured your company so that users in headquarters or other integrated applications can sell, receive, return, or otherwise adjust inventory out of a store or online warehouse, the POS or online channel might not have all the information that is required to show accurate real-time values for items.</span></span>

<span data-ttu-id="a91f2-110">من الأهمية بمكان أن نفهم أن جميع بيانات التوفر الفعلية التي يتم توفيرها أثناء يوم التشغيل تعتبر قيمة تقديرية.</span><span class="sxs-lookup"><span data-stu-id="a91f2-110">It's critical to understand that all on-hand availability data that is provided during the operational day is considered an estimated value.</span></span> <span data-ttu-id="a91f2-111">وبالتالي، إذا حاولت مقارنة معلومات المخزون الحالية التي يقدمها التطبيق مع المخزون الفعلي على الأرفف، أو إذا حاولت مقارنة القيم الحالية التي تظهر في نقطة البيع مع البيانات الحالية التي تعثر عليها للمستودع نفسه في المقر الرئيسي، فقد تختلف القيم.</span><span class="sxs-lookup"><span data-stu-id="a91f2-111">Therefore, if you try to compare the on-hand inventory information that the application provides with actual physical inventory on the shelves, or if you try to compare the on-hand values that are shown in POS with the on-hand data that you find for the same warehouse in headquarters, the values might differ.</span></span> <span data-ttu-id="a91f2-112">ومن المتوقع حدوث هذا الاختلاف أثناء يوم التشغيل ولا يجب اعتباره إصدارًا.</span><span class="sxs-lookup"><span data-stu-id="a91f2-112">This difference during the operational day is expected and should not be considered an issue.</span></span> <span data-ttu-id="a91f2-113">إذا كنت ترغب في تدقيق البيانات والتأكد من أن القيم المتوفرة في نقاط البيع وواجهات برمجة التطبيقات والمقر الرئيسي تتطابق مع الوحدات المادية الفعلية التي تجدها على أرفف متجرك أو المستودع ، فإن أفضل وقت للقيام بذلك هو بعد توقف عمليات القناة لهذا اليوم وتمت مزامنة جميع الحركات بشكل صحيح بين المقر والقنوات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-113">If you want to audit data and make sure that the values provided in POS, APIs, and headquarters match the actual physical units that you find on your store or warehouse shelves, the best time to do it is after channel operations have stopped for the day and all transactions have been correctly synced between headquarters and the channels.</span></span>

## <a name="channel-side-inventory-calculation"></a><span data-ttu-id="a91f2-114">حساب المخزون من جانب القناة</span><span class="sxs-lookup"><span data-stu-id="a91f2-114">Channel-side inventory calculation</span></span>

<span data-ttu-id="a91f2-115">حساب المخزون من جانب القناة هو آلية تأخذ آخر بيانات مخزون القناة المعروفة في Commerce headquarters كخط أساس ، ثم تُدخل تغييرات في المخزون الإضافية التي حدثت على جانب القناة والتي لم يتم تضمينها في هذا الخط الأساسي لحساب قريب - المخزون الفعلي المقدر في الوقت الحقيقي.</span><span class="sxs-lookup"><span data-stu-id="a91f2-115">The channel-side inventory calculation is a mechanism that takes the last-known channel inventory data in Commerce headquarters as a baseline, and then factors in additional inventory changes that occurred on the channel side that aren't included in that baseline to calculate a near-real-time estimated on-hand inventory.</span></span> 

<span data-ttu-id="a91f2-116">يتم حاليًا مراعاة تغييرات المخزون التالية في منطق حساب المخزون على جانب القناة:</span><span class="sxs-lookup"><span data-stu-id="a91f2-116">The following inventory changes are currently considered in the channel-side inventory calculation logic:</span></span>

- <span data-ttu-id="a91f2-117">يُباع المخزون من خلال أوامر الدفع نقدًا والاستلام فورًا‬ في المتجر</span><span class="sxs-lookup"><span data-stu-id="a91f2-117">Inventory sold through cash-and-carry orders in store</span></span>
- <span data-ttu-id="a91f2-118">يباع المخزون من خلال أوامر العملاء في المتجر أو القناة عبر الإنترنت</span><span class="sxs-lookup"><span data-stu-id="a91f2-118">Inventory sold through customer orders in store or online channel</span></span>
- <span data-ttu-id="a91f2-119">المخزون الذي تم إرجاعه للمتجر</span><span class="sxs-lookup"><span data-stu-id="a91f2-119">Inventory returned to store</span></span>
- <span data-ttu-id="a91f2-120">المخزون المكتمل (انتقاء ، تعبئة ، شحن) من مستودع المتجر</span><span class="sxs-lookup"><span data-stu-id="a91f2-120">Inventory fulfilled (pick, pack, ship) from store warehouse</span></span>

<span data-ttu-id="a91f2-121">لاستخدام حساب المخزون من جانب القناة ، كشرط أساسي ، يجب إرسال لقطة دورية لبيانات المخزون من المقر الرئيسي التي أنشأتها وظيفة **توافر المنتج** إلى قواعد بيانات القنوات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-121">To use the channel-side inventory calculation, as a prerequisite a periodic snapshot of inventory data from headquarters created by the **Product availability** job must be sent to the channel databases.</span></span> <span data-ttu-id="a91f2-122">تمثل اللقطة المعلومات التي يشتمل عليها Headquarters حول توفر المخزون لمجموعة معينة من منتج أو متغير المنتج ومستودع.</span><span class="sxs-lookup"><span data-stu-id="a91f2-122">The snapshot represents the information that headquarters has about inventory availability for a specific combination of a product or product variant and a warehouse.</span></span> <span data-ttu-id="a91f2-123">يتضمن فقط حركات المخزون التي تمت معالجتها وترحيلها في headquarters في الوقت الذي تم فيه التقاط اللقطة ، وقد لا تكون دقيقة بنسبة 100 بالمائة في الوقت الفعلي بسبب معالجة المبيعات المستمرة التي تحدث عبر الخوادم الموزعة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-123">It includes only the inventory transactions that were processed and posted in headquarters at the time when the snapshot was taken, and it might not be 100 percent accurate in real time because of the constant sales processing that occurs across distributed servers.</span></span>

- <span data-ttu-id="a91f2-124">إذا تم بيع المخزون لأحد المنتجات في متجر من خلال مبيعات أمر الدفع نقدًا أو عميل غير متزامن في تطبيق نقطة البيع، فلن يحصل Headquarters فورًا على معلومات حول حركة إصدار المخزون المرتبطة بعملية البيع.</span><span class="sxs-lookup"><span data-stu-id="a91f2-124">If inventory was sold for a product in a store through a cash-and-carry or asynchronous customer order sale in the POS application, headquarters won't immediately have information about the related inventory issue transaction for the sale.</span></span> <span data-ttu-id="a91f2-125">ستحتوي Headquarters على معلومات حول المخزون الذي يتم بيعه لهذه الأنواع من مبيعات المتجر فقط بعد قيام وظيفة P بتحميل الحركة المرتبطة من قاعدة بيانات القناة الخاصة بالمتجر على Headquarters ويتم إنشاء أوامر المبيعات المرتبط من خلال عمليات ترحيل بيان أو ترحيل التغذية المستمرة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-125">Headquarters will have information about the inventory that is sold for these types of store sales only after the P-job uploads the related transaction from the store's channel database into headquarters and the related sales orders are created through statement posting or the trickle feed posting processes.</span></span> <span data-ttu-id="a91f2-126">وتقوم عملية إنشاء الأوامر في Headquarters بإنشاء حركات المخزون المرتبطة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-126">The process of creating the orders in headquarters creates the related inventory transactions.</span></span> 
- <span data-ttu-id="a91f2-127">بالنسبة لأوامر قنوات التجارة الإلكترونية، يحتوي Headquarters على معلومات حول حركات المخزون فقط بعد إرسال الحركات إلى Headquarters خلال وظيفة P وتكتمل عملية مزامنة الأمر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-127">For e-commerce channel orders, headquarters has information about the inventory transactions only after the transactions are sent to headquarters through the P-job and the order synchronization process is completed.</span></span>

<span data-ttu-id="a91f2-128">لتصوير لقطة للمخزون في Headquarters، اتبع الخطوات التالية.</span><span class="sxs-lookup"><span data-stu-id="a91f2-128">To take a snapshot of inventory in Commerce headquarters, follow these steps.</span></span>

1. <span data-ttu-id="a91f2-129">انتقل إلى **Retail and Commerce \> تكنولوجيا معلومات Retail and Commerce \> المنتجات والمخزون \> توفر المنتج**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-129">Go to **Retail and Commerce \> Retail and Commerce IT \> Products and inventory \> Product availability**.</span></span>
1. <span data-ttu-id="a91f2-130">حدد **موافق** لتشغيل وظيفة **توفر المنتج**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-130">Select **OK** to run the **Product availability** job.</span></span> <span data-ttu-id="a91f2-131">يمكنك أيضًا جدولة هذه الوظيفة ليتم تشغيلها في دفعة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-131">You can also schedule this job to run in batch.</span></span>

<span data-ttu-id="a91f2-132">بعد انتهاء تشغيل وظيفة **توفر المنتج**، يجب دفع البيانات التي تم التقاطها إلى قواعد بيانات القناة، بحيث يمكن النظر في أحدث مخزون لـ headquarters في حساب جانب القناة للمخزون الفعلي المقدر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-132">After the **Product availability** job has finished running, the data that was captured must be pushed to the channel databases, so that the latest headquarters inventory snapshot can be considered in the channel-side calculation of estimated on-hand inventory.</span></span>

<span data-ttu-id="a91f2-133">لمزامنة بيانات اللقطات من headquarters إلى قواعد بيانات القناة الخاصة بك، اتبع الخطوات التالية.</span><span class="sxs-lookup"><span data-stu-id="a91f2-133">To sync snapshot data from headquarters to your channel databases, follow these steps.</span></span>

1. <span data-ttu-id="a91f2-134">انتقل إلى **البيع بالتجزئة والتجارة \> تكنولوجيا معلومات البيع بالتجزئة والتجارة \> جدول التوزيع**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-134">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
1. <span data-ttu-id="a91f2-135">قم بتشغيل وظيفة **1130** (**توفر المنتج**) لمزامنة بيانات اللقطة التي تم إنشاء وظيفة **توفر المنتج** منها من Headquarters إلى قواعد بيانات القناة الخاصة بك.</span><span class="sxs-lookup"><span data-stu-id="a91f2-135">Run the **1130** (**Product availability**) job to sync the snapshot data that the **Product availability** job has created from headquarters to your channel databases.</span></span>

## <a name="inventory-availability-apis-for-e-commerce"></a><span data-ttu-id="a91f2-136">واجهات API لتوفر المخزون للتجارة الإلكترونية</span><span class="sxs-lookup"><span data-stu-id="a91f2-136">Inventory availability APIs for e-commerce</span></span>

<span data-ttu-id="a91f2-137">يوفر Commerce واجهات برمجة التطبيقات التالية لسيناريوهات التجارة الإلكترونية للاستعلام عن توفر المخزون للمنتج:</span><span class="sxs-lookup"><span data-stu-id="a91f2-137">Commerce provides the following APIs for e-commerce scenarios to query inventory availability of a product:</span></span>

- <span data-ttu-id="a91f2-138">**GetEstimatedAvailability** – استخدم واجهة برمجة التطبيقات هذه للاستعلام عن المخزون لمنتج أو متغير منتج في مستودع القنوات عبر الإنترنت أو المستودعات المرتبطة بمجموعة تنفيذ القناة عبر الإنترنت.</span><span class="sxs-lookup"><span data-stu-id="a91f2-138">**GetEstimatedAvailability** – Use this API to query inventory for a product or product variant in the online channel warehouse or warehouses that are linked to the online channel's fulfillment group.</span></span>
- <span data-ttu-id="a91f2-139">**GetEstimatedProductWarehouseAvailability** – استخدم واجهة برمجة التطبيقات هذه للاستعلام عن المخزون لمنتج أو متغير منتج من مستودع معين.</span><span class="sxs-lookup"><span data-stu-id="a91f2-139">**GetEstimatedProductWarehouseAvailability** – Use this API to query inventory for a product or product variant from a specific warehouse.</span></span>

> [!NOTE]
> <span data-ttu-id="a91f2-140">تحل واجهات برمجة التطبيقات هذه محل واجهات برمجة التطبيقات **GetProductAvailabilities** و **GetAvailableInventoryNearby** في إصدار Commerce رقم 10.0.7 والإصدار الأقدم.</span><span class="sxs-lookup"><span data-stu-id="a91f2-140">These APIs replace the **GetProductAvailabilities** and **GetAvailableInventoryNearby** APIs in Commerce release 10.0.7 and earlier.</span></span>

<span data-ttu-id="a91f2-141">تستخدم كل من واجهات برمجة التطبيقات (API) داخليًا منطق حساب جانب القناة وترجع الكمية **المادية المتوفرة** المقدرة، والكمية **الإجمالية المتوفرة**، و **وحدة القياس (UoM)**، و **مستوى المخزون** للمنتج والمستودع المطلوب.</span><span class="sxs-lookup"><span data-stu-id="a91f2-141">Both APIs internally use the channel-side calculation logic and return estimated **physical available** quantity, **total available** quantity, **unit of measure (UoM)**, and **inventory level** for the requested product and warehouse.</span></span> <span data-ttu-id="a91f2-142">يمكن عرض القيم المرتجعة على موقع التجارة الإلكترونية الخاص بك إذا أردت، أو يمكن استخدامها لتشغيل منطق الأعمال الأخرى على موقع التجارة الإلكترونية الخاص بك.</span><span class="sxs-lookup"><span data-stu-id="a91f2-142">The returned values can be shown on your e-commerce site if you want, or they can be used to trigger other business logic on your e-commerce site.</span></span> <span data-ttu-id="a91f2-143">على سبيل المثال ، يمكنك منع شراء المنتجات ذات مستوى المخزون "غير المتوفر".</span><span class="sxs-lookup"><span data-stu-id="a91f2-143">For example, you can prevent the purchase of products with an "out of stock" inventory level.</span></span>

<span data-ttu-id="a91f2-144">على الرغم من أن واجهات برمجة التطبيقات الأخرى المتوفرة في Commerce يمكنها الانتقال مباشره إلى Headquarters لإحضار كميات حالية للمنتجات، إلا أننا لا نوصي باستخدامها في بيئة تجارة إلكترونية نظرًا لوجود مشكلات محتملة في الأداء والتأثير المرتبط بالطلبات المتكررة هذه يمكن أن تكون موجودة على خوادم Headquarters الخاصة بك.</span><span class="sxs-lookup"><span data-stu-id="a91f2-144">Although other APIs that are available in Commerce can go directly to headquarters to fetch on-hand quantities for products, we don't recommend that they be used in an e-commerce environment because of potential performance issues and the impact that these frequent requests can have on your headquarters servers.</span></span> <span data-ttu-id="a91f2-145">بالإضافة إلى ذلك ، مع حساب جانب القناة ، يمكن أن توفر واجهتا API المذكورتان أعلاه تقديرًا أكثر دقة لتوافر المنتج من خلال مراعاة الحركات التي تم إنشاؤها في القنوات التي لم يعرفها headquarters بعد.</span><span class="sxs-lookup"><span data-stu-id="a91f2-145">Additionally, with channel-side calculation, the two APIs mentioned above can provide a more accurate estimate of a product's availability by taking into account the transactions created in the channels that aren’t yet known to headquarters.</span></span>

<span data-ttu-id="a91f2-146">لاستخدام اثنين من واجهات برمجة التطبيقات ، يجب عليك تمكين ميزة **حساب توافر المنتج الأمثل** من خلال مساحة عمل **إدارة الميزة** في headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-146">To use the two APIs, you must enable the **Optimized product availability calculation** feature through the **Feature management** workspace in headquarters.</span></span> <span data-ttu-id="a91f2-147">إذا كانت قنواتك على الإنترنت ومتجرك تستخدم نفس مستودعات التنفيذ، فيجب عليك أيضًا تمكين ميزة **منطق حساب مخزون جانب قناة التجارة الإلكترونية المحسّن** للحصول على منطق الحساب من جانب القناة داخل واجهتي API لتضمين الحركات غير المنشورة (الدفع نقدًا والاستلام فورًا وأوامر العملاء والمرتجعات) التي تم إنشاؤها في قناة المتجر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-147">If your online and store channels use the same fulfillment warehouses, you must also enable the **Enhanced e-Commerce channel-side inventory calculation logic** feature to have the channel-side calculation logic within the two APIs to factor in the unposted transactions (cash-and-carry, customer orders, returns) created in the store channel.</span></span> <span data-ttu-id="a91f2-148">ستحتاج إلى تشغيل وظيفة **1070** (**تكوين القنوات**) بعد تمكين هذه الميزات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-148">You will need to run the **1070** (**Channel configuration**) job after enabling these features.</span></span>

<span data-ttu-id="a91f2-149">لتحديد كيفيه إرجاع كميه المنتج في إخراج API ، اتبع الخطوات التالية.</span><span class="sxs-lookup"><span data-stu-id="a91f2-149">To define how product quantity should be returned in the API output, follow these steps.</span></span>

1. <span data-ttu-id="a91f2-150">انتقل إلى **Retail وCommerce \> إعداد Headquarters \> المعلمات \> معلمات Commerce**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-150">Go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce parameters**.</span></span>
1. <span data-ttu-id="a91f2-151">حدد علامة التبويب **المخزون**، ثم في علامة التبويب السريع **واجهات برمجة التطبيقات لتوافر المخزون للتجارة الإلكترونية**، قم بتكوين قيمة إعداد **الكمية في خرج API**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-151">Select the **Inventory** tab, and then on the **Inventory availability APIs for e-Commerce** FastTab configure the value of the **Quantity in API output** setting.</span></span>
1. <span data-ttu-id="a91f2-152">قم بتشغيل وظيفة **1070** (**تكوين القنوات**) لمزامنة أحدث إعداد للقنوات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-152">Run the **1070** (**Channel configuration**) job to sync the latest setting to channels.</span></span>

<span data-ttu-id="a91f2-153">يوفر إعداد **الكمية في إخراج API** ثلاثة خيارات:</span><span class="sxs-lookup"><span data-stu-id="a91f2-153">The **Quantity in API output** setting provides three options:</span></span>

- <span data-ttu-id="a91f2-154">**إرجاع كمية المخزون** - يتم إرجاع الكمية الفعلية المتاحة وإجمالي الكمية المتاحة للمنتج المطلوب في إخراج API.</span><span class="sxs-lookup"><span data-stu-id="a91f2-154">**Return inventory quantity** - Physical available and total available quantity of a requested product are returned in API output.</span></span>
- <span data-ttu-id="a91f2-155">**إرجاع كمية المخزون مع طرح المخزن المؤقت للمخزون** - يتم تعديل الكمية التي تم إرجاعها في إخراج API بطرح قيمة المخزن المؤقت للمخزون.</span><span class="sxs-lookup"><span data-stu-id="a91f2-155">**Return inventory quantity subtracting inventory buffer** - The quantity returned in the API output is adjusted by subtracting the inventory buffer value.</span></span> <span data-ttu-id="a91f2-156">لمزيد من المعلومات حول المخزن المؤقت للمخزون، راجع [تكوين المخازن المؤقتة للمخزون ومستويات المخزون](inventory-buffers-levels.md).</span><span class="sxs-lookup"><span data-stu-id="a91f2-156">For more information about the inventory buffer, see [Configure inventory buffers and inventory levels](inventory-buffers-levels.md).</span></span>
- <span data-ttu-id="a91f2-157">**عدم إرجاع كمية المخزون** - يتم إرجاع مستوى المخزون فقط في إخراج API.</span><span class="sxs-lookup"><span data-stu-id="a91f2-157">**Not return inventory quantity** - Only the inventory level is returned in the API output.</span></span> <span data-ttu-id="a91f2-158">لمزيد من المعلومات حول مستويات المخزن، راجع [تكوين المخازن المؤقتة للمخزون ومستويات المخزون](inventory-buffers-levels.md).</span><span class="sxs-lookup"><span data-stu-id="a91f2-158">For more information about inventory levels, see [Configure inventory buffers and inventory levels](inventory-buffers-levels.md).</span></span>

<span data-ttu-id="a91f2-159">يمكنك استخدام معلمة API لـ `QuantityUnitTypeValue` لتحديد نوع الوحدة التي تريد أن تقوم واجهات برمجة التطبيقات بإرجاع الكمية بها.</span><span class="sxs-lookup"><span data-stu-id="a91f2-159">You can use the `QuantityUnitTypeValue` API parameter to specify the unit type in which you would like the APIs to return quantity.</span></span> <span data-ttu-id="a91f2-160">تدعم هذه المعلمة خيارات **وحدة المخزون** (افتراضية)، و **وحدة الشراء**، و **وحدة البيع**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-160">This parameter supports the **inventory unit** (default), **purchase unit**, and **sell unit** options.</span></span> <span data-ttu-id="a91f2-161">يتم تقريب الكمية المرتجعة إلى الدقة المحددة لوحدة القياس (UOM) المقابلة في headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-161">The returned quantity is rounded to the defined precision of the corresponding unit of measure (UOM) in headquarters.</span></span>

<span data-ttu-id="a91f2-162">توفر واجهة برمجة تطبيقات **GetEstimatedAvailability** معلمات الإدخال التالية لدعم سيناريوهات الاستعلام المختلفة:</span><span class="sxs-lookup"><span data-stu-id="a91f2-162">The **GetEstimatedAvailability** API offers the following input parameters to support different query scenarios:</span></span>

- <span data-ttu-id="a91f2-163">`DefaultWarehouseOnly` - استخدم هذه المعلمة للاستعلام عن المخزون لمنتج في المستودع الافتراضي للقناة عبر الإنترنت.</span><span class="sxs-lookup"><span data-stu-id="a91f2-163">`DefaultWarehouseOnly` - Use this parameter to query inventory for a product in the online channel's default warehouse.</span></span> 
- <span data-ttu-id="a91f2-164">`FilterByChannelFulfillmentGroup` و`SearchArea` - استخدم هاتين المعلمتين للاستعلام عن مخزون منتج من جميع مواقع الاستلام داخل منطقة بحث معينة ، استنادًا إلى `longitude`، و`latitude`، و`radius`.</span><span class="sxs-lookup"><span data-stu-id="a91f2-164">`FilterByChannelFulfillmentGroup` and `SearchArea` - Use these two parameters to query inventory for a product from all pickup locations within a specific search area, based on `longitude`, `latitude`, and `radius`.</span></span> 
- <span data-ttu-id="a91f2-165">`FilterByChannelFulfillmentGroup` و`DeliveryModeTypeFilterValue` - استخدم هاتين المعلمتين للاستعلام عن المخزون الخاص بمنتج من مستودعات محددة مرتبطة بمجموعة تنفيذ قناة عبر الإنترنت والتي تم تكوينها لدعم أوضاع معينة للتسليم.</span><span class="sxs-lookup"><span data-stu-id="a91f2-165">`FilterByChannelFulfillmentGroup` and `DeliveryModeTypeFilterValue` - Use these two parameters to query inventory for a product from specific warehouses that are linked to an online channel's fulfillment group and are configured to support certain modes of delivery.</span></span> <span data-ttu-id="a91f2-166">تدعم معلمة `DeliveryModeTypeFilterValue` خيارات **الكل** (افتراضية)، و **الشحن**، و **الانتقاء**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-166">The `DeliveryModeTypeFilterValue` parameter supports the **all** (default), **shipping**, and **pickup** options.</span></span> <span data-ttu-id="a91f2-167">على سبيل المثال، في سيناريو حيث يمكن تنفيذ طلب عبر الإنترنت من مستودعات شحن متعددة، يمكنك استخدام هاتين المعلمتين للاستعلام عن توفر مخزون المنتج في جميع مستودعات الشحن هذه.</span><span class="sxs-lookup"><span data-stu-id="a91f2-167">For example, in a scenario where an online order can be fulfilled from multiple shipping warehouses, you can use these two parameters to query a product's inventory availability in all of those shipping warehouses.</span></span> <span data-ttu-id="a91f2-168">تُرجع واجهة برمجة التطبيقات في هذه الحالة الكمية الفعلية للمنتج ومستوى المخزون في كل من مستودعات الشحن، بالإضافة إلى كمية مجمعة ومستوى مخزون مجمع من جميع مستودعات الشحن في نطاق الاستعلام.</span><span class="sxs-lookup"><span data-stu-id="a91f2-168">The API in this case returns the product's on-hand quantity and inventory level in each of the shipping warehouses, plus an aggregated quantity and an aggregated inventory level from all shipping warehouses in the query scope.</span></span>
 
<span data-ttu-id="a91f2-169">تستهلك وحدات رموز صندوق شراء Commerce ومحدد المتجر وقائمة الرغبات وعربة التسوق وسلة التسوق واجهات برمجة التطبيقات والمعلمات المذكورة أعلاه لعرض رسائل مستوى المخزون عبر موقع التجارة الإلكترونية.</span><span class="sxs-lookup"><span data-stu-id="a91f2-169">The Commerce buy box, store selector, wishlist, cart, and cart icon modules consume the APIs and parameters mentioned above to display inventory level messages across the e-commerce site.</span></span> <span data-ttu-id="a91f2-170">يوفر منشئ موقع Commerce إعدادات مخزون متنوعة للتحكم في سلوك الشراء والترويج.</span><span class="sxs-lookup"><span data-stu-id="a91f2-170">Commerce site builder provides various inventory settings to control merchandising and purchase behavior.</span></span> <span data-ttu-id="a91f2-171">لمزيد من المعلومات، راجع [تطبيق إعدادات المخزون](inventory-settings.md).</span><span class="sxs-lookup"><span data-stu-id="a91f2-171">For more information, see [Apply inventory settings](inventory-settings.md).</span></span>

## <a name="pos-inventory-lookup-with-channel-side-calculation"></a><span data-ttu-id="a91f2-172">البحث عن مخزون نقطة البيع مع حساب جانب القناة</span><span class="sxs-lookup"><span data-stu-id="a91f2-172">POS inventory lookup with channel-side calculation</span></span>

<span data-ttu-id="a91f2-173">في إصدار Commerce رقم 10.0.9 والإصدارات السابقة، قامت عملية **البحث عن المخزون** من نقطة البيع باستخدام استدعاء خدمة في الوقت الحقيقي لـ Headquarters للحصول على معلومات المخزون للمنتج المحدد، لكل من المتجر الحالي للمستخدم وأية قصص أخرى يتم تكوينها لمجموعة التنفيذ كجزء من تكوين القناة للمتجر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-173">In the Commerce release 10.0.9 and earlier, the **Inventory lookup** operation in POS used a real-time service call to headquarters to get inventory information for the selected product for both the user's current store and any other stores that are configured for the fulfillment group as part of the channel configuration for the store.</span></span> <span data-ttu-id="a91f2-174">في إصدار Commerce رقم 10.0.10 والإصدارات الأحدث، يمكنك إيقاف تشغيل مكالمات الخدمة في الوقت الفعلي إلى headquarters واستخدام الحساب من جانب القناة بدلاً من ذلك على خادم التجارة لتحديد المخزون الفعلي المتاح فعليًا للمخزن وأي مواقع أخرى يتم تعريفها في مجموعة التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="a91f2-174">In Commerce release 10.0.10 and later, you can turn off real-time service calls to headquarters and instead use channel-side calculation on the Commerce server to determine the on-hand inventory that is physically available for the store and any other locations that are defined in the fulfillment group.</span></span> <span data-ttu-id="a91f2-175">يكون تكوين المخزون المحسوب لهذه القناة مفيدًا أيضًا للمواقع التي يكون فيها اتصال الإنترنت غير موثوق، لأنه ليس من الضروري أن تكون متصلاً بالإنترنت للحصول على عمليات بحث المخزون من Headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-175">This channel-calculated inventory configuration is also useful for locations where internet connectivity is unreliable, because you don't have to be online to get inventory lookups headquarters.</span></span>

<span data-ttu-id="a91f2-176">عند تكوين حساب جانب القناة بشكل صحيح وإدارته، فإنه يمكن أن يوفر تقديراً أكثر موثوقية لمخزون المتجر الحالي، نظرًا لأنه يستخدم بيانات الحركة الموجودة في قاعدة بيانات قناة Commerce، ولكن قد لا يحتوي Headquarters على المعلومات بعد.</span><span class="sxs-lookup"><span data-stu-id="a91f2-176">When channel-side calculation is correctly configured and managed, it can provide a more reliable estimate of the current store inventory because it uses the transactional data that is in the Commerce channel database but that headquarters might not yet have information about.</span></span> <span data-ttu-id="a91f2-177">على سبيل المثال، إذا قمت باستخدام استدعاء خدمة في الوقت الحقيقي الموجودة لعمليات بحث المخزون في نقطة البيع، فمن المحتمل ألا تشتمل Headquarters على معلومات حول عملية بيع الدفع نقدًا والتي حدثت للتو لأحد المنتجات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-177">For example, if you use the existing real-time service call for inventory lookups in POS, headquarters probably won't yet have information about a cash-and-carry sale that just occurred for a product.</span></span> <span data-ttu-id="a91f2-178">وبالتالي، من المحتمل أن تتجاوز قيمة المخزون الحالي التي يقوم بإرجاعها Headquarters لذلك المنتج المخزون الحالي الفعلي بمقدار وحدة واحدة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-178">Therefore, the on-hand inventory value that headquarters returns for that product will probably exceed the store's actual on-hand inventory by one unit.</span></span> <span data-ttu-id="a91f2-179">ومع ذلك، إذا كنت تستخدم حساب جانب القناة، فإنه يمكن تحليل عملية البيع والدفع نقدًا للحساب والخصم من القيمة الحالية التي يتم عرضها.</span><span class="sxs-lookup"><span data-stu-id="a91f2-179">However, if you use channel-side calculation, the cash-and-carry sale can be factored into the calculation and deducted from the on-hand value that is shown.</span></span> <span data-ttu-id="a91f2-180">وعلى الرغم من أن القيم التي توفرها كل من حساب جانب القناة واستدعاء خدمة في الوقت الحقيقي هي فقط التقديرات الخاصة بالمخزون الحالي والقيمة التي يوفرها حساب جانب القناة من المحتمل أن تكون أكثر دقة للمتجر الحالي.</span><span class="sxs-lookup"><span data-stu-id="a91f2-180">Although the values that both the channel-side calculation and the real-time service call provide are only estimates of on-hand inventory, the value that the channel-side calculation provides is much more likely to be accurate for the current store.</span></span>

<span data-ttu-id="a91f2-181">لتكوين عملية **البحث عن مخزون** في نقطة البيع في headquarters لاستخدام منطق حساب جانب القناة وإيقاف تشغيل مكالمة الخدمة في الوقت الفعلي، اتبع هذه الخطوات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-181">To configure the POS **Inventory lookup** operation in headquarters to use the channel-side calculation logic and turn off real-time service call, follow these steps.</span></span>

1. <span data-ttu-id="a91f2-182">انتقل إلى **البيع بالتجزئة والتجارة \> إعداد القناة \> إعداد قناة البيع \> ملفات تعريف نقطة البيع \> ملفات تعريف الوظائف**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-182">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span>
1. <span data-ttu-id="a91f2-183">حدد ملف تعريف وظائف.</span><span class="sxs-lookup"><span data-stu-id="a91f2-183">Select a functionality profile.</span></span>
1. <span data-ttu-id="a91f2-184">في علامة التبويب السريعة **وظائف**، في القسم **حساب توفر المخزون**، ثم قم بتغيير قيمة **وضع حساب توفر المخزون** من **خدمة الوقت الحقيقي** إلى **القناة**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-184">On the **Functions** FastTab, in the **Inventory availability calculation** section, change the value of **Inventory availability calculation mode** from **Real time service** to **Channel**.</span></span> <span data-ttu-id="a91f2-185">بشكل افتراضي، تستخدم كافة ملفات تعريف الوظائف استدعاءات خدمة في الوقت الحقيقي.</span><span class="sxs-lookup"><span data-stu-id="a91f2-185">By default, all functionality profiles use real-time service calls.</span></span> <span data-ttu-id="a91f2-186">يجب عليك تغيير قيمة هذا الحقل إذا كنت تريد استخدام منطق حساب جانب القناة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-186">You must change the value of this field if you want to use channel-side calculation logic.</span></span> <span data-ttu-id="a91f2-187">سيتأثر كل متجر للبيع بالتجزئة مرتبط بملف تعريف الوظائف المحددة بهذا التغيير.</span><span class="sxs-lookup"><span data-stu-id="a91f2-187">Every retail store that is linked to the selected functionality profile will be affected by this change.</span></span>

<span data-ttu-id="a91f2-188">يجب عليك بعد ذلك مزامنة التغييرات على القنوات من خلال عملية جدول التوزيع في headquarters باتباع هذه الخطوات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-188">You must then sync the changes to the channels through the distribution schedule process in headquarters by following these steps.</span></span>

1. <span data-ttu-id="a91f2-189">انتقل إلى **البيع بالتجزئة والتجارة \> تكنولوجيا معلومات البيع بالتجزئة والتجارة \> جدول التوزيع**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-189">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
1. <span data-ttu-id="a91f2-190">قم بتشغيل وظيفة **1070** (**تكوين القناة**).</span><span class="sxs-lookup"><span data-stu-id="a91f2-190">Run the **1070** (**Channel configuration**) job.</span></span>

<span data-ttu-id="a91f2-191">بعد اكتمال التكوين، لا تستخدم المعلومات التي يتم تقديمها عن المخزون المتوفر فعليًا استدعاء خدمة في الوقت الحقيقي عندما يستخدم المستخدم في تطبيق نقطة البيع عملية **البحث عن المخزون** (طرق العرض القياسية والمصفوفة).</span><span class="sxs-lookup"><span data-stu-id="a91f2-191">After the configuration is completed, the information that is provided about physically available inventory no longer uses a real-time service call when a user in the POS application uses the **Inventory lookup** operation (standard and matrix views).</span></span> <span data-ttu-id="a91f2-192">بدلاً من ذلك، يتم حساب البيانات الخاصة بالمخزون المتوفر فعليًا للمتجر الحالي وكذلك كافة المتاجر في مجموعة التنفيذ بناء على آخر لقطة معروفة تم تسليمها إلى قاعدة بيانات القنوات من Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-192">Instead, data about physically available inventory for the current store and all the stores in the fulfillment group is calculated based on the last-known snapshot that was delivered to the channel database from Commerce Headquarters.</span></span> <span data-ttu-id="a91f2-193">يتم تحسين قيمة اللقطة بشكل أكبر بواسطة حساب جانب القناة لتسوية القيمة المتوفرة فعليًا، استنادًا إلى المبيعات الإضافية أو حركات الإرجاع الموجودة للمنتج المحدد في قاعدة بيانات القناة التي لم يتم تضمينها في آخر لقطة تمت مزامنتها من الوظيفة 1130.</span><span class="sxs-lookup"><span data-stu-id="a91f2-193">The snapshot value is further refined by the channel-side calculation to adjust the physically available value, based on additional sales or return transactions that exist for the selected product in the channel database that were not included in the last synchronized snapshot from the 1130 job.</span></span> <span data-ttu-id="a91f2-194">إذا كانت قاعدة بيانات القناة لا تحتوي على بيانات حركة لأي من المستودعات أو المتاجر في مجموعة التنفيذ، فإنها لا تحتوي على أية حركات إضافية يمكن تحليلها إلى إعادة حساب القيمة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-194">If the channel database doesn't contain transactional data for any of the warehouses or stores in the fulfillment group, it contains no additional transactions that can be factored into a recalculation of the value.</span></span> <span data-ttu-id="a91f2-195">وبالتالي، يكون أفضل تقدير للمخزون الحالي الذي يمكن عرضه لهذه المستودعات أو المتاجر هو البيانات الموجودة في آخر لقطة معروفة من Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-195">Therefore, the best estimate of on-hand inventory that can be shown for those warehouses or stores is the data from the last-known Commerce Headquarters snapshot.</span></span>

<span data-ttu-id="a91f2-196">تقوم كذلك شاشات **تنفيذ الأمر** لنقطة البيع بزيادة حساب جانب القناة لإظهار المخزون الحالي للأصناف عند تحديد خط تنفيذ الأمر ويعرض المستخدم لوحة **التفاصيل** للمخزون الحالي للصنف المحدد.</span><span class="sxs-lookup"><span data-stu-id="a91f2-196">The **Order fulfillment** screens of POS also leverage the channel side calculation to show on-hand inventory for items when an order fulfillment line is selected and a user views the **Details** panel for on-hand inventory for the selected item.</span></span>

## <a name="optimize-your-inventory-data"></a><span data-ttu-id="a91f2-197">تحسين بيانات المخزون</span><span class="sxs-lookup"><span data-stu-id="a91f2-197">Optimize your inventory data</span></span>

<span data-ttu-id="a91f2-198">لضمان أفضل تقدير ممكن للمخزون، فمن الضروري أن تقوم باستخدام الوظائف الدفعية لـ Commerce التالية وتشغيلها بشكل متكرر:</span><span class="sxs-lookup"><span data-stu-id="a91f2-198">To ensure the best possible estimate of inventory, it's critical that you use the following Commerce batch jobs and run them frequently:</span></span>

- <span data-ttu-id="a91f2-199">**الوظيفة P** – تم العثور على وظيفة P في الصفحة **جداول التوزيع** ويجب تشغيلها بشكل متكرر.</span><span class="sxs-lookup"><span data-stu-id="a91f2-199">**P-job** – The P-job is found on the **Distribution schedules** page and should be run frequently.</span></span> <span data-ttu-id="a91f2-200">تقوم هذه الوظيفة بإحضار أوامر التجارية الإلكترونية وأوامر العميل غير المتزامنة التي قامت نقطة البيع بإنشائها وأوامر الدفع نقدًا التي قامت نقطة البيع بإنشائها من قواعد بيانات القناة في Commerce Headquarters، لذلك يمكن معالجتها أكثر من ذلك.</span><span class="sxs-lookup"><span data-stu-id="a91f2-200">This job brings e-Commerce orders, asynchronous customer orders that POS created, and cash-and-carry orders that POS created from the channel databases into Commerce Headquarters, so that they can be processed further.</span></span> <span data-ttu-id="a91f2-201">حتى تتم مزامنة هذه البيانات من القناة إلى Commerce Headquarters، لا يحتوي Commerce Headquarters على معلومات حول تعديلات المخزون إلى المنتجات الموجودة في المستودعات التي تنتج عن هذه الحركات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-201">Until this data is synced from the channel to Commerce Headquarters, Commerce Headquarters has no information about inventory adjustments to products in the warehouses that result from those transactions.</span></span>
- <span data-ttu-id="a91f2-202">**مزامنة الأوامر** – تقوم هذه الوظيفة بمعالجة بيانات الحركة الأولية في Commerce Headquarters التي تقدم وظيفة P وتحول التجارة الإلكترونية وحركات أمر العميل غير المتزامنة والتجارة الإلكترونية إلى أوامر المبيعات في Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-202">**Synchronize orders** – This job processes the raw transactional data in Commerce Headquarters that the P-job provides and converts e-Commerce and asynchronous customer order transactions into sales orders in Commerce Headquarters.</span></span> <span data-ttu-id="a91f2-203">وحتى تتم معالجة هذه الوظيفة وإنشاء أوامر المبيعات، فإنه لن يتم إنشاء أية حركات مخزون.</span><span class="sxs-lookup"><span data-stu-id="a91f2-203">Until this job is processed and the sales orders are created, no inventory transactions are created.</span></span> <span data-ttu-id="a91f2-204">وبالتالي، فإن المخزون الحالي في Commerce Headquarters لا يعتبر الحركات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-204">Therefore, on-hand inventory in Commerce Headquarters won't consider the transactions.</span></span>
- <span data-ttu-id="a91f2-205">**حساب كشوف الحركات في الدفعة** - بالنسبة لحركات الدفع نقدًا التي يتم إنشاؤها في المتجر، تعمل عملية ترحيل التغذية المستمرة على تأكيد أنه يتم تحديث المخزون المرتبط بالمبيعات بكفاءة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-205">**Calculate transactional statements in batch** – For cash-and-carry transactions that are created in the store, the trickle feed posting process ensures that inventory that is related to the sales is updated efficiently.</span></span> <span data-ttu-id="a91f2-206">للحصول على المعالجة الأكثر كفاءة لحركات المخزون لأوامر الدفع نقدًا، تأكد من أنك تقوم بتكوين نظامك لاستخدام [ترحيل التغذية المستمرة](./trickle-feed.md).</span><span class="sxs-lookup"><span data-stu-id="a91f2-206">To get the most efficient processing of inventory transactions for cash-and-carry orders, make sure that you configure your system to use [trickle feed posting](./trickle-feed.md).</span></span>
- <span data-ttu-id="a91f2-207">**ترحيل كشوف الحركات على دفعات** - هذه الوظيفة مطلوبة أيضًا لترحيل التغذية المستمرة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-207">**Post transactional statements in batch** – This job is also required for trickle feed posting.</span></span> <span data-ttu-id="a91f2-208">ويتبع الوظيفة **حساب كشوف الحركات على دفعات**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-208">It follows the **Calculate transactional statements in batch** job.</span></span> <span data-ttu-id="a91f2-209">تقوم هذه الوظيفة بترحيل ‏‫كشوف الحساب المحسوبة بشكل منتظم، بحيث يتم إنشاء أوامر المبيعات الخاصة بمبيعات الدفع نقدًا في Commerce Headquarters ويعكس Commerce Headquarters لمخزون المتجر بشكل أكثر دقة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-209">This job systematically posts the calculated statements, so that sales orders for cash-and-carry sales are created in Commerce Headquarters and Commerce Headquarters more accurately reflects your store's inventory.</span></span>
- <span data-ttu-id="a91f2-210">**توفر المنتج** – تقوم هذه الوظيفة بإنشاء لقطة المخزون من Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="a91f2-210">**Product availability** – This job creates the snapshot of inventory from Commerce Headquarters.</span></span>
- <span data-ttu-id="a91f2-211">**1130 (توفر المنتج)** – يتم العثور على هذه الوظيفة في الصفحة **جداول التوزيع** وينبغي تشغيلها على الفور بعد وظيفة **توفر المنتج**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-211">**1130 (Product availability)** – This job is found on the **Distribution schedules** page and should be run immediately after the **Product availability** job.</span></span> <span data-ttu-id="a91f2-212">تقوم هذه الوظيفة بنقل بيانات لقطة المخزون من Commerce Headquarters إلى قواعد بيانات القنوات.</span><span class="sxs-lookup"><span data-stu-id="a91f2-212">This job transports the inventory snapshot data from Commerce Headquarters to the channel databases.</span></span>

> [!NOTE]
> - <span data-ttu-id="a91f2-213">من أفضل الممارسات تشغيل وظيفتي **توافر المنتج** و **1130** على أساس كل ساعة، ولجدولة P-job، ومزامنة الأوامر، وتغذية الوظائف المتعلقة بالنشر بشكل متقطع مع نفس التردد أو أعلى.</span><span class="sxs-lookup"><span data-stu-id="a91f2-213">It is a best practice to run the **Product availability** and **1130** jobs on an hourly basis, and to schedule P-job, synchronize orders, and trickle feed posting-related jobs with the same or higher frequency.</span></span>
> - <span data-ttu-id="a91f2-214">لأسباب تتعلق بالأداء، عند استخدام حسابات توفر مخزون جانب القناة لإصدار طلب توفر المخزون باستخدام واجهة برمجة التطبيقات بالتجارة الإلكترونية أو منطق المخزون الخاص بقناة نقطة البيع، يستخدم الحساب ذاكرة تخزين مؤقت لتحديد ما إذا كان قد مر وقت كاف لضبط تشغيل منطق الحساب مرة أخرى.</span><span class="sxs-lookup"><span data-stu-id="a91f2-214">For performance reasons, when channel-side inventory availability calculations are used to make an inventory availability request using the e-Commerce API's or the POS channel-side inventory logic, the calculation uses a cache to determine whether enough time has passed to justify running the calculation logic again.</span></span> <span data-ttu-id="a91f2-215">يتم تعيين ذاكرة التخزين المؤقتة الافتراضية على 60 ثانية.</span><span class="sxs-lookup"><span data-stu-id="a91f2-215">The default cache is set to 60 seconds.</span></span> <span data-ttu-id="a91f2-216">على سبيل المثال، إذا قمت بتشغيل حساب جانب القناة للمتجر الخاص بك وقمت بعرض المخزون الحالي لأحد المنتجات في الصفحة **البحث عن المخزون**.</span><span class="sxs-lookup"><span data-stu-id="a91f2-216">For example, you turned on channel-side calculation for your store and viewed the on-hand inventory for a product on the **Inventory lookup** page.</span></span> <span data-ttu-id="a91f2-217">إذا تم بيع إحدى وحدات المنتج بعد ذلك، فلن تعرض الصفحة **البحث عن المخزون** المخزون المخفض حتى يتم مسح ذاكرة التخزين المؤقت.</span><span class="sxs-lookup"><span data-stu-id="a91f2-217">If one unit of the product is then sold, the **Inventory lookup** page won't show the reduced inventory until the cache has been cleared.</span></span> <span data-ttu-id="a91f2-218">بعد قيام المستخدمون بترحيل الحركات في نقطة البيع، فإنه يجب عليهم الانتظار 60 ثانية قبل التحقق من أن المخزون الحالي قد تم خفضه.</span><span class="sxs-lookup"><span data-stu-id="a91f2-218">After users post transactions in POS, they should wait 60 seconds before they verify that the on-hand inventory has been reduced.</span></span>

<span data-ttu-id="a91f2-219">إذا تطلب السيناريو التجاري الخاص بك وقتًا أقل في ذاكرة التخزين المؤقت، فاتصل بممثل دعم المنتج للحصول على المساعدة.</span><span class="sxs-lookup"><span data-stu-id="a91f2-219">If your business scenario requires a smaller cache time, contact your product support representative for assistance.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
