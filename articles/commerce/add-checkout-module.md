---
title: الوحدة النمطية للسداد مع الخروج
description: يوضح هذا الموضوع كيفية إضافة الوحدة النمطية للسداد مع الخروج إلى صفحة، وتعيين الخصائص المطلوبة.
author: anupamar-ms
manager: annbe
ms.date: 01/23/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 3805c0faabc8afc3decffb924b7f25332ff1ab16
ms.sourcegitcommit: 829329220475ed8cff5a5db92a59dd90c22b04fa
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2020
ms.locfileid: "3025380"
---
# <a name="checkout-module"></a><span data-ttu-id="50483-103">الوحدة النمطية للسداد مع الخروج</span><span class="sxs-lookup"><span data-stu-id="50483-103">Checkout module</span></span>


[!include [banner](includes/banner.md)]

<span data-ttu-id="50483-104">يوضح هذا الموضوع كيفية إضافة الوحدة النمطية للسداد مع الخروج إلى صفحة، وتعيين الخصائص المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="50483-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="50483-105">نظرة عامة</span><span class="sxs-lookup"><span data-stu-id="50483-105">Overview</span></span>

<span data-ttu-id="50483-106">تُمثل الوحدة النمطية للسداد مع الخروج حاوية خاصة تستضيف كافة الوحدات المطلوبة لإنشاء أمر.</span><span class="sxs-lookup"><span data-stu-id="50483-106">A checkout module is a special container that hosts all modules that are required to create an order.</span></span> <span data-ttu-id="50483-107">وهي توضح التدفق خطوة بخطوة الذي يستخدمه العميل لإدخال كافة المعلومات ذات الصلة لإجراء عملية شراء.</span><span class="sxs-lookup"><span data-stu-id="50483-107">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span> <span data-ttu-id="50483-108">وهي تسجل عنوان الشحن وأسلوب الشحن ومعلومات الفوترة.</span><span class="sxs-lookup"><span data-stu-id="50483-108">It captures the shipping address, shipping method, and billing information.</span></span> <span data-ttu-id="50483-109">وتوفر أيضًا ملخص الأمر ومعلومات أخرى مرتبطة بأم العميل.</span><span class="sxs-lookup"><span data-stu-id="50483-109">It also provides an order summary and other information that is related to a customer order.</span></span>

<span data-ttu-id="50483-110">تعرض الوحدة النمطية للسداد مع الخروج البيانات بناءً على مُعرف سلة التسوق.</span><span class="sxs-lookup"><span data-stu-id="50483-110">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="50483-111">يتم حفظ مُعرف سلة التسوق كملف تعريف ارتباط للمستعرض.</span><span class="sxs-lookup"><span data-stu-id="50483-111">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="50483-112">ويُكون مُعرف سلة التسوق مطلوبًا لعرض المعلومات في الوحدة النمطية للسداد مع الخروج، مثل الأصناف في الأمر والمبلغ الإجمالي والخصومات.</span><span class="sxs-lookup"><span data-stu-id="50483-112">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span>

## <a name="checkout-module-properties"></a><span data-ttu-id="50483-113">خصائص الوحدة النمطية للسداد مع الخروج</span><span class="sxs-lookup"><span data-stu-id="50483-113">Checkout module properties</span></span>

<span data-ttu-id="50483-114">تعرض الوحدة النمطية للسداد مع الخروج ملخص الأمر وتوفر الوظيفة الخاصة بوضع أمر.</span><span class="sxs-lookup"><span data-stu-id="50483-114">A checkout module shows an order summary and provides the functionality for placing an order.</span></span> <span data-ttu-id="50483-115">لتجميع كافة معلومات العميل المطلوبة قبل وضع الأمر، يجب إضافة المزيد من الوحدات النمطية إلى الوحدة النمطية للسداد مع الخروج.</span><span class="sxs-lookup"><span data-stu-id="50483-115">To gather all the customer information that is required before an order can be placed, additional modules must be added to the checkout module.</span></span> <span data-ttu-id="50483-116">وبالتالي، تتوفر لبائعي التجزئة المرونة الكافية لإضافة وحدات نمطيه مخصصة إلى سير عمل السداد مع الخروج أو لاستثناء وحدات نمطية، استنادًا إلى متطلباتهم.</span><span class="sxs-lookup"><span data-stu-id="50483-116">Therefore, retailers have the flexibility to add custom modules to the checkout flow, or to exclude modules, based on their requirements.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="50483-117">الوحدات التي يُمكن استخدامها في الوحدة النمطية للسداد مع الخروج</span><span class="sxs-lookup"><span data-stu-id="50483-117">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="50483-118">**عنوان الشحن** - تتيح هذه الوحدة للعميل إضافة أو تحديد عنوان الشحن لأحد الأوامر.</span><span class="sxs-lookup"><span data-stu-id="50483-118">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="50483-119">إذا قام العميل بتسجيل الدخول، فسوف يتم عرض أي عناوين تم حفظها مسبقًا لهذا العميل.</span><span class="sxs-lookup"><span data-stu-id="50483-119">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="50483-120">يمكن للعميل عندئذ الاختيار من بين هذه العناوين.</span><span class="sxs-lookup"><span data-stu-id="50483-120">The customer can then select among those addresses.</span></span> <span data-ttu-id="50483-121">ويُمكن للعميل أيضًا إضافة عنوان جديد.</span><span class="sxs-lookup"><span data-stu-id="50483-121">The customer can also add a new address.</span></span> <span data-ttu-id="50483-122">يتم استخدام عنوان الشحن لكافة الأصناف في الأمر الذي يتطلب الشحن.</span><span class="sxs-lookup"><span data-stu-id="50483-122">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="50483-123">ولا يُمكن تخصيصه لأصناف البنود الفردية.</span><span class="sxs-lookup"><span data-stu-id="50483-123">It can't be customized for individual line items.</span></span> <span data-ttu-id="50483-124">يتم تحديد تنسيقات عناوين الشحن لكل بلد أو منطقة، ويتم فرض القواعد الخاصة بالبلد/المنطقة بواسطة هذه الوحدة.</span><span class="sxs-lookup"><span data-stu-id="50483-124">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="50483-125">وعلى الرغم من أن هذه الوحدة لا توفر ميزة التحقق من صحة العنوان، إلا أنه يُمكن تطبيق ميزة التحقق من صحة العنوان من خلال التخصيص.</span><span class="sxs-lookup"><span data-stu-id="50483-125">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="50483-126">إذا كان الأمر يشتمل فقط الأصناف التي سوف يتم انتقاؤها في المتجر، فمن ثم يتم إخفاء هذه الوحدة تلقائيًا.</span><span class="sxs-lookup"><span data-stu-id="50483-126">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="50483-127">**خيارات التسليم** - وتتيح هذه الوحدة للعميل تحديد خيار التسليم لأحد الأوامر.</span><span class="sxs-lookup"><span data-stu-id="50483-127">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="50483-128">وتعتمد خيارات التسليم علي عنوان الشحن.</span><span class="sxs-lookup"><span data-stu-id="50483-128">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="50483-129">وفي حالة تغيير عنوان الشحن، يتعين استرداد خيارات التسليم مرة أخرى.</span><span class="sxs-lookup"><span data-stu-id="50483-129">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="50483-130">إذا كان الأمر يشتمل فقط الأصناف التي سوف يتم انتقاؤها في المتجر، فمن ثم يتم إخفاء هذه الوحدة تلقائيًا.</span><span class="sxs-lookup"><span data-stu-id="50483-130">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>
- <span data-ttu-id="50483-131">**حاوية قسم السداد مع الخروج** - تُمثل هذه حاوية يُمكنك وضع وحدات متعددة داخلها لإنشاء قسم داخل تدفق السداد مع الخروج.</span><span class="sxs-lookup"><span data-stu-id="50483-131">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="50483-132">على سبيل المثال، يُمكنك وضع كافة الوحدات المرتبطة بالدفع داخل هذه الحاوية لجعلها تظهر كقسم واحد.</span><span class="sxs-lookup"><span data-stu-id="50483-132">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="50483-133">تؤثر هذه الوحدة فقط على تخطيط التدفق.</span><span class="sxs-lookup"><span data-stu-id="50483-133">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="50483-134">**بطاقة الهدايا**- تتيح هذه الوحدة للعميل الدفع لأحد الأوامر باستخدام بطاقة هدايا.</span><span class="sxs-lookup"><span data-stu-id="50483-134">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="50483-135">فهو يدعم فقط بطاقات الهدايا من Microsoft Dynamics 365 Commerce فقط.</span><span class="sxs-lookup"><span data-stu-id="50483-135">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="50483-136">ويُمكن استخدام بطاقة هدايا واحدة أو أكثر لأحد الأوامر.</span><span class="sxs-lookup"><span data-stu-id="50483-136">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="50483-137">إذا لم يُغطي رصيد بطاقة الهدايا المبلغ في سلة التسوق، فيُمكن دمج بطاقة الهدايا مع طريقة دفع أخرى.</span><span class="sxs-lookup"><span data-stu-id="50483-137">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="50483-138">ولا يُمكن استرجاع بطاقات الهدايا إلا إذا قام العميل بتسجيل الدخول.</span><span class="sxs-lookup"><span data-stu-id="50483-138">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="50483-139">**نقاط الولاء** - تسمح هذه الوحدة للعميل بدفع في مقابل أمر باستخدام نقاط الولاء.</span><span class="sxs-lookup"><span data-stu-id="50483-139">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="50483-140">وتوفر ملخصًا للنقاط المتاحة والنقاط منتهية الصلاحية، كما تتيح للعميل تحديد عدد النقاط المطلوب استردادها.</span><span class="sxs-lookup"><span data-stu-id="50483-140">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="50483-141">إذا لم يقم العميل بتسجيل الدخول أو إذا لم يكن عضوًا في برنامج الولاء، أو إذا كان المبلغ  الإجمالي في سلة التسوق هو 0 (صفر)، فمن ثم يتم إخفاء هذه الوحدة تلقائيًا.</span><span class="sxs-lookup"><span data-stu-id="50483-141">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="50483-142">**الدفع**- تتيح هذه الوحدة للعميل الدفع لأحد الأوامر باستخدام بطاقة الائتمان.</span><span class="sxs-lookup"><span data-stu-id="50483-142">**Payment** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="50483-143">إذا كان إجمالي المبلغ في سلة التسوق مُغطى من خلال نقاط الولاء أو بطاقة هدايا أو إذا كان 0 (صفر)، يتم إخفاء هذه الوحدة تلقائيًا.</span><span class="sxs-lookup"><span data-stu-id="50483-143">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="50483-144">يتم توفير تكامل بطاقة الائتمان بواسطة موصل دفع Adyen لهذه الوحدة.</span><span class="sxs-lookup"><span data-stu-id="50483-144">Credit card integration is provided by the Adyen payment connector for this module.</span></span> <span data-ttu-id="50483-145">لمزيد من المعلومات حول كيفية استخدام هذا الموصل، راجع [موصل دفع Dynamics 365 لـ Adyen‬](dev-itpro/adyen-connector.md).</span><span class="sxs-lookup"><span data-stu-id="50483-145">For more information about how to use this connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>
- <span data-ttu-id="50483-146">**عنوان الفوترة** - تتيح هذه الوحدة للعميل تقديم معلومات الفوترة.</span><span class="sxs-lookup"><span data-stu-id="50483-146">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="50483-147">تتم مُعالجة هذه المعلومات مع معلومات بطاقة الائتمان بواسطة Adyen.</span><span class="sxs-lookup"><span data-stu-id="50483-147">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="50483-148">وتتضمن هذه الوحدة خيارًا يسمح للعملاء باستخدام عنوان الفوترة الخاص بهم كعنوان الشحن.</span><span class="sxs-lookup"><span data-stu-id="50483-148">This module includes an option that lets customers use their billing address as the shipping address.</span></span>
- <span data-ttu-id="50483-149">**معلومات الاتصال**- تُتيح هذه الوحدة للعميل إضافة أو تغيير معلومات الاتصال (عنوان البريد الإلكتروني) لأحد الأوامر.</span><span class="sxs-lookup"><span data-stu-id="50483-149">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>
- <span data-ttu-id="50483-150">**كتلة النص** - تحتوي هذه الوحدة على أي مُراسلات يتم التحكم فيها بواسطة نظام إدارة المحتوى (CMS).</span><span class="sxs-lookup"><span data-stu-id="50483-150">**Text block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="50483-151">على سبيل المثال، قد تحتوي على رسالة تنص على، "للمشاكل الخاصة بطلبك، يُرجى الاتصال بالرقم التالي 1-800- شركة Fabrikam."</span><span class="sxs-lookup"><span data-stu-id="50483-151">For example, it might contain a message that states, "For issues with your order, contact 1-800-Fabrikam."</span></span> 

## <a name="commerce-scale-unit-interaction"></a><span data-ttu-id="50483-152">تفاعل Commerce Scale Unit</span><span class="sxs-lookup"><span data-stu-id="50483-152">Commerce Scale Unit interaction</span></span>

<span data-ttu-id="50483-153">يتم تخزين معظم معلومات السداد مع الخروج، مثل عنوان الشحن وطريقة الشحن في سلة التسوق ومُعالجتها كجزء من الأمر.</span><span class="sxs-lookup"><span data-stu-id="50483-153">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="50483-154">والاستثناء الوحيد هو معلومات بطاقة الائتمان.</span><span class="sxs-lookup"><span data-stu-id="50483-154">The only exception is the credit card information.</span></span> <span data-ttu-id="50483-155">تتم مُعالجة هذه المعلومات مُباشرة باستخدام موصل دفع Adyen.</span><span class="sxs-lookup"><span data-stu-id="50483-155">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="50483-156">يتم تخويل الدفع ولكن لا يتم قيده.</span><span class="sxs-lookup"><span data-stu-id="50483-156">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-new-page-and-set-the-required-properties"></a><span data-ttu-id="50483-157">إضافة الوحدة النمطية للسداد مع الخروج إلى صفحة جديدة وتعيين الخصائص المطلوبة</span><span class="sxs-lookup"><span data-stu-id="50483-157">Add a checkout module to a new page and set the required properties</span></span>

<span data-ttu-id="50483-158">لإضافة الوحدة النمطية للسداد مع الخروج إلى صفحة جديدة وتعيين الخصائص المطلوبة، اتبع الخطوات التالية.</span><span class="sxs-lookup"><span data-stu-id="50483-158">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="50483-159">انتقل إلى **جزء\> جزء جديد** ، وقم بتسمية الجزء الجديد **جزء السداد مع الخروج**.</span><span class="sxs-lookup"><span data-stu-id="50483-159">Go to **Fragment \> New Fragment**, and name the new fragment **Checkout fragment**.</span></span>
1. <span data-ttu-id="50483-160">إضافة الوحدة النمطية للسداد مع الخروج إلى الجزء.</span><span class="sxs-lookup"><span data-stu-id="50483-160">Add a checkout module to the fragment.</span></span>
1. <span data-ttu-id="50483-161">إضافة عنوان إلى الوحدة النمطية للسداد مع الخروج.</span><span class="sxs-lookup"><span data-stu-id="50483-161">Add a heading to the checkout module.</span></span>
1. <span data-ttu-id="50483-162">أضف وحدات عنوان الشحن وخيارات التسليم وحاوية قسم السداد مع الخروج ومعلومات الاتصال.</span><span class="sxs-lookup"><span data-stu-id="50483-162">Add shipping address, delivery options, checkout section container, and contact information modules.</span></span> 
1. <span data-ttu-id="50483-163">في وحدة حاوية قسم الخروج مع السداد، قم بإضافة وحدات بطاقة الهدايا ونقاط الولاء والدفع.</span><span class="sxs-lookup"><span data-stu-id="50483-163">In the checkout section container module, add gift card, loyalty points, and payment modules.</span></span> <span data-ttu-id="50483-164">وبهذه الطريقة، فسوف تتأكد من ظهور جميع أساليب الدفع في أحد الأقسام.</span><span class="sxs-lookup"><span data-stu-id="50483-164">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="50483-165">احفظ الجزء وقم بمعاينته.</span><span class="sxs-lookup"><span data-stu-id="50483-165">Save and preview the fragment.</span></span> <span data-ttu-id="50483-166">قد لا تُعرض في المعاينة بعض الوحدات التي ليس لديها سياق سلة تسوق.</span><span class="sxs-lookup"><span data-stu-id="50483-166">Some modules that don't have a cart context might not be rendered in the preview.</span></span>
1. <span data-ttu-id="50483-167">انشر الجزء بعد الانتهاء من تحريره.</span><span class="sxs-lookup"><span data-stu-id="50483-167">Finish editing the fragment, and publish it.</span></span>
1. <span data-ttu-id="50483-168">قم بإنشاء قالب يستخدم جزء السداد مع الخروج جديد.</span><span class="sxs-lookup"><span data-stu-id="50483-168">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="50483-169">قم بإنشاء صفحة السداد مع الخروج التي تستخدم القالب الجديد.</span><span class="sxs-lookup"><span data-stu-id="50483-169">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="50483-170">الموارد الإضافية</span><span class="sxs-lookup"><span data-stu-id="50483-170">Additional resources</span></span>

[<span data-ttu-id="50483-171">نظرة عامة حول أدوات البداية</span><span class="sxs-lookup"><span data-stu-id="50483-171">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="50483-172">وحدة الحاوية</span><span class="sxs-lookup"><span data-stu-id="50483-172">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="50483-173">الوحدة النمطية لمربع شراء</span><span class="sxs-lookup"><span data-stu-id="50483-173">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="50483-174">الوحدة النمطية لسلة التسوق</span><span class="sxs-lookup"><span data-stu-id="50483-174">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="50483-175">الوحدة النمطية لتأكيد الأمر</span><span class="sxs-lookup"><span data-stu-id="50483-175">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="50483-176">الوحدة النمطية للعنوان</span><span class="sxs-lookup"><span data-stu-id="50483-176">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="50483-177">الوحدة النمطية لتذييل الصفحة</span><span class="sxs-lookup"><span data-stu-id="50483-177">Footer module</span></span>](author-footer-module.md)
