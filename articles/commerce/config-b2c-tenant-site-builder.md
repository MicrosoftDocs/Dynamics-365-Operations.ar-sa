---
title: تكوين مستأجر B2C في منشئ موقع Commerce
description: يصف هذا المقال كيفية تكوين مستأجر متاجرة بين عمل ومستهلك (B2C) في مُنشئ موقع Microsoft Dynamics 365 Commerce.
author: BrianShook
ms.date: 11/15/2022
ms.topic: article
audience: Application User, Developer, IT Pro
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: brshoo
ms.search.validFrom: 2020-02-13
ms.openlocfilehash: 181edf1570f1a9d071a7fae38ff9d73ff3c068fa
ms.sourcegitcommit: 774f8f97a0b14cf1199bd1802178ccf536a25ade
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 11/17/2022
ms.locfileid: "9785210"
---
# <a name="configure-your-b2c-tenant-in-commerce-site-builder"></a>تكوين مستأجر B2C في منشئ موقع Commerce

[!include [banner](includes/banner.md)]

يصف هذا المقال كيفية تكوين مستأجر متاجرة بين عمل ومستهلك (B2C) في مُنشئ موقع Microsoft Dynamics 365 Commerce.

وبمجرد اكتمال إعداد مستأجر Azure AD B2C، يجب تكوين مستأجر B2C في منشئ موقع Commerce. تتضمن خطوات التكوين تجميع معلومات تطبيق B2C من مدخل Azure، وإدخال معلومات تطبيق B2C في منشئ الموقع، ثم ربط تطبيق B2C بموقعك وقناتك.

### <a name="collect-the-required-application-information"></a>تجميع معلومات التطبيق المطلوبة

لتجميع معلومات التطبيق المطلوبة، اتبع الخطوات التالية.

1. في مدخل Azure، انتقل إلى **الصفحة الرئيسية \> Azure AD B2C - تسجيلات التطبيق**.
1. حدد تطبيقك، ثم حدد **نظرة عامة** في جزء التنقل الأيمن للحصول على تفاصيل التطبيق.
1. من المرجع **معرف التطبيق (العميل)** قم بتجميع معرف التطبيق الخاص بتطبيق B2C الذي تم إنشاؤه في مستأجر B2C. سيتم إدخاله في وقت لاحق على أنه **GUID‎ العميل** في منشئ الموقع.
1. حدد **إعادة توجيه URIs** واجمع عنوان URL للرد الذي يظهر لموقعك (عنوان URL للرد الذي تم إدخاله عند الإعداد).
1. انتقل إلى **الصفحة الرئيسية \> Azure AD B2C – مهام سير عمل المستخدم**، ثم اجمع أسماء كل سير عمل سياسة للمستخدم.

تعرض الصورة التالية مثالاً عن صفحة النظرة العامة على **Azure AD B2C - تسجيلات التطبيق**.

![صفحة النظرة العامة علة Azure AD B2C - تسجيلات التطبيق مع تمييز معرف التطبيق (العميل)](./media/ClientGUID_Application_AzurePortal.png)

تعرض الصورة التالية مثالاً عن سياسات تدفق المستخدم في صفحة **Azure AD B2C – تدفقات المستخدم (السياسات)**.

![جمع أسماء كل تدفق سياسة B2C.](./media/B2CImage_22.png)

### <a name="enter-your-azure-ad-b2c-tenant-application-information-into-commerce"></a>إدخال معلومات تطبيق مستأجر Azure AD B2C في Commerce

يجب إدخال التفاصيل الخاصة بمستأجر Azure AD B2C في منشئ موقع Commerce قبل ربط مستأجر B2C بموقعك (مواقعك).

لإضافة معلومات تطبيق مستأجر Azure AD B2C إلى Commerce، اتبع الخطوات التالية.

1. سجل دخولك كمسؤول إلى منشئ موقع Commerce لبيئتك.
1. في جزء التنقل الأيسر، حدد **إعدادات المستأجر**  لتوسيعه.
1. ضمن **إعدادات المستأجر**، حدد **إعداد مصادقة الموقع**. 
1. في النافذة الرئيسية إلى جانب **ملفات تعريف مصادقة الموقع**، حدد **إدارة**. (إذا ظهر المستأجر في قائمة ملفات تعريف مصادقة الموقع، فهذا يعني أنه أضيف بواسطة المسؤول. تحقق من تطابق البنود الموجودة في الخطوة 6 أدناه مع تلك المتعلقة بإعداد B2C المقصود. يمكن أيضًا إنشاء ملف تعريف جديد باستخدام مستأجري أو تطبيقات Azure AD B2C مماثلة لأخذ الاختلافات الثانوية في الاعتبار، مثل معرفات سياسة مستخدم مختلفة).
1. حدد **إضافة ملف تعريف مصادقة الموقع**.
1. أدخل البنود المطلوبة التالية في النموذج المعروض، باستخدام قيم من مستأجر B2C وتطبيقك. يمكن ترك الحقول غير المطلوبة (تلك التي لا توجد علامة نجمية إلى جانبها) فارغة.

    - **اسم التطبيق**: اسم تطبيق B2C، على سبيل المثال "Fabrikam B2C".
    - **اسم المستأجر**: اسم مستأجر B2C الخاص بك (على سبيل المثال، استخدم "‏‫شركة الاتحاد للتصنيع‬" إذا ظهر المجال على أنه "fabrikam.onmicrosoft.com" للمستاجر B2C). 
    - **معرف سياسة نسيان كلمة المرور**: معرف سياسة تدفق المستخدم لنسيان كلمة المرور، على سبيل المثال "B2C_1_PasswordReset".
    - **معرف سياسة التسجيل وتسجيل الدخول**: معرف سياسة سير عمل المستخدم للتسجيل وتسجيل الدخول، على سبيل المثال "B2C_1_signup_signin".
    - **GUID‏‎ العميل**: معرف تطبيق B2C، على سبيل المثال "22290eb2-c52e-42e9-8b35-a2b0a3bcb9e6".
    - **معرف سياسة تحرير ملف التعريف**: معرف سياسة تدفق المستخدم لتحرير ملف التعريف، على سبيل المثال، "B2C_1A_ProfileEdit".

1. حدد **موافق**. من المفترض أن يظهر الآن اسم تطبيق B2C في القائمة.
1. حدد **حفظ** لحفظ تغييراتك.

يجب استخدام الحقل الاختياري **مجال مخصص لتسجيل الدخول** فقط إذا كنت تعمل على إعداد مجال مخصص لمستأجر Azure AD B2C. للاطلاع على تفاصيل واعتبارات إضافية تتعلق باستخدام حقل **مجال مخصص لتسجيل الدخول** راجع [معلومات B2C إضافية](additional-b2c-info.md).

### <a name="associate-the-b2c-application-to-your-site-and-channel"></a>ربط تطبيق B2C بموقعك وقناتك

> [!WARNING]
> - إذا كان موقعك مرتبطًا بتطبيق B2C، فسيؤدي التغيير إلى تطبيق B2C مختلف إلى إزالة المراجع الحالية التي تم تأسيسها للمستخدمين الذين قاموا بالتسجيل في هذه البيئة. إذا حصل التغيير، فإن أي بيانات اعتماد مرتبطة بتطبيق B2C المعين حاليًا لن تكون متوفرة للمستخدمين. 
> - قم بتحديث تطبيق B2C فقط إذا كنت تعمل على إعداد تطبيق B2C الخاص بالقناة للمرة الأولى أو إذا كنت تريد من المستخدمين إعادة التسجيل باستخدام بيانات اعتماد جديدة لهذه القناة مع تطبيق B2C الجديد. يجب توخي الحذر عند ربط القنوات بتطبيقات B2C، واحرص على تسمية التطبيقات بطريقة واضحة. إذا لم تكن قناة مرتبطة بتطبيق B2C في الخطوات أدناه، فإن المستخدمين الذين يسجلون دخولهم إلى هذه القناة لموقعك سيدخلون إلى تطبيق B2C الذي يظهر على أنه **افتراضي** في قائمة **إعدادات المستأجر \> إعدادات B2C** لتطبيقات B2C.

لربط تطبيق B2C بموقعك وقناتك، اتبع هذه الخطوات.

1. انتقل إلى موقعك في منشئ موقع Commerce.
1. في جزء التنقل الأيسر، حدد **إعدادات الموقع** لتوسيعه.
1. ضمن **إعدادات الموقع**، حدد **القنوات**.
1. في النافذة الرئيسية، ضمن **القنوات‏‎**، حدد قناتك.
1. في جزء خصائص القناة إلى اليسار، حدد اسم تطبيق B2C من القائمة المنسدلة **تحديد تطبيق B2C**.
1. حدد **إغلاق**، ثم حدد **حفظ ونشر**.

## <a name="next-steps"></a>الخطوات التالية

لمتابعة عملية إعداد مستأجر B2C في Commerce، تابع [معلومات B2C إضافية](additional-b2c-info.md).

## <a name="additional-resources"></a>الموارد الإضافية

[إعداد مستأجر B2C في Commerce](set-up-b2c-tenant.md)

[إنشاء مستأجر B2C Azure AD موجود أو الارتباط به في Azure portal ](create-link-aad-b2c-tenant.md)

[إنشاء تطبيق B2C](create-b2c-app.md)

[إنشاء سياسات تدفق المستخدم](create-user-flow-policies.md)

[إضافة موفري الهوية الاجتماعية (اختياري)](add-social-identity-providers.md)

[تحديث Commerce headquarters بواسطة معلومات Azure AD B2C](update-hq-aad-b2c-info.md)

[معلومات B2C إضافية](additional-b2c-info.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
