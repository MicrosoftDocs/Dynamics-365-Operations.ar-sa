---
title: أوامر العميل في نقطة البيع (POS)
description: يقدم هذا الموضوع معلومات حول أوامر العميل في نقطة البيع (POS). تُعرف أوامر العملاء أيضًا بالأوامر الخاصة. يشمل الموضوع مناقشة المحددات ذات الصلة وتدفقات الحركة.
author: josaw1
manager: AnnBe
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: RetailFunctionalityProfile
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: 260594
ms.assetid: 6fc835ef-d62e-4f23-9d49-50299be642ca
ms.search.region: global
ms.search.industry: Retail
ms.author: anpurush
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: Release 10.0.14
ms.openlocfilehash: 9e5770de82638e6cef6d4c1dffd1dc85549fb11f
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 10/13/2020
ms.locfileid: "4409878"
---
# <a name="customer-orders-in-point-of-sale-pos"></a><span data-ttu-id="1b806-105">أوامر العميل في نقطة البيع (POS)</span><span class="sxs-lookup"><span data-stu-id="1b806-105">Customer orders in Point of Sale (POS)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="1b806-106">يقدم هذا الموضوع معلومات حول كيفية إنشاء أوامر العميل وإدارتها في نقطة البيع (POS).</span><span class="sxs-lookup"><span data-stu-id="1b806-106">This topic provides information about how to create and manage customer orders in Point of Sale (POS).</span></span> <span data-ttu-id="1b806-107">يمكن استخدام أوامر العميل لالتقاط المبيعات حيث يرغب المتسوقون في استلام المنتجات في تاريخ لاحق أو استلام المنتجات من موقع آخر أو الطلب أن يتم شحن الأصناف إليهم.</span><span class="sxs-lookup"><span data-stu-id="1b806-107">Customer orders can be used to capture sales where shoppers want to pick up products on a later date, pick up products from a different location, or have items shipped to them.</span></span> 

<span data-ttu-id="1b806-108">في عالم تهمين عليه قنوات التجارة، يقدم العديد من بائعي التجزئة خيار أوامر العميل أو الأوامر الخاصة، لاستيفاء المنتجات المختلفة وتلبية المتطلبات.</span><span class="sxs-lookup"><span data-stu-id="1b806-108">In an omni-channel commerce world, many retailers provide the option of customer orders, or special orders, to meet various product and fulfillment requirements.</span></span> <span data-ttu-id="1b806-109">وفيما يلي بعض السيناريوهات النموذجية:</span><span class="sxs-lookup"><span data-stu-id="1b806-109">Here are some typical scenarios:</span></span>

- <span data-ttu-id="1b806-110">يريد أحد العملاء أن يتم تسليم المنتجات إلى عنوان محدد في تاريخ محدد.</span><span class="sxs-lookup"><span data-stu-id="1b806-110">A customer wants products to be delivered to a specific address on a specific date.</span></span>
- <span data-ttu-id="1b806-111">يرغب أحد العملاء في انتقاء المنتجات من متجر أو من موقع يختلف عن المتجر أو الموقع الذي اشتري منه العميل تلك المنتجات.</span><span class="sxs-lookup"><span data-stu-id="1b806-111">A customer wants to pick up products from a store or location that differs from the store or location where the customer purchased those products.</span></span>
- <span data-ttu-id="1b806-112">يرغب عميل موجود داخل موقع المتجر أن يطلب منتجات اليوم واستلامها من موقع المتجر نفسه في تاريخ لاحق.</span><span class="sxs-lookup"><span data-stu-id="1b806-112">A customer inside a store location wants to order products today and pick them up from the same store location on a later date.</span></span>

<span data-ttu-id="1b806-113">بإمكان بائعي التجزئة استخدام أوامر العميل للتقليل من خسائر المبيعات التي يعود سببها إلى نفاد المخزون، إذ يمكن تسليم البضاعة أو استلامها في وقت أو مكان آخر.</span><span class="sxs-lookup"><span data-stu-id="1b806-113">Retailers can use customer orders to minimize lost sales that stock outages might otherwise cause, because the merchandise can be delivered or picked up at a different time or place.</span></span>

## <a name="set-up-customer-orders"></a><span data-ttu-id="1b806-114">إعداد أوامر العملاء</span><span class="sxs-lookup"><span data-stu-id="1b806-114">Set up customer orders</span></span>
<span data-ttu-id="1b806-115">قبل أن تحاول استخدام وظيفة أمر العميل في نقطة البيع، تأكد من إكمال كافة التكوينات المطلوبة في مركز Commerce الرئيسي.‬</span><span class="sxs-lookup"><span data-stu-id="1b806-115">Before you try to use customer order functionality in POS, make sure that you complete all the required configurations in Commerce headquarters.</span></span>

### <a name="configure-modes-of-delivery"></a><span data-ttu-id="1b806-116">تكوين أوضاع التسليم</span><span class="sxs-lookup"><span data-stu-id="1b806-116">Configure modes of delivery</span></span>

<span data-ttu-id="1b806-117">لاستخدام أوامر العميل، يجب تكوين أوضاع التسليم التي يمكن أن تستخدمها قناة المتجر.</span><span class="sxs-lookup"><span data-stu-id="1b806-117">To use customer orders, you must configure modes of delivery that the store channel can use.</span></span> <span data-ttu-id="1b806-118">يجب تحديد وضع تسليم واحد على الأقل يمكن استخدامه عند شحن بنود الأمر إلى عميل من المتجر.</span><span class="sxs-lookup"><span data-stu-id="1b806-118">You must define at least one mode of delivery that can be used when order lines are shipped to a customer from a store.</span></span> <span data-ttu-id="1b806-119">يجب أيضًا تحديد وضع تسليم واحد على الأقل يمكن استخدامه عند استلام بنود الأمر من المتجر.</span><span class="sxs-lookup"><span data-stu-id="1b806-119">You must also define at least one pickup mode of delivery that can be used when order lines are picked up from the store.</span></span> <span data-ttu-id="1b806-120">يتم تحديد أوضاع التسليم في الصفحة **أوضاع التسليم** في مركز Commerce الرئيسي.‬</span><span class="sxs-lookup"><span data-stu-id="1b806-120">Modes of delivery are defined on the **Modes of delivery** page in Commerce headquarters.</span></span> <span data-ttu-id="1b806-121">للحصول على مزيد من المعلومات حول كيفية إعداد أوضاع التسليم لقنوات Commerce، راجع [إعداد أوضاع التسليم](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes).</span><span class="sxs-lookup"><span data-stu-id="1b806-121">For more information about how to set up modes of delivery for Commerce channels, see [Define delivery modes](https://docs.microsoft.com/dynamics365/commerce/configure-call-center-delivery#define-delivery-modes).</span></span>

![صفحة أوضاع التسليم](media/customer-order-modes-of-delivery.png)


### <a name="set-up-fulfillment-groups"></a><span data-ttu-id="1b806-123">إعداد مجموعات التنفيذ</span><span class="sxs-lookup"><span data-stu-id="1b806-123">Set up fulfillment groups</span></span>

<span data-ttu-id="1b806-124">قد لا تتمكن بعض المتاجر أو مواقع المستودعات من تنفيذ أوامر العميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-124">Some stores or warehouse locations might not be able to fulfill customer orders.</span></span> <span data-ttu-id="1b806-125">ومن خلال تكوين مجموعات التنفيذ، بإمكان المؤسسة تحديد المتاجر ومواقع المستودعات التي تظهر كخيارات للمستخدمين الذين يقومون بإنشاء أوامر العملاء في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-125">By configuring fulfillment groups, an organization can specify which stores and warehouse locations are shown as options to users who create customer orders in POS.</span></span> <span data-ttu-id="1b806-126">يتم تكوين مجموعات التنفيذ في صفحة **مجموعات التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="1b806-126">Fulfillment groups are configured on the **Fulfillment groups** page.</span></span> <span data-ttu-id="1b806-127">يمكن للمؤسسات إنشاء العدد الذي تحتاج إليه من مجموعات التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="1b806-127">Organizations can create as many fulfillment groups as they require.</span></span> <span data-ttu-id="1b806-128">بعد تحديد مجموعة تنفيذ، يتم ربطها بمتجر باستخدام الزر الموجود في علامة التبويب **إعداد** في جزء الإجراءات الخاص في صفحة **المتاجر**.</span><span class="sxs-lookup"><span data-stu-id="1b806-128">After a fulfillment group is defined, it's linked to a store by using a button on the **Set up** tab on the Action Pane of the **Stores** page.</span></span>

<span data-ttu-id="1b806-129">في الإصدار 10.0.12 من Commerce وإصدار لاحق، بإمكان المؤسسات تعريف ما إذا كان من الممكن استخدام المستودع أو مجموعة المستودع/المتجر المحددة في مجموعة التنفيذ للشحن أو الاستلام أو للشحن والاستلام على حدٍ سواء.</span><span class="sxs-lookup"><span data-stu-id="1b806-129">In Commerce version 10.0.12 and later, organizations can define whether the warehouse or warehouse/store combinations that are defined in fulfillment groups can be used for shipping, for pickup, or for both shipping and pickup.</span></span> <span data-ttu-id="1b806-130">وبالتالي، يتميز المتجر بالمزيد من المرونة لإدارة خيارات المستودع وخيارات المتجر التي تظهر للمستخدمين الذين يقومون بإنشاء أمر للاستلام في مقابل أمر للشحن.</span><span class="sxs-lookup"><span data-stu-id="1b806-130">Therefore, the store has additional flexibility to drive the warehouse and store options that are shown to users who create an order for pickup versus an order for shipment.</span></span> <span data-ttu-id="1b806-131">للاستفادة من خيارات التكوين هذه، يجب عليك تشغيل الميزة **القدرة على تحديد المواقع باعتبارها ممكّنة من أجل 'الشحن' أو 'الاستلام' داخل مجموعة التنفيذ**.</span><span class="sxs-lookup"><span data-stu-id="1b806-131">To take advantage of these configuration options, you must turn on the **Ability to specify locations as "Shipping" or "Pickup" enabled within Fulfillment group** feature.</span></span> <span data-ttu-id="1b806-132">إذا لم يكن المستودع المرتبط بمجموعة تنفيذ متجرًا، فيمكن تكوينه فقط كموقع شحن.</span><span class="sxs-lookup"><span data-stu-id="1b806-132">If a warehouse that is linked to a fulfillment group isn't a store, it can be configured only as a shipping location.</span></span> <span data-ttu-id="1b806-133">ولا يمكن استخدامه عندما يتم تكوين أوامر لاستلامها في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-133">It can't be used when orders for pickup are configured in POS.</span></span>

![صفحة مجموعات التنفيذ](media/customer-order-fulfillment-group.png)

### <a name="configure-channel-settings"></a><span data-ttu-id="1b806-135">تكوين إعدادات القناة</span><span class="sxs-lookup"><span data-stu-id="1b806-135">Configure channel settings</span></span>

<span data-ttu-id="1b806-136">عند العمل مع أوامر العميل في نقطة البيع، يجب مراعاة بعض إعدادات قناة المتجر.</span><span class="sxs-lookup"><span data-stu-id="1b806-136">When you work with customer orders in POS, you must consider some of the settings of the store channel.</span></span> <span data-ttu-id="1b806-137">يمكن العثور على هذه الإعدادات في صفحة **المتاجر** في مركز Commerce الرئيسي.‬</span><span class="sxs-lookup"><span data-stu-id="1b806-137">These settings are found on the **Stores** page in Commerce headquarters.</span></span>

- <span data-ttu-id="1b806-138">**المستودع** - يشير هذا الحقل إلى المستودع المستخدم لتنفيذ الأوامر التي تم تكوينها للشحن من المتجر.</span><span class="sxs-lookup"><span data-stu-id="1b806-138">**Warehouse** – This field indicates the warehouse that is used to fulfill orders that are configured for shipment from the store.</span></span>
- <span data-ttu-id="1b806-139">**تعيين مجموعة التنفيذ** -حدد هذا الزر (في علامة التبويب **إعداد** في جزء الإجراءات) لربط مجموعات التنفيذ‏‎ المشار اليها لإظهار خيارات مواقع الاستلام أو أصول الشحن عند إنشاء أوامر العميل في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-139">**Fulfillment group assignment** – Select this button (on the **Set up** tab on the Action Pane) to link the fulfillment groups that are referenced to show options for pickup locations or shipment origins when customer orders are created in POS.</span></span>
- <span data-ttu-id="1b806-140">**استخدام الضريبة بناء على الوجهة** - يشير هذا الخيار إلى ما إذا كان عنوان الشحن يُستخدم لتحديد مجموعة الضرائب المطبقة على بنود الأمر التي يتم شحنها إلى عنوان العميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-140">**Use destination-based tax** – This option indicates whether the shipping address is used to determine the tax group that is applied to order lines that are shipped to the customer's address.</span></span>
- <span data-ttu-id="1b806-141">**استخدام الضريبة المستندة إلى العميل** – يشير هذا الخيار إلى ما إذا كانت مجموعة الضرائب المحددة لعنوان التسليم الخاص بالعميل لفرض ضرائب على أوامر العميل المنشأة في نقطة البيع لشحنها إلى منزل العميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-141">**Use customer-based tax** – This option indicates whether the tax group that is defined for the customer's delivery address is used to tax customer orders that are created in POS for shipment to the customer's home.</span></span>

![إعداد قناة المتجر في صفحة المتاجر](media/customer-order-all-stores.png)

### <a name="set-up-customer-order-parameters"></a><span data-ttu-id="1b806-143">إعداد معلمات أمر العميل</span><span class="sxs-lookup"><span data-stu-id="1b806-143">Set up customer order parameters</span></span>

<span data-ttu-id="1b806-144">قبل أن تحاول إنشاء أوامر العميل في نقطة البيع، يجب عليك تكوين المعلمات المناسبة في مركز Commerce الرئيسي.</span><span class="sxs-lookup"><span data-stu-id="1b806-144">Before you try to create customer orders in POS, you must configure the appropriate parameters in Commerce headquarters.</span></span> <span data-ttu-id="1b806-145">يمكن العثور على هذه المعلمات على علامة تبويب **أوامر العميل** في صفحة **معلمات Commerce**.</span><span class="sxs-lookup"><span data-stu-id="1b806-145">These parameters can be found on the **Customer orders** tab of the **Commerce parameters** page.</span></span>

- <span data-ttu-id="1b806-146">**نوع الأمر الافتراضي** – يمكنك تحديد نوع الأمر المعيّن بشكل افتراضي إلى أوامر العميل المُنشأة في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-146">**Default order type** – You can specify the order type that is assigned by default to customer orders that are created in POS.</span></span> <span data-ttu-id="1b806-147">بإمكان أوامر العملاء هذه أن تكون إما أوامر مبيعات أو أوامر عروض أسعار.</span><span class="sxs-lookup"><span data-stu-id="1b806-147">These customer orders can be either sales orders or quotation orders.</span></span> <span data-ttu-id="1b806-148">وبصرف النظر عن نوع الأمر الافتراضي، لا يزال بإمكان المستخدمين إنشاء أوامر مبيعات وأوامر عملاء من نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-148">Regardless of the default order type, users can still create both sales orders and customer orders from POS.</span></span>
- <span data-ttu-id="1b806-149">**النسبة المئوية الافتراضية للإيداع** – حدد النسبة المئوية للمبلغ الإجمالي للأمر الذي يجب على العميل دفعه كإيداع قبل تأكيد الأمر.</span><span class="sxs-lookup"><span data-stu-id="1b806-149">**Default deposit percentage** – Specify the percentage of the order total amount that the customer must pay as a deposit before an order can be confirmed.</span></span> <span data-ttu-id="1b806-150">ووفقًا لامتيازاتهم قد يتمكن شركاء المتجر من تجاوز المبلغ باستخدام العملية **تجاوز الإيداع** في نقطة البيع، إذا تم تكوين هذه العملية لتخطيط شاشه الحركة.</span><span class="sxs-lookup"><span data-stu-id="1b806-150">Depending on their privileges, store associates might be able to override the amount by using the **Deposit override** operation in POS, if that operation is configured for the transaction screen layout.</span></span>
- <span data-ttu-id="1b806-151">**وضع الاستلام للتسليم** - حدد وضع التسليم الذي يجب تطبيقه على بنود أمر المبيعات التي تم تكوينها للاستلام في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-151">**Pickup mode of delivery** – Specify the mode of delivery that should be applied to sales order lines that are configured for pickup in POS.</span></span>
- <span data-ttu-id="1b806-152">**وضع التسليم عن طريق النقل** - حدد وضع التسليم الذي يجب تطبيقه على بنود أمر المبيعات التي تعتبر بنود أمر نقل عند إنشاء سلة مختلطة، حيث سيتم استلام بعض البنود أو شحنها، فيما سيتم نقل بعض البنود الأخرى بواسطة العميل على الفور.</span><span class="sxs-lookup"><span data-stu-id="1b806-152">**Carryout mode of delivery** – Specify the mode of delivery that should be applied to sales order lines that are considered carryout order lines when a mixed cart is created, where some lines will be picked up or shipped, and other lines will be carried out by the customer immediately.</span></span>
- <span data-ttu-id="1b806-153">**النسبة المئوية لتكلفة الإلغاء** – إذا كان سيتم تطبيق تكلفة عند إلغاء أمر العميل، فحدد مبلغ هذه التكلفة.</span><span class="sxs-lookup"><span data-stu-id="1b806-153">**Cancellation charge percentage** – If a charge should be applied when a customer order is canceled, specify the amount of that charge.</span></span>
- <span data-ttu-id="1b806-154">**كود تكلفة الإلغاء** - حدد كود تكلفة الحسابات المدينة الذي يجب استخدامه عند تطبيق تكلفة إلغاء على أوامر العميل الملغاة من خلال نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-154">**Cancellation charge code** – Specify the Accounts receivable charge code that should be used when a cancellation charge is applied to canceled customer orders through POS.</span></span> <span data-ttu-id="1b806-155">يحدد كود التكلفة منطق الترحيل المالي لتكلفة الإلغاء.</span><span class="sxs-lookup"><span data-stu-id="1b806-155">The charge code defines the financial posting logic for the cancellation charge.</span></span>
- <span data-ttu-id="1b806-156">**كود تكلفة الشحن** - إذا تم تعيين الخيار **استخدام التكاليف التلقائية المتقدمة‬‏‫** إلى **نعم**، فلن يكون لإعداد المعلمة هذا أي تأثير.</span><span class="sxs-lookup"><span data-stu-id="1b806-156">**Shipping charge code** – If the **Use advanced auto charges** option is set to **Yes**, this parameter setting has no effect.</span></span> <span data-ttu-id="1b806-157">إذا تم تعيين هذا الخيار إلى **لا**، ستتم مطالبة المستخدمين بإدخال تكلفة الشحن يدويًا عند إنشاء أوامر العميل في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-157">If that option is set to **No**, users will be prompted to manually enter a shipping charge when they create customer orders in POS.</span></span> <span data-ttu-id="1b806-158">استخدم هذه المعلمة لتعيين كود تكلفة الحسابات المدينة الذي سيتم تطبيقه على الأوامر عندما يقوم المستخدمون بإدخال تكلفة الشحن.</span><span class="sxs-lookup"><span data-stu-id="1b806-158">Use this parameter to map an Accounts receivable charge code that will be applied to orders when users enter a shipping charge.</span></span> <span data-ttu-id="1b806-159">يحدد كود التكلفة منطق الترحيل المالي لتكلفة الشحن.</span><span class="sxs-lookup"><span data-stu-id="1b806-159">The charge code defines the financial posting logic for the shipping charge.</span></span>
- <span data-ttu-id="1b806-160">**استخدام التكاليف التلقائية المتقدمة**- قم بتعيين هذا الخيار إلى **نعم** لاستخدام التكاليف التلقائية المحتسبة بواسطة النظام عند إنشاء أوامر العميل في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-160">**Use advanced auto charges** – Set this option to **Yes** to use system-calculated auto charges when customer orders are created in POS.</span></span> <span data-ttu-id="1b806-161">ويمكن استخدام هذه التكاليف التلقائية لحساب رسوم الشحن أو التكاليف الأخرى الخاصة بالأمر أو الأصناف.</span><span class="sxs-lookup"><span data-stu-id="1b806-161">These auto charges can be used to calculate shipping fees or other order or item-specific charges.</span></span> <span data-ttu-id="1b806-162">للحصول على معلومات حول كيفية إعداد واستخدام ميزة التكاليف التلقائية المتقدمة، راجع [التكاليف التلقائية المتقدمة ‬في القناة متعددة الاتجاهات](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges).</span><span class="sxs-lookup"><span data-stu-id="1b806-162">For more information about how to set up and use advanced auto charges, see [Omni-channel advanced auto charges](https://docs.microsoft.com/dynamics365/commerce/omni-auto-charges).</span></span>

![علامة تبويب أوامر العميل في صفحة معلمات Commerce](media/customer-order-parameters.png)

### <a name="update-transaction-screen-layouts-in-pos"></a><span data-ttu-id="1b806-164">تحديث تخطيطات شاشة الحركة في نقطة البيع</span><span class="sxs-lookup"><span data-stu-id="1b806-164">Update transaction screen layouts in POS</span></span>

<span data-ttu-id="1b806-165">تأكد من تكوين [تخطيط شاشة](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts) نقطة البيع لدعم إنشاء وإدارة أوامر العميل، ومن تكوين كافة عمليات نقطة البيع المطلوبة.</span><span class="sxs-lookup"><span data-stu-id="1b806-165">Make sure that the POS [screen layout](https://docs.microsoft.com/dynamics365/commerce/pos-screen-layouts) is configured to support the creation and management of customer orders, and that all required POS operations are configured.</span></span> <span data-ttu-id="1b806-166">فيما يلي بعض عمليات نقطة البيع الموصي بها لدعم إنشاء وإدارة أوامر العميل بشكل صحيح:</span><span class="sxs-lookup"><span data-stu-id="1b806-166">Here are some of the POS operations that are recommended to correctly support customer order creation and management:</span></span>
- <span data-ttu-id="1b806-167">**شحن كافة المنتجات** - يتم استخدام هذه العملية لتحديد أنه سيتم شحن كافة البنود في سلة الحركة إلى الوجهة.</span><span class="sxs-lookup"><span data-stu-id="1b806-167">**Ship all products** – This operation is used to specify that all lines in the transaction cart will be shipped to a destination.</span></span>
- <span data-ttu-id="1b806-168">**شحن منتجات محددة** - يتم استخدام هذه العملية لتحديد أنه سيتم شحن بنود محددة في سلة الحركة إلى الوجهة.</span><span class="sxs-lookup"><span data-stu-id="1b806-168">**Ship selected products** – This operation is used to specify that selected lines in the transaction cart will be shipped to a destination.</span></span>
- <span data-ttu-id="1b806-169">**استلام كافة المنتجات** - يتم استخدام هذه العملية لتحديد أنه سيتم استلام كافة البنود في سلة الحركة من موقع متجر محدد.</span><span class="sxs-lookup"><span data-stu-id="1b806-169">**Pick up all products** – This operation is used to specify that all lines in the transaction cart will be picked up from a selected store location.</span></span>
- <span data-ttu-id="1b806-170">**استلام منتجات محددة** - يتم استخدام هذه العملية لتحديد أنه سيتم استلام بنود محددة في سلة الحركة من موقع متجر محدد.</span><span class="sxs-lookup"><span data-stu-id="1b806-170">**Pick up selected products** – This operation is used to specify that selected lines in the transaction cart will be picked up from a selected store location.</span></span>
- <span data-ttu-id="1b806-171">**نقل كافة المنتجات** - تُستخدم هذه العملية لتحديد أنه سيتم نقل كافة البنود في سلة الحركة. إذا تم استخدام هذه العملية في نقطة البيع، فسيتم تحويل أمر العميل إلى حركة الدفع نقدًا والنقل.</span><span class="sxs-lookup"><span data-stu-id="1b806-171">**Carry out all products** – This operation is used to specify that all lines in the transaction cart will be carried out. If this operation is used in POS, the customer order will be converted to a cash-and-carry transaction.</span></span>
- <span data-ttu-id="1b806-172">**نقل منتجات محددة** – تُستخدم العملية لتحديد أنه سيتم نقل بنود محددة في سلة الحركة بواسطة العميل عند الشراء.</span><span class="sxs-lookup"><span data-stu-id="1b806-172">**Carryout out selected products** – This operation is used to specify that selected lines in the transaction cart are being carried out by the customer at the time of purchase.</span></span> <span data-ttu-id="1b806-173">تعتبر هذه العملية فقط في حالة [الأوامر المختلطة](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders).</span><span class="sxs-lookup"><span data-stu-id="1b806-173">This operation is useful only in a [hybrid order](https://docs.microsoft.com/dynamics365/commerce/hybrid-customer-orders) scenario.</span></span>
- <span data-ttu-id="1b806-174">**استدعاء الأمر‬** – تُستخدم هذه العملية للبحث عن أوامر العميل واستردادها بحيث يتمكن مستخدمو نقطة البيع من تحرير العمليات المتعلقة بالتنفيذ أو إلغائها أو تنفيذها حسب الحاجة</span><span class="sxs-lookup"><span data-stu-id="1b806-174">**Recall order** – This operation is used to search and retrieve customer orders so that POS users can edit, cancel, or perform fulfillment-related operations on them as required.</span></span>
- <span data-ttu-id="1b806-175">**تغيير وضع التسليم** - يمكن استخدام هذه العملية لتغيير وضع التسليم الخاص بالبنود التي تم تكوينها للشحن من دون أن يحتاج المستخدمون إلى التنقل عبر سير المهام "شحن كافة المنتجات" أو "شحن منتجات محددة" من جديد.</span><span class="sxs-lookup"><span data-stu-id="1b806-175">**Change mode of delivery** – This operation can be used to quickly change the mode of delivery for lines that are already configured for shipment, without requiring that users go through the "ship all products" or "ship selected products" flow again.</span></span>
- <span data-ttu-id="1b806-176">**تجاوز الإيداع** – يمكن استخدام هذه العملية لتغيير مبلغ الإيداع الذي سيدفعه العميل لأمر العميل المحدد.</span><span class="sxs-lookup"><span data-stu-id="1b806-176">**Deposit override** – This operation can be used to change the deposit amount that the customer will pay for the selected customer order.</span></span>

![العمليات على شاشة حركة نقطة البيع](media/customer-order-screen-layout.png)

## <a name="working-with-customer-orders-in-pos"></a><span data-ttu-id="1b806-178">العمل مع أوامر العميل في نقطة البيع</span><span class="sxs-lookup"><span data-stu-id="1b806-178">Working with customer orders in POS</span></span>

### <a name="create-a-customer-order-for-products-that-will-be-shipped-to-the-customer"></a><span data-ttu-id="1b806-179">إنشاء أمر عميل للمنتجات التي سيتم شحنها إلى العميل</span><span class="sxs-lookup"><span data-stu-id="1b806-179">Create a customer order for products that will be shipped to the customer</span></span>

1. <span data-ttu-id="1b806-180">في شاشة حركة نقطة البيع، أضف عميلاً إلى الحركة.</span><span class="sxs-lookup"><span data-stu-id="1b806-180">On the POS transaction screen, add a customer to the transaction.</span></span>
2. <span data-ttu-id="1b806-181">أضف منتجات إلى عربة التسوق.</span><span class="sxs-lookup"><span data-stu-id="1b806-181">Add products to the cart.</span></span>
3. <span data-ttu-id="1b806-182">حدد **شحن المحدد** أو **شحن الكل** لشحن المنتجات إلى عنوان على حساب العميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-182">Select **Ship selected** or **Ship all** to ship the products to an address on the customer account.</span></span>
4. <span data-ttu-id="1b806-183">حدد الخيار لإنشاء أمر عميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-183">Select the option to create a customer order.</span></span>
5. <span data-ttu-id="1b806-184">قم بتأكيد موقع "الشحن من" أو تغييره، أو قم بتأكيد عنوان الشحن أو تغييره، وحدد طريقة شحن.</span><span class="sxs-lookup"><span data-stu-id="1b806-184">Confirm or change the "ship from" location, confirm or change the shipping address, and select a shipping method.</span></span>
6. <span data-ttu-id="1b806-185">أدخل تاريخ شحن الأمر المطلوب للعميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-185">Enter the customer's desired order shipment date.</span></span>
7. <span data-ttu-id="1b806-186">استخدم وظائف الدفع لدفع أي مبالغ محسوبة مستحقة، أو استخدم عملية **تجاوز الإيداع** لتغيير المبالغ المستحقة، ثم قم بتطبيق الدفع.</span><span class="sxs-lookup"><span data-stu-id="1b806-186">Use the payment functions to pay for any calculated amounts that are due, or use the **Deposit override** operation to change the amounts that are due, and then apply payment.</span></span>
8. <span data-ttu-id="1b806-187">إذا لم يتم تسديد المبلغ الإجمالي للأمر بالكامل، فأدخل بطاقة ائتمان سيتم التقاطها للرصيد المستحق على الأمر عند فوترته.</span><span class="sxs-lookup"><span data-stu-id="1b806-187">If the full order total wasn't paid, enter a credit card that will be captured for the balance that is due on the order when it's invoiced.</span></span>

### <a name="create-a-customer-order-for-products-that-the-customer-will-pick-up"></a><span data-ttu-id="1b806-188">إنشاء أمر عميل للمنتجات التي سيستلمها العميل</span><span class="sxs-lookup"><span data-stu-id="1b806-188">Create a customer order for products that the customer will pick up</span></span>

1. <span data-ttu-id="1b806-189">في شاشة حركة نقطة البيع، أضف عميلاً إلى الحركة.</span><span class="sxs-lookup"><span data-stu-id="1b806-189">On the POS transaction screen, add a customer to the transaction.</span></span>
2. <span data-ttu-id="1b806-190">أضف منتجات إلى عربة التسوق.</span><span class="sxs-lookup"><span data-stu-id="1b806-190">Add products to the cart.</span></span>
3. <span data-ttu-id="1b806-191">حدد **استلام المحدد** لتغيير **استلام الكل** لبدء تكوين استلام الأمر.</span><span class="sxs-lookup"><span data-stu-id="1b806-191">Select **Pick up selected** or **Pick up all** to initiate the order pickup configuration.</span></span>
4. <span data-ttu-id="1b806-192">حدد موقع المتجر حيث سيقوم العميل باستلام المنتجات المحددة.</span><span class="sxs-lookup"><span data-stu-id="1b806-192">Select the store location where the customer will pick up the selected products.</span></span>
5. <span data-ttu-id="1b806-193">حدد تاريخ استلام.</span><span class="sxs-lookup"><span data-stu-id="1b806-193">Select a pickup date.</span></span>
6. <span data-ttu-id="1b806-194">استخدم وظائف الدفع لدفع أي مبالغ محسوبة مستحقة، أو استخدم عملية **تجاوز الإيداع** لتغيير المبالغ المستحقة، ثم قم بتطبيق الدفع.</span><span class="sxs-lookup"><span data-stu-id="1b806-194">Use the payment functions to pay for any calculated amounts that are due, or use the **Deposit override** operation to change the amounts that are due, and then apply payment.</span></span>
7. <span data-ttu-id="1b806-195">إذا لم يتم تسديد المبلغ الإجمالي للأمر بالكامل، فحدد ما إذا كان العميل سيقوم بتوفير الدفع لاحقًا (عند الاستلام)، أو ما إذا كان سيتم منح معرف عشوائي لبطاقة الائتمان الآن، ثم يتم استخدامها وتسجيلها في وقت الاسلام.</span><span class="sxs-lookup"><span data-stu-id="1b806-195">If the full order total wasn't paid, select whether the customer will provide payment later (at pickup), or whether a credit card will be tokenized now, and then used and captured at the time of pickup.</span></span>

### <a name="edit-an-existing-customer-order"></a><span data-ttu-id="1b806-196">تحرير أمر عميل موجود</span><span class="sxs-lookup"><span data-stu-id="1b806-196">Edit an existing customer order</span></span>

<span data-ttu-id="1b806-197">يمكن استدعاء أوامر البيع بالتجزئة التي تم إنشاؤها في القناة الموجودة على الإنترنت أو المتجر وتحريرها من خلال نقطة البيع كما هو مطلوب.</span><span class="sxs-lookup"><span data-stu-id="1b806-197">Retail orders that are created in either the online or store channel can be recalled and edited through POS as required.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1b806-198">لا يمكن تحرير الأوامر التي يتم إنشاؤها في قناة مركز الاتصال من خلال نقطع البيع إذا تم تشغيل الإعداد [تمكين إكمال الأوامر‬](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion) لقناة مركز الاتصال.</span><span class="sxs-lookup"><span data-stu-id="1b806-198">Orders that are created in a call center channel can't be edited through POS if the [Enable order completion](https://docs.microsoft.com/dynamics365/commerce/set-up-order-processing-options#enable-order-completion) setting is turned on for the call center channel.</span></span> <span data-ttu-id="1b806-199">لضمان معالجة الدفع بشكل صحيح، يجب تحرير الأوامر التي تم إنشاؤها في قناة مركز الاتصال والتي تستخدم وظيفة "تمكين إكمال الأوامر‬" من خلال تطبيق مركز الاتصال في مركز Commerce الرئيسي.‬</span><span class="sxs-lookup"><span data-stu-id="1b806-199">To ensure correct payment processing, orders that originated in a call center channel and that use Enable order completion functionality must be edited through the call center application in Commerce headquarters.</span></span>

<span data-ttu-id="1b806-200">في الإصدار 10.0.13 من Commerce والإصدارات السابقة، بإمكان للمستخدمين تحرير أوامر العميل المدعومة من خلال نقطة البيع فقط إذا كانت الأوامر مفتوحة بالكامل.</span><span class="sxs-lookup"><span data-stu-id="1b806-200">In Commerce version 10.0.13 and earlier, users can edit supported customer orders through POS only if the orders are fully open.</span></span> <span data-ttu-id="1b806-201">إذا تمت معالجه أي بنود لأحد الأوامر لتنفيذها (استلام وتعبئة وغير ذلك)، يصبح الأمر مؤمنًا للتحرير في نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-201">If any lines of an order have already been processed to fulfillment (pick, pack, and so on), the order becomes locked for editing in POS.</span></span>

> [!NOTE]
> <span data-ttu-id="1b806-202">في الإصدار 10.0.14 من Commerce، تسمح ميزة تم إصدارها في [المعاينة العامة](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/public-preview-terms) لمستخدمي نقطة البيع بتحرير تحرير أوامر العميل من خلال نقطة البيع، حتى لو تم تنفيذ جزء من الأمر.</span><span class="sxs-lookup"><span data-stu-id="1b806-202">In Commerce version 10.0.14, a feature that has been released in [public preview](https://docs.microsoft.com/dynamics365/fin-ops-core/fin-ops/get-started/public-preview-terms) lets POS users edit customer orders through POS, even if some of the order has already been fulfilled.</span></span> <span data-ttu-id="1b806-203">ومع ذلك، لا يمكن تحرير الأوامر التي تمت فوترتها بالكامل من خلال نقطة البيع.</span><span class="sxs-lookup"><span data-stu-id="1b806-203">However, orders that are fully invoiced still can't be edited through POS.</span></span> <span data-ttu-id="1b806-204">لاختبار ميزة المعاينة هذه وتقديم ملاحظات إضافية قم بتشغيل ميزة **(معاينة) تحرير الأوامر التي تم تنفيذها بالكامل في نقطة البيع** في مساحة عمل **إدارة الميزات**.</span><span class="sxs-lookup"><span data-stu-id="1b806-204">To test this preview feature and provide additional feedback, turn on the **(Preview) Edit partially fulfilled orders in Point of Sale** feature in the **Feature management** workspace.</span></span> <span data-ttu-id="1b806-205">لا يمكن تحرير أوامر العملاء التي تم إنشاؤها في قناة مركز الاتصال والتي تستخدم وظيفة "تمكين إكمال الأوامر‬" حتى بعد تمكين هذه الميزة.</span><span class="sxs-lookup"><span data-stu-id="1b806-205">Customer orders that originated in a call center channel and that use Enable order completion functionality can't be edited even after this feature is enabled.</span></span>

1. <span data-ttu-id="1b806-206">حدد **استدعاء الأمر‬**.</span><span class="sxs-lookup"><span data-stu-id="1b806-206">Select **Recall order**.</span></span>
2. <span data-ttu-id="1b806-207">استخدم **بحث** لإدخال عوامل التصفية للبحث عن الأمر، ثم حدد **تطبيق**.</span><span class="sxs-lookup"><span data-stu-id="1b806-207">Use **Search** to enter filters to find the order, and then select **Apply**.</span></span>
3. <span data-ttu-id="1b806-208">حدد الأمر في قائمة النتائج، ثم حدد **تحرير**.</span><span class="sxs-lookup"><span data-stu-id="1b806-208">Select the order in the list of results, and then select **Edit**.</span></span> <span data-ttu-id="1b806-209">إذا لم يكن الزر **تحرير** متوفرًا، يكون الأمر في حالة حيث لا يمكن تحريره.</span><span class="sxs-lookup"><span data-stu-id="1b806-209">If the **Edit** button is unavailable, the order is in a state where it can't be edited.</span></span>
4. <span data-ttu-id="1b806-210">من سلة الحركة، أدخل أي تغييرات ضرورية على أمر العميل.</span><span class="sxs-lookup"><span data-stu-id="1b806-210">From the transaction cart, make any necessary changes to the customer order.</span></span> <span data-ttu-id="1b806-211">قد يتم منع بعض التغييرات أثناء التحرير.</span><span class="sxs-lookup"><span data-stu-id="1b806-211">Some changes might be prohibited during editing.</span></span>
5. <span data-ttu-id="1b806-212">أكمل عملية التحرير من خلال تحديد عملية دفع.</span><span class="sxs-lookup"><span data-stu-id="1b806-212">Complete the editing process by selecting a payment operation.</span></span>
6. <span data-ttu-id="1b806-213">للخروج من عملية التحرير دون حفظ أي تغييرات، يمكنك استخدام العملية **إلغاء الحركة‬**.</span><span class="sxs-lookup"><span data-stu-id="1b806-213">To exit the editing process without saving any changes, you can use the **Void transaction** operation.</span></span>



### <a name="cancel-a-customer-order"></a><span data-ttu-id="1b806-214">إلغاء أمر العميل</span><span class="sxs-lookup"><span data-stu-id="1b806-214">Cancel a customer order</span></span>

1. <span data-ttu-id="1b806-215">حدد **استدعاء الأمر‬**.</span><span class="sxs-lookup"><span data-stu-id="1b806-215">Select **Recall order**.</span></span>
2. <span data-ttu-id="1b806-216">استخدم **بحث** لإدخال عوامل التصفية للبحث عن الأمر، ثم حدد **تطبيق**.</span><span class="sxs-lookup"><span data-stu-id="1b806-216">Use **Search** to enter filters to find the order, and then select **Apply**.</span></span>
3. <span data-ttu-id="1b806-217">حدد الأمر في قائمة النتائج، ثم حدد **إلغاء**.</span><span class="sxs-lookup"><span data-stu-id="1b806-217">Select the order in the list of results, and then select **Cancel**.</span></span> <span data-ttu-id="1b806-218">إذا لم يكن الزر **إلغاء** متوفرًا، يكون الأمر في حالة حيث لا يمكن إلغاؤه فيما بعد.</span><span class="sxs-lookup"><span data-stu-id="1b806-218">If the **Cancel** button is unavailable, the order is in a state where it can no longer be canceled.</span></span>
4. <span data-ttu-id="1b806-219">إذا تم تكوين تكاليف الإلغاء، فقم بتأكيدها.</span><span class="sxs-lookup"><span data-stu-id="1b806-219">If cancellation charges are configured, confirm them.</span></span> <span data-ttu-id="1b806-220">يمكنك تعديل تكاليف الإلغاء قبل تأكيدها، كما هو مطلوب.</span><span class="sxs-lookup"><span data-stu-id="1b806-220">You can adjust the cancellation charges before you confirm them, as required.</span></span> 
5. <span data-ttu-id="1b806-221">من سلة الحركة، قم بإكمال عملية الإلغاء من خلال تحديد عملية دفع.</span><span class="sxs-lookup"><span data-stu-id="1b806-221">From the transaction cart, complete the cancellation process by selecting a payment operation.</span></span> <span data-ttu-id="1b806-222">إذا تجاوزت الإيداعات التي تم دفعها تكاليف الإلغاء، فقد تستحق إعادة القيمة النقدية للدفعات.</span><span class="sxs-lookup"><span data-stu-id="1b806-222">If deposits that were paid exceed the cancellation charge, refund payments might be due.</span></span>
6. <span data-ttu-id="1b806-223">للخروج من عملية الإلغاء دون حفظ أي تغييرات، يمكنك استخدام العملية **إلغاء الحركة‬**.</span><span class="sxs-lookup"><span data-stu-id="1b806-223">To exit the cancellation process without saving any changes, you can use the **Void transaction** operation.</span></span>

## <a name="finalizing-the-customer-order-shipment-or-pickup-from-pos"></a><span data-ttu-id="1b806-224">إنجاز شحن أمر العميل أو استلامه من نقطة البيع</span><span class="sxs-lookup"><span data-stu-id="1b806-224">Finalizing the customer order shipment or pickup from POS</span></span>

<span data-ttu-id="1b806-225">بعد إنشاء الأمر، سيتم استلام أو شحن الأصناف بواسطة العميل من موقع المتجر، وفقًا لتكوين الأمر.</span><span class="sxs-lookup"><span data-stu-id="1b806-225">After an order is created, the items will be picked up by the customer from a store location or shipped, depending on the configuration of the order.</span></span> <span data-ttu-id="1b806-226">لمزيد من المعلومات حول هذه العملية، راجع وثائق [تنفيذ أمر المتجر](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview).</span><span class="sxs-lookup"><span data-stu-id="1b806-226">For more information about this process, see the [store order fulfillment](https://docs.microsoft.com/dynamics365/commerce/order-fulfillment-overview) documentation.</span></span>

## <a name="asynchronous-transaction-flow-for-customer-orders"></a><span data-ttu-id="1b806-227">تدفق الحركة غير المتزامن لأوامر العملاء</span><span class="sxs-lookup"><span data-stu-id="1b806-227">Asynchronous transaction flow for customer orders</span></span>

<span data-ttu-id="1b806-228">يمكن إنشاء أوامر العملاء في نقطة البيع سواءً في وضع متزامن أو غير متزامن.</span><span class="sxs-lookup"><span data-stu-id="1b806-228">Customer orders can be created in POS in either synchronous mode or asynchronous mode.</span></span> <span data-ttu-id="1b806-229">إذا لاحظت وجود مشكلات في الأداء أو تأخر المستخدم عند إنشاء أوامر العميل في نقطة البيع، فيمكنك تشغيل إنشاء أمر غير متزامن.</span><span class="sxs-lookup"><span data-stu-id="1b806-229">If you notice performance issues or user delays when you create customer orders in POS, consider turning on asynchronous order creation.</span></span>

### <a name="enable-customer-orders-to-be-created-in-asynchronous-mode"></a><span data-ttu-id="1b806-230">تمكين إنشاء أوامر العملاء في وضع غير متزامن</span><span class="sxs-lookup"><span data-stu-id="1b806-230">Enable customer orders to be created in asynchronous mode</span></span>

1. <span data-ttu-id="1b806-231">في مركز Commerce الرئيسي، في الصفحة **ملفات تعريف الوظائف**، حدد ملف تعريف الوظائف الذي يتوافق مع المتجر الذي ترغب في تكوينه.</span><span class="sxs-lookup"><span data-stu-id="1b806-231">In Commerce headquarters, on the **Functionality profiles** page, select the functionality profile that corresponds to the store that you want to configure.</span></span>
2. <span data-ttu-id="1b806-232">في علامة التبويب السريعة **عام**، قم بتعيين خيار **إنشاء أمر عميل في الوضع "غير متزامن"** على **نعم**.</span><span class="sxs-lookup"><span data-stu-id="1b806-232">On the **General** FastTab, set the **Create customer order in async mode** option to **Yes**.</span></span>

<span data-ttu-id="1b806-233">عند تعيين الخيار **إنشاء أمر عميل في الوضع "غير متزامن"‬** إلى **نعم**، يتم إنشاء أوامر العملاء دائمًا في وضع "غير متزامن"، حتى في حال توفرت Retail Transaction Service (RTS).</span><span class="sxs-lookup"><span data-stu-id="1b806-233">When the **Create customer order in async mode** option is set to **Yes**, customer orders are always created in asynchronous mode, even if Retail Transaction Service (RTS) is available.</span></span> <span data-ttu-id="1b806-234">إذا قمت بتعيين هذا الخيار إلى **لا**، يتم إنشاء أوامر العميل دائماً في وضع متزامن باستخدام خدمة حركة البيع بالتجزئة RTS.</span><span class="sxs-lookup"><span data-stu-id="1b806-234">If you set this option to **No**, customer orders are always created in synchronous mode by using RTS.</span></span> <span data-ttu-id="1b806-235">عند إنشاء أوامر العميل في وضع غير متزامن، يتم سحبها وإنشاؤها كحركات بيع بالتجزئة في مركز Commerce الرئيسي من مهام Commerce Pull (P).</span><span class="sxs-lookup"><span data-stu-id="1b806-235">When customer orders are created in asynchronous mode, they're pulled and created as retail transactions in Commerce headquarters from the Commerce Pull (P) jobs.</span></span> <span data-ttu-id="1b806-236">يتم إنشاء أوامر المبيعات المقابلة لحركات البيع بالتجزئة عندما يتم تشغيل **مزامنة الأوامر** سواءً يدويًا أو عبر معالجة المجموعة.</span><span class="sxs-lookup"><span data-stu-id="1b806-236">The corresponding sales orders for the retail transactions are created when **Synchronize orders** is run either manually or through a batch process.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="1b806-237">الموارد الإضافية</span><span class="sxs-lookup"><span data-stu-id="1b806-237">Additional resources</span></span>

[<span data-ttu-id="1b806-238">أوامر العملاء المختلطة</span><span class="sxs-lookup"><span data-stu-id="1b806-238">Hybrid customer orders</span></span>](hybrid-customer-orders.md)
