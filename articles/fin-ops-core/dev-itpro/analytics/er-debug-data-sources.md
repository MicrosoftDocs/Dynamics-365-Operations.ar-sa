---
title: تصحيح مصادر البيانات لتنسيق ER الذي تم تنفيذه لتحليل تدفق البيانات وتحويلها
description: تشرح هذه المقالة كيفية تصحيح مصادر البيانات لتنسيق ER الذي تم تنفيذه لفهم تدفق البيانات الذي تم تكوينه وتحويله بشكل أفضل.
author: kfend
ms.date: 04/22/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.search.region: Global
ms.author: filatovm
ms.search.validFrom: 2020-04-01
ms.dyn365.ops.version: Release 10.0.11
ms.custom: ''
ms.assetid: ''
ms.search.form: ERSolutionTable, EROperationDesigner
ms.openlocfilehash: 61bc5e3f36bd2ae6e38ed0f511d70a7ae62e045c
ms.sourcegitcommit: 0c927fcb3afd34d870391f05b5393a4673d916e5
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 12/08/2022
ms.locfileid: "9832021"
---
# <a name="debug-data-sources-of-an-executed-er-format-to-analyze-data-flow-and-transformation"></a>تصحيح مصادر البيانات لتنسيق ER الذي تم تنفيذه لتحليل تدفق البيانات وتحويلها

[!include[banner](../includes/banner.md)]

[!include[banner](../includes/preview-banner.md)]

عندما تقوم [بتكوين](tasks/er-format-configuration-2016-11.md) حل التقارير الإلكترونية (ER) لإنشاء المستندات الصادرة، يمكنك تحديد الطرق المستخدمة للحصول على البيانات من التطبيق وإدخالها في الإخراج الذي تم إنشاؤه. لجعل دعم دوره الحياة لحل ER أكثر كفاءة، يجب أن يتكون الحل الخاص بك من نموذج بيانات التقارير الإلكترونية ومكونات التعيين الخاصة به، وكذلك تنسيق التقارير الإلكترونية بحيث يكون تعيين النموذج خاص بالتطبيق، بينما تبقي المكونات الأخرى غير محددة التطبيق. ولذلك، قد تؤثر العديد من مكونات ER على عمليه إدخال البيانات في الإخراج الذي تم إنشاؤه.

في بعض الأحيان، تبدو بيانات الإخراج التي تم إنشاؤها مختلفه عن نفس البيانات في قاعده بيانات التطبيق. في هذه الحالات، ستحتاج إلى تحديد أي من مكونات ER مسؤول عن تحويل البيانات. تقلل ميزة مصحح أخطاء مصدر البيانات الخاصة لـ ER الوقت والتكلفة المضمنة في هذا الاستقصاء بشكل ملحوظ. يمكنك مقاطعه تنفيذ تنسيق ER وفتح واجهه مصحح أخطاء مصدر البيانات. هناك، يمكنك استعراض مصادر البيانات المتوفرة وتحديد مصدر بيانات فردي لتنفيذه. يقوم التنفيذ اليدوي هذا بمحاكاة تنفيذ مصدر البيانات أثناء التشغيل الحقيقي لتنسيق ER. يتم تقديم النتيجة في الصفحة التي يمكنك من خلالها تحليل البيانات التي تم استلامها.

لتشغيل ميزه تصحيح أخطاء مصدر البيانات، قم بتعيين الخيار **تمكين تصحيح البيانات عند تشغيل التنسيق** إلى **نعم** في معلمات مستخدم ER. ثم يمكنك بدء تشغيل تصحيح مصدر البيانات أثناء تشغيل تنسيق ER لإنشاء المستندات الصادرة. يمكنك أيضا استخدام خيار **بدء التصحيح** لبدء تصحيح مصدر البيانات لتنسيق ER الذي تم تكوينه في [مصمم عمليات ER](./tasks/er-format-configuration-2016-11.md#design-the-format-of-an-electronic-document).

توفر هذه المقالة إرشادات لبدء تصحيح أخطاء مصدر البيانات لتنسيقات التقارير الإلكترونية التي تم تنفيذها. ويوضح كيف تساعدك المعلومات علي فهم تدفق البيانات وتحويلات البيانات. تستخدم الأمثلة الموجودة في هذه المقالة العملية التجارية لمعالجة مدفوعات المورد.

## <a name="limitations"></a>قيود

يمكن استخدام مصحح أخطاء مصدر البيانات للوصول إلى بيانات مصادر البيانات التي يتم استخدامها في تنسيقات ER التي يتم تشغيلها لإنشاء المستندات الصادرة. ولا يمكن استخدامه لتصحيح مصادر البيانات الخاصة بتنسيقات ER التي تم تصميمها لتحليل المستندات الواردة.

لا يمكن الوصول حاليا إلى الإعدادات التالية الخاصة بتنسيقات ER لتصحيح مصدر البيانات:

- عمليات تحويل التنسيق
- قواعد التحقق من صحة التنسيق والتعيين
- تعبيرات التمكين
- تفاصيل تجميع البيانات في الذاكرة

## <a name="prerequisites"></a>المتطلبات الأساسية

- لإكمال الأمثلة الموجودة في هذه المقالة، يجب أن يكون لديك حق الوصول إلى [المناصب التالية](../sysadmin/tasks/assign-users-security-roles.md):

    - مطور إعداد التقارير الإلكتروني
    - مستشار وظيفي لإعداد التقارير الإلكتروني
    - مسؤول النظام

- يجب تعيين الشركة علي **DEMF**.

- اتبع الخطوات الموجودة في [ملحق 1](#appendix1) في هذه المقالة لتنزيل مكونات حل التقارير الإلكترونية في Microsoft المطلوب لمعالجة مدفوعات المورد.
- اتبع الخطوات الموجودة في [الملحق 2](#appendix2) لهذا الموضوع لإعداد الحسابات الدائنة لمعالجة دفع المورد من خلال استخدام حل ER الذي ستقوم بتنزيله.

## <a name="process-a-vendor-payment-to-get-a-payment-file"></a>معالجه دفع المورد للحصول علي ملف دفع

1. اتبع الخطوات الموجودة في [ملحق 3](#appendix3) لهذه المقالة لمعالجة مدفوعات المورد.

    ![معالجه دفع المورد قيد التقدم.](./media/er-data-debugger-process-payment.png)

2. قم بتنزيل ملف zip المضغوط إلى الكمبيوتر المحلي وقم بحفظه.
3. استخرج ملف دفع **ISO20022 Credit transfer.xml** من ملف zip.
4. قم بفتح ملف الدفع الذي تم استخراجه باستخدام عارض ملفات XML.

    في ملف الدفع، لا يحتوي كود رقم الحساب البنكي الدولي (IBAN) الخاص بالحساب البنكي للمورد علي مسافات. ولذلك فهو يختلف عن القيمة التي تم [إدخالها](#enteredIBANcode) في صفحة **الحسابات البنكية**.

    ![رمز IBAN بدون مسافات.](./media/er-data-debugger-payment-file.png)

    يمكنك استخدام مصحح أخطاء مصدر بيانات ER لمعرفه أي من مكونات حل ER يتم استخدامه لاقتطاع المسافات في رمز IBAN.

## <a name="turn-on-data-source-debugging"></a>تشغيل تصحيح مصدر البيانات

1. انتقل إلى **إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**.
2. في صفحة **التكوينات**، في جزء الإجراءات، في علامة التبويب **التكوينات**، في مجموعة **الإعدادات المتقدمة**، حدد **معلمات المستخدمين**.
3. قم بتعيين الخيار **تمكين تصحيح البيانات عند تشغيل التنسيق** على القيمة **نعم**.

    > [!NOTE]
    > هذه المعلمة خاصة بالمستخدم والشركة.

    ![مربع حوار معلمات المستخدمين.](./media/er-data-debugger-user-parameters.png)

## <a name="process-a-vendor-payment-for-debugging"></a>معالجة دفع المورد لتصحيح الأخطاء

1. اتبع الخطوات الموجودة في [ملحق 3](#appendix3) لهذه المقالة لمعالجة مدفوعات المورد.
2. في مربع الرسالة، حدد **نعم** لتاكيد أنك تريد مقاطعة معالجه مدفوعات المورد وتبديل تصحيح مصدر البيانات على صفحة **تصحيح مصادر البيانات**.

    ![مربع رسالة التأكيد.](./media/er-data-debugger-start-debugging.png)

## <a name="debug-data-sources-that-are-used-in-payment-processing"></a>تصحيح مصادر البيانات المستخدمة في معالجه الدفع

### <a name="debug-the-model-mapping"></a>تصحيح تعيين النموذج

1. في صفحة **تصحيح مصادر البيانات** ، في جزء الإجراءاتء، حدد **تعيين النموذج** لبدء التصحيح من مكون ER هذا.
2. في جزء مصدر البيانات الموجود علي اليمين، حدد مصدر البينات **\$notSentTransactions** ثم حدد **قراءه كافة السجلات**.

    يمكنك تحديد **قراءة سجل 1**، أو **قراءه 10 سجلات** ، أو **قراءه 100 سجل**، أو **قراءه كافة السجلات** لفرض قراءة العدد المناسب للسجلات من مصدر البيانات المحدد. وبهذه الطريقة، يمكنك محاكاة الوصول إلى مصدر البيانات من تنسيق ER الجاري تشغيله.

3. في جزء البيانات على اليمين، حدد **توسيع الكل**.

    يمكنك رؤية ان مصدر البيانات المحدد من النوع **قائمة السجلات** يحتوي على سجل مفرد.

4. قم بتوسيع مصدر بيانات **\$notSentTransactions** ، ثم حدد الأسلوب **vendBankAccountInTransactionCompany()**.
5. قم بتوسيع أسلوب **vendBankAccountInTransactionCompany()** ، ثم حدد حقل **IBAN** المتداخل.
6. حدد **الحصول على قيمة**.

    يمكنك تحديد **الحصول على قيمة** لفرض قيمة حقل محدد لمصدر البيانات المحدد لتتم قراءته. وبهذه الطريقة، يمكنك محاكاة الوصول إلى هذا الحقل من تنسيق ER الجاري تشغيله.

7. حدد **توسيع الكل‬**.

    ![قيمه حقل IBAN في تعيين النموذج.](./media/er-data-debugger-debugging-model-mapping.png)

    وكما تري، تعيين النموذج غير مسؤول عن المساحات المقتطعة، لأن رمز IBAN الذي يرجع للحساب البنكي للمورد يتضمن مسافات. ولذلك، يجب متابعه تصحيح مصدر البيانات.

### <a name="debug-the-format-mapping"></a>تصحيح تعيين التنسيق

1. في صفحة **تصحيح مصادر البيانات** ، في جزء الإجراءاتء، حدد **تعيين التنسيق** لبدء التصحيح من مكون ER هذا.
2. حدد مصدر بيانات **\$PaymentByDebtor‎** ، ثم حدد **قراءة كافة السجلات**.
3. قم بتوسيع **\$PaymentByDebtor**.
4. قم بتوسيع **\$PaymentByDebtor.Lines** ، ثم حدد **قراءة كافة السجلات**.
5. قم بتوسيع **\$PaymentByDebtor.Lines.CreditorAccount**.
6. قم بتوسيع **\$PaymentByDebtor.Lines.CreditorAccount.Identification** ثم حدد **\$PaymentByDebtor.Lines.CreditorAccount.Identification.IBAN**.
7. حدد **الحصول على قيمة**.
8. حدد **توسيع الكل‬**.

    ![قيمه حقل IBAN في تعيين التنسيق.](./media/er-data-debugger-debugging-format-mapping.png)

    وكما تري، مصادر البيانات لتعيين التنسيق غير مسؤولة عن المساحات المقتطعة، لأن رمز IBAN الذي يرجع للحساب البنكي للمورد يتضمن مسافات. ولذلك، يجب متابعه تصحيح مصدر البيانات.

### <a name="debug-the-format"></a>تصحيح التنسيق

1. في صفحة **تصحيح مصادر البيانات** ، في جزء الإجراءاتء، حدد **التنسيق** لبدء التصحيح من مكون ER هذا.
2. قم بتوسيع عناصر التنسيق لتحديد **ISO20022CTReports** \> **XMLHeader** \> **مستند** \> **CstmrCdtTrfInitn** \> **PmtInf** ثم حدد **قراءة كافة السجلات**.
3. قم بتوسيع عناصر التنسيق لتحديد **ISO20022CTReports** \> **XMLHeader** \> **مستند** \> **CstmrCdtTrfInitn** \> **PmtInf** \> **CdtTrfTxInf**، ثم حدد **قراءة كافة السجلات**.
4. قم بتوسيع عناصر التنسيق لتحديد **ISO20022CTReports** \> **XMLHeader** \> **مستند** \> **CstmrCdtTrfInitn** \> **PmtInf** \> **CdtTrfTxInf** \> **CdtrAcct** \> **معرّف** \> **IBAN** \> **BankIBAN** ثم حدد **الحصول على قيمة**.
5. حدد **توسيع الكل‬**.

    ![قيمه حقل IBAN في التنسيق.](./media/er-data-debugger-debugging-format.png)

   وكما تري، رابط التنسيق غير مسؤول عن المساحات المقتطعة، لأن رمز IBAN الذي يرجع للحساب البنكي للمورد يتضمن مسافات. لذلك، يتم تكوين عنصر **BankIBAN** لاستخدام تحويل التنسيق الذي يقوم باقتطاع المساحات.

6. أغلق مصحح أخطاء مصدر البيانات.

### <a name="review-the-format-transformations"></a>مراجعة عمليات تحويل التنسيق

1. انتقل إلى **إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**.
2. في صفحة **التكوينات** حدد **نموذج الدفع** \> **تحويل ائتمان ISO20022**.
3. حدد **المصمم** ثم قم بتوسيع العناصر لتحديد **مستند** \> **CstmrCdtTrfInitn** \> **PmtInf** \> **CdtTrfTxInf** \> **CdtrAcct** \> **معرف** \> **IBAN** \> **BankIBAN**.

    ![عنصر BankIBAN في صفحة مصمم التنسيق.](./media/er-data-debugger-referred-transformation.png)

    وكما تري، يتم تكوين عنصر **BankIBAN** لاستخدام التحويل **استثناء الأبجدي الرقمي من الإزالة**.

4. حدد علامة تبويب **عمليات التحويل**.

    ![علامة تبويب عمليات التحويل لعنصر BankIBAN.](./media/er-data-debugger-transformation.png)

    وكما تري، يتم تكوين تحويل **استثناء الأبجدي الرقي من الإزالة** لاستخدام تعبير يقوم باقتطاع المسافات من السلسلة النصية المتوفرة.

## <a name="start-to-debug-in-the-operation-designer"></a>البدء في التصحيح في مصمم العملية

عند تكوين إصدار مسودة من تنسيق ER الذي يمكن تشغيله مباشره من "مصمم العملية"، يمكنك الوصول إلى مصحح أخطاء مصدر البيانات عن طريق تحديد **بدء التصحيح** في جزء الإجراءات.

![زر بدء التصحيح في صفحة مصمم التنسيق.](./media/er-data-debugger-run-from-designer.png)

تتوفر مكونات تعيين التنسيق والتنسيق لتنسيق ER الذي يتم تحريره للتصحيح.

## <a name="start-to-debug-in-the-model-mapping-designer"></a>البدء في التصحيح في مصمم تعيين النموذج

عند تكوين تعيين نموذج ER الذي يمكن تشغيله من صفحة **تعيين النموذج** يمكنك الوصول إلى مصحح أخطاء مصدر البيانات عن طريق تحديد **بدء التصحيح** في جزء الإجراءات.

![زر بدء التصحيح في صفحة مصمم تعيين النموذج.](./media/er-data-debugger-run-from-designer-mapping.png)

يتوفر مكون تعيين النموذج لتعيين ER الجاري تحريره للتصحيح.

## <a name="appendix-1-get-an-er-solution"></a><a name="appendix1"></a>الملحق 1: الحصول على حل ER

### <a name="download-an-er-solution"></a>تنزيل حل تقارير إلكترونية

إذا كنت ترغب في استخدام حل ER لإنشاء ملف دفع إلكتروني لدفع المورد الذي تتم معالجته، فانه يمكنك [تنزيل](download-electronic-reporting-configuration-lcs.md) تنسيق دفع ER لـ **تحويل ائتمان ISO20022** المتوفر من مكتبه الأصول المشتركة في Microsoft Dynamics Lifecycle Services أو من المستودع العمومي.

![استيراد تنسيق دفع ER على صفحة مستودع التكوين.](./media/er-data-debugger-import-from-repo.png)

بالإضافة إلى تنسيق التقارير الإلكترونية المحددة، يجب استيراد [التكوينات](general-electronic-reporting.md#Configuration) التالية تلقائيًا في مثيل 365‎ Finance Microsoft Dynamics كجزء من حل التقارير الإلكترونية **لتحويل ائتمان ISO20022**:

- **نموذج الدفع** تكوين نموذج بيانات ER
- **ISO20022 تحويل الائتمان** تكوين تنسيق ER
- **تعيين نموذج الدفع 1611** تكوين تعيين نموذج ER
- **تعيين نموذج الدفع للوجهة ISO20022** تكوين تعيين نموذج ER

يمكنك العثور علي هذه التكوينات في صفحة **التكوينات** الخاصة بإطار عمل ER (**إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**).

![التكوينات المستوردة على صفحة التكوينات.](./media/er-data-debugger-configurations.png)

إذا كان أي من التكوينات التي تم سردها سابقًا مفقودا في شجرة التكوين، فيجب تنزيلها يدويا من مكتبه الأصول المشتركة LCS بنفس الطريقة التي قمت بها بتنزيل تنسيق دفع **تحويل ائتمان ISO20022**.

### <a name="analyze-the-downloaded-er-solution"></a>تحليل حل ER الذي تم تنزيله

#### <a name="review-the-model-mapping"></a>مراجعة تعيين النموذج

1. انتقل إلى **إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**.
2. حدد **نموذج الدفع** \> **تعيين نموذج دفع 1611**.
3. حدد **المصمم**.
4. حدد سجل تعيين **تعيين نموذج الدفع ISO20022 CT**.
5. قم بتحديد **المصصم**، ثم قم بمراجعه تعيين النموذج المفتوح.

    لاحظ أن حقل **المدفوعات** لنموذج البيانات مرتبط بمصدر بيانات **\$notSentTransactions‎** الذي يقوم بإرجاع قائمه بنود دفع المورد التي تتم معالجتها.

    ![حقل المدفوعات في صفحة مصمم تعيين النموذج.](./media/er-data-debugger-model-mapping.png)

#### <a name="review-the-format-mapping"></a>مراجعة تعيين التنسيق

1. انتقل إلى **إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**.
2. حدد **نموذج الدفع** \> **تحويل ائتمان ISO20022**.
3. حدد **المصمم**.
4. في علامة التبويب **التعيين** راجع تعيين التنسيق الذي سيتم فتحه.

    لاحظ أن عنصر **مستند** \> **CstmrCdtTrfInitn** \> **PmtInf** للملف **ISO20022CTReports** \> **XMLHeader** مرتبط بمصدر بيانات **\$PaymentByDebtor** المكوّن على سجلات مجموعة حقل **المدفوعات** لنموذج البينات.

    ![عنصر PmtInf في صفحة مصمم التنسيق.](./media/er-data-debugger-format-mapping.png)

#### <a name="review-the-format"></a>مراجعة التنسيق

1. انتقل إلى **إدارة المؤسسة** \> **التقارير الإلكترونية** \> **التكوينات**.
2. حدد **نموذج الدفع** \> **تحويل ائتمان ISO20022**.
3. قم بتحديد **المصصم**، ثم قم بمراجعه التنسيق المفتوح.

    لاحظ أن عنصر التنسيق ضمن **مستند** \> **CstmrCdtTrfInitn** \> **PmtInf** \> **CdtTrfTxInf** \> **CdtrAcct** \> **معرف** \> **IBAN** \> **BankIBAN** مكوّن لإدخال رمز IBAN لحساب المورد في ملف الدفع.

    ![عنصر تنسيق جديد في صفحة مصمم التنسيق BankIBAN.](./media/er-data-debugger-format.png)

## <a name="appendix-2-configure-accounts-payable"></a><a name="appendix2"></a>ملحق 2: تكوين الحسابات الدائنة

### <a name="modify-a-vendor-property"></a>تعديل خاصية مورد

1. انتقل إلى **الحسابات الدائنة** \> **الموردون** \> **كافة الموردين**.
2. حدد المورد **DE-01002** ، ثم، في جزء الإجراءات، في علامة تبويب **المورد** في مجموعة **الإعداد** حدد **الحسابات البنكية**.
3. في علامة التبويب السريعة **الهوية** ، في حقل **IBAN** ، <a name="enteredIBANcode"></a>أدخل **GB33 BUKB 2020 1555 5555 55**.
4. حدد **حفظ**.

![تعيين حقل IBAN في صفحة الحسابات البنكية للمورد.](./media/er-data-debugger-iban.png)

### <a name="set-up-a-method-of-payment"></a>إعداد طريقة الدفع

1. انتقل إلى **الحسابات الدائنة** \> **إعداد الدفع** \> **طرق الدفع**.
2. حدد طريقة الدفع **SEPA CT**.
3. في علامة التبويب السريعة **تنسيقات الملف** في قسم **تنسيقات الملف** قم بتعيين خيار **تنسيق التصدير الإلكتروني العام**‬ على **نعم**.
4. في حقل **تكوين تنسيق التصدير** ، حدد تنسيق ER لـ **تحويل ائتمان ISO20022**.
5. حدد **حفظ**.

![إعدادات تنسيق الملف في صفحة طرق الدفع.](./media/er-data-debugger-payment-method.png)

### <a name="add-a-vendor-payment"></a>إضافة دفعة مورد​

1. انتقل إلى **الحسابات الدائنة** \> **المدفوعات** \> **‏‫دفتر يومية المدفوعات للمورد‬**.
2. إضافة دفتر يومية مدفوعات جديد.
3. حدد **البنود** وقم بإضافة بند دفع جديد.
4. في حقل **الحساب** حدد المورد **DE-01002**.
5. في الحقل **مدين** ، أدخل قيمة.
6. في حقل **طريقة الدفع** حدد **SEPA CT**.
7. حدد **حفظ**.

![إضافة دفع المورد في صفحة مدفوعات المورد.](./media/er-data-debugger-payment-journal.png)

## <a name="appendix-3-process-a-vendor-payment"></a><a name="appendix3"></a>ملحق 3: معالجة دفع المورد

1. انتقل إلى **الحسابات الدائنة** \> **المدفوعات** \> **‏‫دفتر يومية المدفوعات للمورد‬**.
2. في صفحة **‏‫دفتر يومية المدفوعات للمورد‬** ، حدد دفتر يوميه المدفوعات الذي قمت بإنشاءه مسبقا، ثم حدد **البنود**.
3. حدد بند الدفع، ثم قم بتحديد **حالة الدفع** \> **بلا**.
4. حدد **إنشاء المدفوعات**.
5. في حقل **طريقة الدفع** حدد **SEPA CT**.
6. في الحقل **حساب البنك** حدد **DEMF OPER**.
7. في مربع الحوار **إنشاء المدفوعات‬‏‫** حدد **موافق**.
8. في مربع الحوار **معلمات التقارير الإلكترونية** حدد **موافق**.


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
