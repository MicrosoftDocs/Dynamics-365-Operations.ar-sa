---
title: مساحة تخزين النسخ الاحتياطية لقوالب التقارير الإلكترونية
description: يشرح هذا الموضوع كيفية استخدام مساحة تخزين النسخ الاحتياطية للتقارير الإلكترونية لاسترداد القوالب.
author: NickSelin
ms.date: 04/29/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERWorkspace, ERSolutionTable
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: 27621
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-08-13
ms.dyn365.ops.version: 10.0.5
ms.openlocfilehash: b41760bb58cbef66146b3f1af6f30c6a35a18727
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/31/2021
ms.locfileid: "5743837"
---
# <a name="backup-storage-of-er-templates"></a><span data-ttu-id="7ede6-103">مساحة تخزين النسخ الاحتياطية لقوالب التقارير الإلكترونية</span><span class="sxs-lookup"><span data-stu-id="7ede6-103">Backup storage of ER templates</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="7ede6-104">يسمح [نظرة عامة على التقارير الإلكترونية (ER)](general-electronic-reporting.md) لمستخدمي الشركات بتكوين تنسيقات المستندات الصادرة وفقًا للمتطلبات القانونية لمختلف البلدان والمناطق.</span><span class="sxs-lookup"><span data-stu-id="7ede6-104">The [Electronic reporting (ER) overview](general-electronic-reporting.md) lets business users configure formats for outbound documents according to the legal requirements of various countries and regions.</span></span> <span data-ttu-id="7ede6-105">بإمكان تنسيقات التقارير الإلكترونية المكونة استخدام قوالب معرفه مسبقًا لإنشاء المستندات الصادرة بتنسيقات متنوعة، مثل مصنفات Microsoft Excel أو مستندات Microsoft Word أو مستندات PDF.</span><span class="sxs-lookup"><span data-stu-id="7ede6-105">Configured ER formats can use predefined templates to generate outbound documents in various formats, such as Microsoft Excel workbooks, Microsoft Word documents, or PDF documents.</span></span> <span data-ttu-id="7ede6-106">يتم تعبئة القوالب بالبيانات التي يحتاج إليها تدفق البيانات الذي تم تكوينه للمستندات المُنشأة.</span><span class="sxs-lookup"><span data-stu-id="7ede6-106">The templates are filled with data that the configured dataflow for generated documents requires.</span></span>

<span data-ttu-id="7ede6-107">يمكن نشر كل تنسيق تم تكوينه كجزء من حل التقارير الإلكترونية.</span><span class="sxs-lookup"><span data-stu-id="7ede6-107">Each configured format can be published as part of an ER solution.</span></span> <span data-ttu-id="7ede6-108">يمكن تصدير كل حل من حلول التقارير الإلكترونية من مثيل Finance and Operations واستيراده إلى مثيل آخر.</span><span class="sxs-lookup"><span data-stu-id="7ede6-108">Each ER solution can be exported from one instance of Finance and Operations and imported into another instance.</span></span>

<span data-ttu-id="7ede6-109">يستخدم اطار عمل التقارير الإلكترونية [تكوين إدارة المستندات](../../fin-ops/organization-administration/configure-document-management.md) للاحتفاظ بالقوالب المطلوبة لمثيل Finance and Operations الحالي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-109">The ER framework uses the [Configure document management](../../fin-ops/organization-administration/configure-document-management.md) to keep the required templates for the current Finance and Operations instance.</span></span> <span data-ttu-id="7ede6-110">استنادًا إلى إعدادات إطار عمل التقرير الإلكترونية، يمكن تحديد مخزن البيانات الثنائية كبيرة الحجم لـ Microsoft Azure أو مجلد Microsoft SharePoint كموقع التخزين الأساسي الفعلي للقوالب.</span><span class="sxs-lookup"><span data-stu-id="7ede6-110">Depending on the settings of the ER framework, Microsoft Azure Blob storage or a Microsoft SharePoint folder can be selected as the physical primary storage location for templates.</span></span> <span data-ttu-id="7ede6-111">(لمزيد من المعلومات، راجع [تكوين إطار عمل التقارير الإلكترونية (ER)](electronic-reporting-er-configure-parameters.md).) يحتفظ الجدول DocuValue بسجل فردي لكل قالب.</span><span class="sxs-lookup"><span data-stu-id="7ede6-111">(For more information, see [Configure the Electronic reporting (ER) framework](electronic-reporting-er-configure-parameters.md).) The DocuValue table holds an individual record for each template.</span></span> <span data-ttu-id="7ede6-112">في كل سجل ، يخزن الحقل **AccessInformation** المسار إلى ملف قالب موجود في موقع التخزين المكون.</span><span class="sxs-lookup"><span data-stu-id="7ede6-112">In each record, the **AccessInformation** field stores the path of a template file that is located in the configured storage location.</span></span>

<span data-ttu-id="7ede6-113">عند إدارة مثيلات Finance and Operations قد تقرر ترحيل المثيل الحالي إلى موقع آخر.</span><span class="sxs-lookup"><span data-stu-id="7ede6-113">When you manage your Finance and Operations instances, you might decide to migrate the current instance to another location.</span></span> <span data-ttu-id="7ede6-114">على سبيل المثال، يمكنك ترحيل مثيل الإنتاج إلى بيئة اختبار معزولة جديدة.</span><span class="sxs-lookup"><span data-stu-id="7ede6-114">For example, you might migrate your production instance to a new sandbox environment.</span></span> <span data-ttu-id="7ede6-115">إذا قمت بتكوين إطار عمل التقارير الإلكترونية لتخزين القوالب في مخزن البيانات الثنائية كبيرة الحجم، يشير الجدول DocuValue في بيئة الاختبار المعزولة الجديدة إلى مثيل مخزن البيانات الثنائية كبيرة الحجم في بيئة الإنتاج.</span><span class="sxs-lookup"><span data-stu-id="7ede6-115">If you configured the ER framework to store templates in Blob storage, the DocuValue table in the new sandbox environment refers to the instance of Blob storage in the production environment.</span></span> <span data-ttu-id="7ede6-116">ومع ذلك، لا يمكن الوصول إلى هذا المثيل من بيئة الاختبار المعزولة، لأن عملية الترحيل لا تدعم ترحيل البيانات الاصطناعية في مخزن البيانات الثنائية كبيرة الحجم.</span><span class="sxs-lookup"><span data-stu-id="7ede6-116">However, this instance can't be accessed from the sandbox environment, because the migration process doesn't support the migration of artifacts in Blob storage.</span></span> <span data-ttu-id="7ede6-117">وبالتالي، إذا حاولت تشغيل تنسيق تقارير إلكترونية يستخدم قالبًا لإنشاء مستندات الأعمال، يحدث استثناء، ويتم اعلامك بالقالب المفقود.</span><span class="sxs-lookup"><span data-stu-id="7ede6-117">Therefore, if you try to run an ER format that uses a template to generate business documents, an exception occurs, and you're notified about the missing template.</span></span> <span data-ttu-id="7ede6-118">ويتم أيضًا إرشادك لاستخدام أداة تنظيف التقارير الإلكترونية لحذف تكوين تنسيق التقارير الذي يحتوي على القالب ثم إعادة استيراده.</span><span class="sxs-lookup"><span data-stu-id="7ede6-118">You're also guided to use the ER cleanup tool to delete and then re-import the ER format configuration that contains the template.</span></span> <span data-ttu-id="7ede6-119">بسبب وجود تكوينات متعددة لتنسيق التقارير الإلكترونية، قد تستغرق هذه العملية وقتًا طويلاً.</span><span class="sxs-lookup"><span data-stu-id="7ede6-119">Because you might have several ER format configurations, this process can be time consuming.</span></span>

<span data-ttu-id="7ede6-120">بإمكان ميزة مساحة تخزين النسخ الاحتياطية لقوالب التقارير الإلكترونية مساعدتك في إنشاء قوالبك بحيث تكون متاحة بشكل دائم لإنشاء مستندات الاعمال.</span><span class="sxs-lookup"><span data-stu-id="7ede6-120">The Backup storage of ER templates feature can help you make your templates so that they are always available to generate business documents.</span></span>

> [!NOTE]
> <span data-ttu-id="7ede6-121">يمكن استخدام هذه الميزة فقط عند تحديد مخزن البيانات الثنائية كبيرة الحجم كموقع تخزين فعلي لقوالب التقارير الإلكترونية.</span><span class="sxs-lookup"><span data-stu-id="7ede6-121">This feature can be used only when Blob storage has been selected as the physical storage location for ER templates.</span></span>

## <a name="automated-recovery-and-notification"></a><span data-ttu-id="7ede6-122">الاسترداد والاعلام التلقائي</span><span class="sxs-lookup"><span data-stu-id="7ede6-122">Automated recovery and notification</span></span>

<span data-ttu-id="7ede6-123">بالنسبة إلى هذه الميزة، يتم حفظ كل قالب لتكوين تنسيق التقارير الإلكترونية الجديد في البيئة الحالية بشكل تلقائي إلى موقع مساحة تخزين النسخ الاحتياطية للقوالب (جدول قاعدة البيانات ERDocuDatabaseStorage) عند وقوع الاحداث التالية:</span><span class="sxs-lookup"><span data-stu-id="7ede6-123">For this feature, every template of a new ER format configuration in the current environment is automatically saved to the backup storage location for templates (the ERDocuDatabaseStorage database table) when the following events occur:</span></span>

- <span data-ttu-id="7ede6-124">تقوم باستيراد تكوين جديد لتنسيق التقارير الإلكترونية يحتوي على قالب.</span><span class="sxs-lookup"><span data-stu-id="7ede6-124">You import a new ER format configuration that contains a template.</span></span>
- <span data-ttu-id="7ede6-125">تقوم بإكمال إصدار المسودة لتكوين تنسيق التقارير الإلكترونية الذي يحتوي على قالب.</span><span class="sxs-lookup"><span data-stu-id="7ede6-125">You complete the draft version of an ER format configuration that contains a template.</span></span>

<span data-ttu-id="7ede6-126">يتم ترحيل النسخ الاحتياطية للقوالب إلى مثيل جديد من Finance and Operations كجزء من قاعدة بيانات التطبيق.</span><span class="sxs-lookup"><span data-stu-id="7ede6-126">Backup copies of templates are migrated to a new instance of Finance and Operations as part of the application database.</span></span>

<span data-ttu-id="7ede6-127">إذا كان قالب تنسيق تقارير إلكترونية مطلوبًا لإنشاء المستندات الصادرة، ولمعالجة مدفوعات المورّد بما في ذلك إنشاء اخطار الدفع والتحكم في التقارير، على سبيل المثال، ولكن لم يتم العثور علي القالب المطلوب في موقع التخزين الأساسي، تقع الأحداث التالية:</span><span class="sxs-lookup"><span data-stu-id="7ede6-127">If a template of an ER format is required for generation of outbound documents, to process vendor payments including generation of payment advice and control reports, for example, but the required template isn't found in the primary storage location, the following events occur:</span></span>

- <span data-ttu-id="7ede6-128">إذا توفر القالب في موقع مساحة تخزين النسخ الاحتياطية، يتم أخذه تلقائيًا من الموقع الحالي لتخزين النسخ الاحتياطية واستعادته إلى موقع التخزين الرئيسي، واستخدامه للتنفيذ الحالي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-128">If the template is available in the backup storage location, it is automatically taken from the backup storage location, restored to the primary storage location, and used for the current execution.</span></span>
- <span data-ttu-id="7ede6-129">يتم اخطار كل مستخدم تم تعيينه إلى دور **مطور إعداد التقارير الإلكترونية** أو **مسؤول النظام** بالقالب المفقود من خلال مركز الإجراءات.</span><span class="sxs-lookup"><span data-stu-id="7ede6-129">Every user who is assigned to the **Electronic reporting developer** or **System administrator** role is notified about the missing template issue through the Action center.</span></span> <span data-ttu-id="7ede6-130">تتوقف الرسالة التي تظهر على قيمة المعلمة **تشغيل تلقائي لإجراء استعادة القوالب المقطوعة على دفعات**:</span><span class="sxs-lookup"><span data-stu-id="7ede6-130">The message that appears depends on the value of the **Automatically run the procedure of restoring the broken templates in batch** parameter:</span></span>

    - <span data-ttu-id="7ede6-131">إذا تم تعيين هذه المعلمة إلى **إيقاف**، توصي الرسالة ببدء معالجة الدُفعة لإصلاح مشاكل مماثلة خاصة بقوالب تكوين تنسيقات التقارير الإلكترونية الأخرى بشكل تلقائي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-131">If this parameter is set to **Off**, the message recommends that you start the batch process to automatically fix similar issues for other ER format configuration templates.</span></span> <span data-ttu-id="7ede6-132">تتضمن الرسالة ارتباطًا يمكنك استخدامه لبدء معالجة الدُفعة.</span><span class="sxs-lookup"><span data-stu-id="7ede6-132">The message includes a link that you can use to start the batch process.</span></span>
    - <span data-ttu-id="7ede6-133">إذا تم تعيين هذه المعلمة إلى **تشغيل**، تعلمك الرسالة باكتشاف مشكلة تتعلق بقوالب مفقودة، وبجدولة معالجة دُفعة جديدة **استعادة القوالب المقطوعة من النسخة الاحتياطية لقاعدة البيانات** بشكل تلقائي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-133">If this parameter is set to **On**, the message notifies you that a missing templates issue has been discovered, and that a new batch process, **Restore broken templates from internal database backup**, has been automatically scheduled.</span></span> <span data-ttu-id="7ede6-134">ستقوم معالجة الدُفعة هذه بإصلاح مشاكل مماثلة لقوالب أخرى بشكل تلقائي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-134">This batch process will automatically fix similar issues for other templates.</span></span>

<span data-ttu-id="7ede6-135">لإعداد المعلمة **تشغيل تلقائي لإجراء استعادة القوالب المقطوعة على دفعات**، أكمل الخطوات التالية:</span><span class="sxs-lookup"><span data-stu-id="7ede6-135">To set up the **Automatically run the procedure of restoring the broken templates in batch** parameter, complete the following steps:</span></span>

1. <span data-ttu-id="7ede6-136">في Finance and Operations، افتح صفحة **إدارة المؤسسة \> التقارير الإلكترونية \> التكوينات**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-136">In Finance and Operations, open the **Organization administration \> Electronic reporting \> Configurations page**.</span></span>
2. <span data-ttu-id="7ede6-137">في صفحة **التكوينات**، في جزء الإجراءات، في علامة التبويب **التكوينات**، في مجموعة **الإعدادات المتقدمة**، حدد **معلمات المستخدمين**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-137">On the **Configurations** page, on the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
3. <span data-ttu-id="7ede6-138">في مربع الحوار‏‎ **معلمات المستخدم**، عيّن القيمة المطلوبة للمعلمة **تشغيل تلقائي لإجراء استعادة القوالب المقطوعة على دفعات**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-138">In the **User parameters** dialog box, set the required value for the **Automatically run the procedure of restoring the broken templates in batch** parameter.</span></span>

> [!NOTE]
> <span data-ttu-id="7ede6-139">هذه المعلمة محددة كمستخدم ومسجلة كخاصة بالشركة.</span><span class="sxs-lookup"><span data-stu-id="7ede6-139">This parameter is defined as application user and logged company specific.</span></span>

![صفحة تكوينات التقارير الإلكترونية](./media/GER-BackupTemplates-1.png)

<span data-ttu-id="7ede6-141">يبين الرسم التوضيحي التالي مثالاً للرسالة التي تظهر عند تعيين المعلمة **تشغيل تلقائي لإجراء استعادة القوالب المقطوعة على دفعات**  إلى **تشغيل**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-141">The following illustration shows an example of the message that appears when the **Automatically run the procedure of restoring the broken templates in batch** parameter is set to **On**.</span></span>

![صفحة دفتر يومية دفع المورّد](./media/GER-BackupTemplates-2.png)

<span data-ttu-id="7ede6-143">يبين الرسم التوضيحي التالي معالجة الدُفعة **استعادة القوالب المقطوعة من النسخة الاحتياطية لقاعدة البيانات** في الصفحة **وظيفة دفعية**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-143">The following illustration shows the **Restore broken templates from internal database backup** batch process on the **Batch job** page.</span></span>

![الصفحة "وظيفة دفعية"](./media/GER-BackupTemplates-3.png)

<span data-ttu-id="7ede6-145">يتضمن سجل التنفيذ لمعالجة الدُفعة المكتملة **استعادة القوالب المقطوعة من النسخة الاحتياطية لقاعدة البيانات** معلومات حول القوالب التي تمت استعادتها من موقع تخزين النسخ الاحتياطية إلى موقع التخزين الأساسي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-145">The execution log of the completed **Restore broken templates from internal database backup** batch process includes information about the templates that have been restored from the backup storage location to the primary storage location.</span></span>

![صفحة محفوظات الوظائف الدفعية](./media/GER-BackupTemplates-4.png)

<span data-ttu-id="7ede6-147">بشكل افتراضي، يتم بشكل تلقائي تشغيل عملية إنشاء نسخ احتياطية من القوالب الموجودة في تكوينات تنسيقات التقارير الإلكترونية.</span><span class="sxs-lookup"><span data-stu-id="7ede6-147">By default, the process of automatically creating backup copies of templates that reside in ER format configurations is turned on.</span></span> <span data-ttu-id="7ede6-148">للتوقف عن إنشاء نسخ احتياطية للقوالب، قم بتعيين الخيار **التوقف عن إنشاء نسخ احتياطية للقوالب** إلى **نعم** على علامة تبويب **المرفقات** في صفحة **معلمات التقارير الإلكترونية**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-148">To stop making backup copies of templates, set the **Stop making backup copies of template** option to **Yes** on the **Attachments** tab of the **Electronic reporting parameters** page.</span></span> <span data-ttu-id="7ede6-149">يمكنك فتح هذه الصفحة من مساحة عمل **التقارير الإلكترونية**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-149">You can open this page from the **Electronic reporting** workspace.</span></span>

<span data-ttu-id="7ede6-150">إذا عينت الخيار  **التوقف عن إنشاء نسخ احتياطية للقوالب** إلى **نعم** ولم ترغب في الاحتفاظ بالنسخ الاحتياطية التي تم إنشاؤها من القوالب في وقت سابق، فحدد **تنظيف مساحة تخزين النسخ الاحتياطية** في صفحة **معلمات التقارير الإلكترونية**.</span><span class="sxs-lookup"><span data-stu-id="7ede6-150">If you set the **Stop making backup copies of templates** option to **Yes** and don't want to keep the backup copies that were previously made of templates, select **Clean up backup storage** on the **Electronic reporting parameters** page.</span></span>

<span data-ttu-id="7ede6-151">إذا قمت بترقية بيئتك إلى Finance and Operations الإصدار 10.0.5 (أكتوبر 2019) وأردت الترحيل إلى بيئة جديدة تتضمن تنسيقات تكوينات التقارير الإلكترونية التي يمكن تشغيلها، فحدد **تعبئة مساحة تخزين النسخ الاحتياطية** في صفحة **معلمات التقارير الإلكترونية** قبل حدوث عملية الترحيل.</span><span class="sxs-lookup"><span data-stu-id="7ede6-151">If you upgraded your environment to Finance and Operations version 10.0.5 (October 2019) and want to migrate to a new environment that includes ER format configurations that can be run, select **Fill in backup storage** on the **Electronic reporting parameters** page before the migration occurs.</span></span> <span data-ttu-id="7ede6-152">يبدأ هذا الزر عملية إنشاء نسخ احتياطية لكافة القوالب المتوفرة، بحيث يمكن تخزينها في موقع مساحة تخزين النسخ الاحتياطية لقوالب التقارير الإلكترونية‬.</span><span class="sxs-lookup"><span data-stu-id="7ede6-152">This button starts the process of making backup copies of all available templates, so that they can be stored in the ER backup storage location for templates.</span></span>

![صفحة معلمات التقارير الإلكترونية](./media/GER-BackupTemplates-5.png)

## <a name="manual-recovery"></a><span data-ttu-id="7ede6-154">الاسترداد اليدوي</span><span class="sxs-lookup"><span data-stu-id="7ede6-154">Manual recovery</span></span>

<span data-ttu-id="7ede6-155">انتقل إلى **‏‫إدارة المؤسسة‬** \> **التقارير الإلكترونية** \> **‬‏‫استعادة القوالب المقطوعة** لبدء عمليه استعاده قوالب ER يدويًا من موقع تخزين النسخ الاحتياطي إلى موقع التخزين الأساسي.</span><span class="sxs-lookup"><span data-stu-id="7ede6-155">Go to **Organization administration** \> **Electronic reporting** \> **Restore broken templates** to manually initiate the process of restoring ER templates from the backup storage location to the primary storage location.</span></span> <span data-ttu-id="7ede6-156">قبل البدء في هذه العملية، في صفحة **استعاده القوالب المقطوعة** يمكنك تحديد ما إذا كان سيتم تنفيذ ذلك بشكل تفاعلي، أو ستتم جدوله معالجه المجموعة لذلك.</span><span class="sxs-lookup"><span data-stu-id="7ede6-156">Before you start this process, on the **Restore broken templates** page you can specify whether it will be performed interactively, or the batch process will be scheduled for this.</span></span>

## <a name="supported-deployments"></a><span data-ttu-id="7ede6-157">عمليات النشر المدعومة</span><span class="sxs-lookup"><span data-stu-id="7ede6-157">Supported deployments</span></span>

<span data-ttu-id="7ede6-158">في Finance and Operations الإصدار 10.0.5، تتوفر ميزة مساحة تخزين النسخ الاحتياطية لقوالب التقارير الإلكترونية‬ فقط في عمليات النشر السحابية.</span><span class="sxs-lookup"><span data-stu-id="7ede6-158">In Finance and Operations version 10.0.5, the Backup storage of ER templates feature is available only in cloud deployments.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7ede6-159">الموارد الإضافية</span><span class="sxs-lookup"><span data-stu-id="7ede6-159">Additional resources</span></span>

[<span data-ttu-id="7ede6-160">نظرة عامة حول التقارير الإلكترونية</span><span class="sxs-lookup"><span data-stu-id="7ede6-160">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="7ede6-161">تكوين إطار عمل إعداد التقارير الإلكترونية (ER)</span><span class="sxs-lookup"><span data-stu-id="7ede6-161">Configure the Electronic reporting (ER) framework</span></span>](electronic-reporting-er-configure-parameters.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]