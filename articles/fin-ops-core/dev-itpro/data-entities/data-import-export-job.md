---
title: نظرة عامة حول مهام استيراد البيانات وتصديرها
description: استخدم مساحة عمل إدارة البيانات لإنشاء وإدارة وظائف استيراد البيانات وتصديرها.
author: Sunil-Garg
ms.date: 11/02/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 1cb38c812aed60bddadce25f66ec77f4e428be71
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/31/2021
ms.locfileid: "5750990"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="c6640-103">نظرة عامة حول مهام استيراد البيانات وتصديرها</span><span class="sxs-lookup"><span data-stu-id="c6640-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="c6640-104">لإنشاء وإدارة وظائف استيراد البيانات وتصديرها، استخدم مساحة عمل **إدارة البيانات**.</span><span class="sxs-lookup"><span data-stu-id="c6640-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="c6640-105">بشكل افتراضي، تنشئ عملية استيراد البيانات وتصديرها جدولاً مرحليًا لكل كيان في قاعدة البيانات الهدف.</span><span class="sxs-lookup"><span data-stu-id="c6640-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="c6640-106">تسمح لك الجداول المرحلية بالتحقق من البيانات أو تنظيمها أو تحويلها قبل قبل أن تقوم بنقلها.</span><span class="sxs-lookup"><span data-stu-id="c6640-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="c6640-107">يفترض هذا الموضوع أنك على دراية بـ [كيانات البيانات](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="c6640-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="c6640-108">عملية استيراد/تصدير البيانات</span><span class="sxs-lookup"><span data-stu-id="c6640-108">Data import/export process</span></span>
<span data-ttu-id="c6640-109">فيما يلي الخطوات اللازمة لاستيراد أو تصدير البيانات.</span><span class="sxs-lookup"><span data-stu-id="c6640-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="c6640-110">أنشئ وظيفة استيراد وتصدير حيث يمكنك إتمام المهام التالية:</span><span class="sxs-lookup"><span data-stu-id="c6640-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="c6640-111">تعريف فئة المشروع.</span><span class="sxs-lookup"><span data-stu-id="c6640-111">Define the project category.</span></span>
    - <span data-ttu-id="c6640-112">تحديد الكيانات لاستيرادها أو تصديرها.</span><span class="sxs-lookup"><span data-stu-id="c6640-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="c6640-113">تعيين تنسيق البيانات للوظيفة.</span><span class="sxs-lookup"><span data-stu-id="c6640-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="c6640-114">إجراء تسلسل للكيانات، لكي تتم معالجتها في مجموعات منطقية، وبترتيب ملائم.</span><span class="sxs-lookup"><span data-stu-id="c6640-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="c6640-115">تحديد ما إذا كان يجب استخدام جداول مرحلية.</span><span class="sxs-lookup"><span data-stu-id="c6640-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="c6640-116">تحقق من تعيين البيانات المصدر والبيانات الهدف بشكل صحيح.</span><span class="sxs-lookup"><span data-stu-id="c6640-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="c6640-117">تحقق من أمان وظيفة الاستيراد أو التصدير.</span><span class="sxs-lookup"><span data-stu-id="c6640-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="c6640-118">شغُل وظيفة الاستيراد أو التصدير.</span><span class="sxs-lookup"><span data-stu-id="c6640-118">Run the import or export job.</span></span>
5. <span data-ttu-id="c6640-119">تحقق من تشغيل الوظيفة كما هو متوقع من خلال مراجعة سجل الوظائف.</span><span class="sxs-lookup"><span data-stu-id="c6640-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="c6640-120">نظف الجداول المرحلية.</span><span class="sxs-lookup"><span data-stu-id="c6640-120">Clean up the staging tables.</span></span>

<span data-ttu-id="c6640-121">توفر المقاطع المتبقية من هذا الموضوع تفاصيل إضافية حول كل خطوة من خطوات العملية.</span><span class="sxs-lookup"><span data-stu-id="c6640-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="c6640-122">لكي يتم تحديث نموذج استيراد/تصدير البيانات للاطلاع على التقدم الأخير الذي حصل، استخدم أيقونة تحديث النموذج.</span><span class="sxs-lookup"><span data-stu-id="c6640-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="c6640-123">من غير المستحسن إجراء التحديث على مستوى المستعرض لأنه سوف يقاطع أي وظائف استيراد/تصدير لا يتم تشغيلها على دُفعات.</span><span class="sxs-lookup"><span data-stu-id="c6640-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="c6640-124">إنشاء وظيفة استيراد أو تصدير</span><span class="sxs-lookup"><span data-stu-id="c6640-124">Create an import or export job</span></span>
<span data-ttu-id="c6640-125">يمكن تشغيل وظيفة استيراد البيانات أو تصديرها مرة واحدة أو مرات كثيرة.</span><span class="sxs-lookup"><span data-stu-id="c6640-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="c6640-126">تعريف فئة المشروع</span><span class="sxs-lookup"><span data-stu-id="c6640-126">Define the project category</span></span>
<span data-ttu-id="c6640-127">إننا ننصحك بأن تخصص بعض الوقت لتحديد فئة مشروع مناسبة لمهمة الاستيراد أو التصدير.</span><span class="sxs-lookup"><span data-stu-id="c6640-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="c6640-128">بإمكان فئات المشروع أن تساعدك في إدارة الوظائف ذات الصلة.</span><span class="sxs-lookup"><span data-stu-id="c6640-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="c6640-129">تحديد الكيانات لاستيرادها أو تصديرها</span><span class="sxs-lookup"><span data-stu-id="c6640-129">Identify the entities to import or export</span></span>
<span data-ttu-id="c6640-130">يمكنك إضافة كيانات محددة إلى وظيفة استيراد أو تصدير أو تحديد قالب لتطبيقه.</span><span class="sxs-lookup"><span data-stu-id="c6640-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="c6640-131">تقوم القوالب بتعبئة وظيفة ما بقائمة وحدات.</span><span class="sxs-lookup"><span data-stu-id="c6640-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="c6640-132">يتوفر الخيار **تطبيق قالب** بعد أن تقوم بتسمية الوظيفة وحفظها.</span><span class="sxs-lookup"><span data-stu-id="c6640-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="c6640-133">تعيين تنسيق البيانات للوظيفة</span><span class="sxs-lookup"><span data-stu-id="c6640-133">Set the data format for the job</span></span>
<span data-ttu-id="c6640-134">عندما تقوم بتحديد كيان ما، يجب تحديد تنسيق البيانات التي سيتم تصديرها أو استيرادها.</span><span class="sxs-lookup"><span data-stu-id="c6640-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="c6640-135">يمكنك تحديد التنسيقات باستخدام اللوحة **إعداد مصادر البيانات**.</span><span class="sxs-lookup"><span data-stu-id="c6640-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="c6640-136">تنسيق بيانات مصدر عبارة عن مجموعة من **النوع**، و **تنسيق الملف**، و **محدد الصف**، و **محدد العمود**.</span><span class="sxs-lookup"><span data-stu-id="c6640-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="c6640-137">هناك أيضًا سمات أخرى، ولكن هذه هي الأساسية للفهم.</span><span class="sxs-lookup"><span data-stu-id="c6640-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="c6640-138">يسرد الجدول التالي المجموعات الصالحة.</span><span class="sxs-lookup"><span data-stu-id="c6640-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="c6640-139">تنسيق الملف</span><span class="sxs-lookup"><span data-stu-id="c6640-139">File Format</span></span>            | <span data-ttu-id="c6640-140">محدد الأعمدة/الصفوف</span><span class="sxs-lookup"><span data-stu-id="c6640-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="c6640-141">نمط XML</span><span class="sxs-lookup"><span data-stu-id="c6640-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="c6640-142">Excel</span><span class="sxs-lookup"><span data-stu-id="c6640-142">Excel</span></span>                  | <span data-ttu-id="c6640-143">Excel</span><span class="sxs-lookup"><span data-stu-id="c6640-143">Excel</span></span>                                      | <span data-ttu-id="c6640-144">\-غير متوفر</span><span class="sxs-lookup"><span data-stu-id="c6640-144">\-NA-</span></span>                     |
| <span data-ttu-id="c6640-145">XML</span><span class="sxs-lookup"><span data-stu-id="c6640-145">XML</span></span>                    | <span data-ttu-id="c6640-146">\-غير متوفر</span><span class="sxs-lookup"><span data-stu-id="c6640-146">\-NA-</span></span>                                      | <span data-ttu-id="c6640-147">سمة XML لعنصر XML</span><span class="sxs-lookup"><span data-stu-id="c6640-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="c6640-148">عرض ثابت، محدد</span><span class="sxs-lookup"><span data-stu-id="c6640-148">Delimited, fixed width</span></span> | <span data-ttu-id="c6640-149">الفاصلة، الفاصلة المنقوطة، علامة التبويب، خط عمودي، الفاصلة المنقوطة</span><span class="sxs-lookup"><span data-stu-id="c6640-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="c6640-150">\-غير متوفر</span><span class="sxs-lookup"><span data-stu-id="c6640-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="c6640-151">إجراء تسلسل للكيانات</span><span class="sxs-lookup"><span data-stu-id="c6640-151">Sequence the entities</span></span>
<span data-ttu-id="c6640-152">يمكن إجراء تسلسل للكيانات في قالب بيانات أو في وظائف الاستيراد والتصدير.</span><span class="sxs-lookup"><span data-stu-id="c6640-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="c6640-153">عندما تقوم بتشغيل وظيفة تحتوي على أكثر من كيان بيانات واحد، يجب أن تتأكد من التسلسل الصحيح لكيانات البيانات.</span><span class="sxs-lookup"><span data-stu-id="c6640-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="c6640-154">إنك تجري تسلسلاً للكيانات بشكل أساسي لكي تتمكن من معالجة أي تبعيات وظيفية بين الكيانات.</span><span class="sxs-lookup"><span data-stu-id="c6640-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="c6640-155">وإذا لم يكن هناك أي تبعيات وظيفية لدى الكيانات، فيمكن جدولتها للاستيراد أو التصدير المتوازي.</span><span class="sxs-lookup"><span data-stu-id="c6640-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="c6640-156">وحدات التنفيذ والمستويات والتسلسلات</span><span class="sxs-lookup"><span data-stu-id="c6640-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="c6640-157">تساعد وحدة التنفيذ والمستوى في وحدة التنفيذ وتسلسل الكيان في التحكم في الترتيب الذي يتم فيه تصدير البيانات أو استيرادها.</span><span class="sxs-lookup"><span data-stu-id="c6640-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="c6640-158">تتم معالجة الكيانات في وحدات تنفيذ مختلفة في نفس الوقت.</span><span class="sxs-lookup"><span data-stu-id="c6640-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="c6640-159">في كل وحدة التنفيذ، تتم معالجة الكيانات في نفس الوقت إذا كانت ذات مستوى مماثل.</span><span class="sxs-lookup"><span data-stu-id="c6640-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="c6640-160">في كل مستوى، تتم معالجة الكيانات وفقًا لرقمها التسلسلي في هذا المستوى.</span><span class="sxs-lookup"><span data-stu-id="c6640-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="c6640-161">بعد أن تمت معالجة أحد المستويات، تتم معالجة المستوى التالي.</span><span class="sxs-lookup"><span data-stu-id="c6640-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="c6640-162">إعادة إجراء التسلسل</span><span class="sxs-lookup"><span data-stu-id="c6640-162">Resequencing</span></span>
<span data-ttu-id="c6640-163">قد تحتاج إلى إعادة إجراء تسلسل للكيانات في الحالات التالية:</span><span class="sxs-lookup"><span data-stu-id="c6640-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="c6640-164">إذا تم استخدام وظيفة بيانات واحدة فقط لكافة تغييراتك، فيمكنك استخدام خيارات إعادة إجراء التسلسل لتحسين وقت التنفيذ للوظيفة الكاملة.</span><span class="sxs-lookup"><span data-stu-id="c6640-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="c6640-165">في هذه الحالات، يمكنك استخدام وحدة التنفيذ لتمثيل الوحدة النمطية، ومستوى لتمثيل منطقة الميزات في الوحدة النمطية، والتسلسل لتمثيل الكيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="c6640-166">باستخدام هذه الطريقة، يمكنك العمل عبر الوحدات النمطية في نفس الوقت، ولكن مع ذلك يمكنك العمل بشكل متسلسل في وحدة نمطية.</span><span class="sxs-lookup"><span data-stu-id="c6640-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="c6640-167">للمساعدة في ضمان نجاح العمليات المتزامنة، يجب مراعاة كافة التبعيات.</span><span class="sxs-lookup"><span data-stu-id="c6640-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="c6640-168">إذا كنت تستخدم وظائف بيانات متعددة (على سبيل المثال، وظيفة واحدة لكل وحدة نمطية)، يمكنك استخدام التسلسل للتأثير على مستوى الكيانات وتسلسلها لتمكين التنفيذ الأمثل.</span><span class="sxs-lookup"><span data-stu-id="c6640-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="c6640-169">في حال عدم وجود تبعيات، يمكنك إجراء تسلسل للكيانات عند وحدات تنفيذ مختلفة لتمكين الحد الأقصى للتحسين.</span><span class="sxs-lookup"><span data-stu-id="c6640-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="c6640-170">تتوفر قائمة **إعادة إجراء التسلسل** عند تحديد كيانات متعددة.</span><span class="sxs-lookup"><span data-stu-id="c6640-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="c6640-171">يمكنك إعادة إجراء التسلسل استنادًا إلى خيارات وحدة التنفيذ أو المستوى أو التسلسل.</span><span class="sxs-lookup"><span data-stu-id="c6640-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="c6640-172">ويمكنك تعيين تزايد لإجراء إعادة تسلسل للكيانات التي تم تحديدها.</span><span class="sxs-lookup"><span data-stu-id="c6640-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="c6640-173">يتم تحديث الوحدة و/أو المستوى و/أو الرقم التسلسلي المحدد لكل كيان بواسطة التزايد المحدد.</span><span class="sxs-lookup"><span data-stu-id="c6640-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="c6640-174">الفرز</span><span class="sxs-lookup"><span data-stu-id="c6640-174">Sorting</span></span>
<span data-ttu-id="c6640-175">يمكنك استخدام الخيار **فرز حسب** لعرض قائمة الكيانات بترتيب متسلسل.</span><span class="sxs-lookup"><span data-stu-id="c6640-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="c6640-176">الاقتطاع</span><span class="sxs-lookup"><span data-stu-id="c6640-176">Truncating</span></span>
<span data-ttu-id="c6640-177">لاستيراد المشروعات، فإنه يمكنك اختيار اقتطاع السجلات في الكيانات قبل الاستيراد.</span><span class="sxs-lookup"><span data-stu-id="c6640-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="c6640-178">هذا مفيد في حالة وجوب استيراد سجلاتك إلى مجموعة جداول خالية.</span><span class="sxs-lookup"><span data-stu-id="c6640-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="c6640-179">يكون هذا الخيار متوقفًا عن التشغيل بشكل افتراضي.</span><span class="sxs-lookup"><span data-stu-id="c6640-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="c6640-180">التحقق من تعيين البيانات المصدر والبيانات الهدف بشكل صحيح</span><span class="sxs-lookup"><span data-stu-id="c6640-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="c6640-181">إن التعيين عبارة عن وظيفة تنطبق على وظائف الاستيراد والتصدير على حد سواء.</span><span class="sxs-lookup"><span data-stu-id="c6640-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="c6640-182">في سياق وظيفة استيراد، يصف التعيين الأعمدة في الملف المصدر التي تتحوّل إلى أعمدة في الجدول المرحلي.</span><span class="sxs-lookup"><span data-stu-id="c6640-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="c6640-183">وبالتالي، باستطاعة النظام تحديد بيانات العمود في الملف المصدر التي يجب نسخها والعمود في الجدول المرحلي الذي يجب نسخ البيانات إليه.</span><span class="sxs-lookup"><span data-stu-id="c6640-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="c6640-184">في سياق وظيفة تصدير، يصف التعيين الأعمدة في الجدول المرحلي (أي، المصدر) التي تتحوّل إلى أعمدة في الملف الهدف.</span><span class="sxs-lookup"><span data-stu-id="c6640-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="c6640-185">إذا تطابقت أسماء الأعمدة في الجدول المرحلي والملف، فسيقوم النظام تلقائيًا بإنشاء التعيين، استنادًا إلى الأسماء.</span><span class="sxs-lookup"><span data-stu-id="c6640-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="c6640-186">ولكن لن يتم تعيين الأعمدة تلقائيًا إذا كانت الأسماء مختلفة.</span><span class="sxs-lookup"><span data-stu-id="c6640-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="c6640-187">في هذه الحالات، يجب عليك إكمال التعيين من خلال تحديد الخيار **عرض التعيين** على الكيان في وظيفة البيانات.</span><span class="sxs-lookup"><span data-stu-id="c6640-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="c6640-188">هناك طريقتا عرض للتعيين: **مؤثرات عرض التعيين**، وهي طريقة العرض الافتراضية، و **تفاصيل التعيين**.</span><span class="sxs-lookup"><span data-stu-id="c6640-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="c6640-189">تحدد علامة نجمية حمراء (\*) أي حقول مطلوبة في الكيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="c6640-190">يجب تعيين هذه الحقول قبل أن تتمكن من العمل مع الكيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="c6640-191">يمكن إلغاء تعيين حقول أخرى كما تقتضي الحاجة عندما تعمل مع الكيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="c6640-192">لإلغاء تعيين حقل، حدد الحقل في عمود **الكيان** أو عمود **المصدر**، ثم حدد **حذف التحديد**.</span><span class="sxs-lookup"><span data-stu-id="c6640-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="c6640-193">حدد **حفظ** لحفظ التغييرات التي أجريتها، ثم قم بإغلاق الصفحة للعودة إلى المشروع.</span><span class="sxs-lookup"><span data-stu-id="c6640-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="c6640-194">يمكنك استخدام العملية نفسها لتحرير تعيين الحقول من المصدر إلى الجدول المرحلي بعد استيرادها.</span><span class="sxs-lookup"><span data-stu-id="c6640-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="c6640-195">يمكنك إنشاء تعيين على الصفحة عن طريق تحديد **إنشاء تعيين للمصدر**.</span><span class="sxs-lookup"><span data-stu-id="c6640-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="c6640-196">يعمل التعيين المُنشأ كتعيين تلقائي.</span><span class="sxs-lookup"><span data-stu-id="c6640-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="c6640-197">وبالتالي، يجب تعيين أي حقول غير معينة يدويًا.</span><span class="sxs-lookup"><span data-stu-id="c6640-197">Therefore, you must manually map any unmapped fields.</span></span>

![تعيين البيانات](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="c6640-199">التحقق من أمان وظيفة الاستيراد أو التصدير</span><span class="sxs-lookup"><span data-stu-id="c6640-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="c6640-200">قد يكون الوصول إلى مساحة عمل **إدارة البيانات** مقيدًا، بهدف تمكين المستخدمين من غير المسؤولين من الوصول فقط إلى وظائف بيانات معينة.</span><span class="sxs-lookup"><span data-stu-id="c6640-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="c6640-201">يشتمل الوصول إلى وظيفة بيانات حق الوصول الكامل إلى سجل التنفيذ لتلك الوظيفة والوصول إلى الجداول المرحلية.</span><span class="sxs-lookup"><span data-stu-id="c6640-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="c6640-202">وبالتالي، يجب أن تتأكد من وضع عناصر التحكم بالوصول المناسبة عند إنشاء وظيفة بيانات.</span><span class="sxs-lookup"><span data-stu-id="c6640-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="c6640-203">حماية وظيفة بواسطة الأدوار والمستخدمين</span><span class="sxs-lookup"><span data-stu-id="c6640-203">Secure a job by roles and users</span></span>
<span data-ttu-id="c6640-204">استخدم قائمة **الأدوار القابلة للتطبيق** لتقييد الوظيفة بحيث تقتصر على دور أمان واحد أو أكثر.</span><span class="sxs-lookup"><span data-stu-id="c6640-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="c6640-205">سيتمكن فقط المستخدمون الذين لديهم هذه الأدوار من الوصول إلى الوظيفة.</span><span class="sxs-lookup"><span data-stu-id="c6640-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="c6640-206">يمكنك أيضًا تقييد وظيفة بحيث تقتصر على مستخدمين معينين.</span><span class="sxs-lookup"><span data-stu-id="c6640-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="c6640-207">عندما تقوم بحماية وظيفة بواسطة المستخدمين بدلاً من الأدوار، سيكون هناك المزيد من التحكم في حالة تعيين عدة مستخدمين إلى دور ما.</span><span class="sxs-lookup"><span data-stu-id="c6640-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="c6640-208">حماية وظيفة بواسطة الكيان القانوني</span><span class="sxs-lookup"><span data-stu-id="c6640-208">Secure a job by legal entity</span></span>
<span data-ttu-id="c6640-209">تعتبر وظائف البيانات عمومية بطبيعتها.</span><span class="sxs-lookup"><span data-stu-id="c6640-209">Data jobs are global in nature.</span></span> <span data-ttu-id="c6640-210">لذلك، إذا تم إنشاء وظيفة بيانات واستخدامها في كيان قانوني، فستكون الوظيفة مرئية في كيانات قانونية أخرى في النظام.</span><span class="sxs-lookup"><span data-stu-id="c6640-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="c6640-211">قد يكون هذا السلوك الافتراضي مفضلاً في بعض سيناريوهات التطبيق.</span><span class="sxs-lookup"><span data-stu-id="c6640-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="c6640-212">على سبيل المثال، قد تقوم مؤسسة تستورد الفواتير باستخدام كيانات بيانات بتوفير فريق لمعالجة الفواتير المركزية يكون مسؤولاً عن إدارة أخطاء الفواتير لكافة الأقسام في المؤسسة.</span><span class="sxs-lookup"><span data-stu-id="c6640-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="c6640-213">في هذا السيناريو، من المفيد أن يتوفر لفريق معالجة الفواتير المركزية حق الوصول إلى وظائف استيراد الفواتير من كافة الكيانات القانونية.</span><span class="sxs-lookup"><span data-stu-id="c6640-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="c6640-214">نتيجة لذلك، يلبي السلوك الافتراضي المتطلبات من وجهة نظر كيان قانوني.</span><span class="sxs-lookup"><span data-stu-id="c6640-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="c6640-215">ومع ذلك، قد تحتاج المؤسسة إلى وجود فرق عمل لمعالجة الفواتير في كل كيان قانوني.</span><span class="sxs-lookup"><span data-stu-id="c6640-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="c6640-216">في هذه الحالة، يجب أن يتوفر لدى الفريق في الكيان القانوني حق الوصول فقط إلى وظيفة استيراد الفواتير في كيانه القانوني الخاص.</span><span class="sxs-lookup"><span data-stu-id="c6640-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="c6640-217">لتلبية هذه المتطلبات، يمكنك تكوين التحكم بالوصول الذي يستند إلى الكيان القانوني على وظائف البيانات باستخدام قائمة **الكيانات القانونية القابلة للتطبيق** داخل وظيفة البيانات.</span><span class="sxs-lookup"><span data-stu-id="c6640-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="c6640-218">بعد تنفيذ عملية التكوين، يستطيع المستخدمون رؤية فقط الوظائف المتوفرة في الكيان القانوني الذي سجلوا دخولهم إليه حاليًا.</span><span class="sxs-lookup"><span data-stu-id="c6640-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="c6640-219">لرؤية الوظائف من كيان قانوني آخر، يجب على المستخدمين التبديل إلى هذا الكيان القانوني.</span><span class="sxs-lookup"><span data-stu-id="c6640-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="c6640-220">يمكن حماية وظيفة بواسطة الأدوار والمستخدمين والكيان القانوني في نفس الوقت.</span><span class="sxs-lookup"><span data-stu-id="c6640-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="c6640-221">تشغيل وظيفة الاستيراد أو التصدير</span><span class="sxs-lookup"><span data-stu-id="c6640-221">Run the import or export job</span></span>
<span data-ttu-id="c6640-222">يمكنك تشغيل وظيفة مرة واحدة عن طريق تحديد الزر **استيراد** أو **تصدير** بعد تعريف الوظيفة.</span><span class="sxs-lookup"><span data-stu-id="c6640-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="c6640-223">لإعداد وظيفة متكررة، حدد **إنشاء وظيفة بيانات متكررة**.</span><span class="sxs-lookup"><span data-stu-id="c6640-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="c6640-224">يمكن تشغيل وظيفة استيراد أو تصدير عن طريق تحديد الزر **استيراد** أو **تصدير**.</span><span class="sxs-lookup"><span data-stu-id="c6640-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="c6640-225">سيؤدي هذا إلى جدولة وظيفة الدفعة للتشغيل مرة واحدة فقط.</span><span class="sxs-lookup"><span data-stu-id="c6640-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="c6640-226">قد لا يتم تنفيذ المهمة على الفور إذا كانت خدمة الدُفعات قيد التقييد بسبب الحمل على خدمة الدُفعات.</span><span class="sxs-lookup"><span data-stu-id="c6640-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="c6640-227">يمكن أيضًا تشغيل الوظائف بشكل متزامن عن طريق تحديد **استيراد الآن** أو **تصدير الآن**.</span><span class="sxs-lookup"><span data-stu-id="c6640-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="c6640-228">ويؤدي ذلك إلى تشغيل الوظيفة على الفور، ويكون مفيدًا إذا تعذر بدء عمل الدُفعة بسبب التقييد.</span><span class="sxs-lookup"><span data-stu-id="c6640-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="c6640-229">ويمكن أيضًا جدولة الوظائف لتنفيذها في وقت لاحق.</span><span class="sxs-lookup"><span data-stu-id="c6640-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="c6640-230">يمكن القيام بذلك باختيار خيار **تشغيل في دفعة**.</span><span class="sxs-lookup"><span data-stu-id="c6640-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="c6640-231">تخضع موارد الدُفعة للتقييد، وبالتالي قد لا تبدأ الوظيفة الدفعية على الفور.</span><span class="sxs-lookup"><span data-stu-id="c6640-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="c6640-232">يعد استخدام الدُفعة هو الخيار الموصى به لأنه سيساعد أيضًا مع كميات كبيرة من البيانات التي يجب استيرادها أو تصديرها.</span><span class="sxs-lookup"><span data-stu-id="c6640-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="c6640-233">يمكن جدولة الوظائف الدفعية بحيث تعمل على مجموعة دفعات محددة، مما يسمح بمزيد من التحكم من منظور موازنة الأحمال.</span><span class="sxs-lookup"><span data-stu-id="c6640-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="c6640-234">التحقق من تشغيل الوظيفة كما هو متوقع</span><span class="sxs-lookup"><span data-stu-id="c6640-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="c6640-235">يتوف سجل الوظائف لاستكشاف الأخطاء وإصلاحها ولعمليات الاستقصاء على وظائف الاستيراد والتصدير على حدٍ سواء.</span><span class="sxs-lookup"><span data-stu-id="c6640-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="c6640-236">يتم تنظيم عمليات التشغيل التاريخية حسب نطاقات الوقت.</span><span class="sxs-lookup"><span data-stu-id="c6640-236">Historical job runs are organized by time ranges.</span></span>

![نطاقات سجل الوظائف](./media/dixf-job-history.md.png)

<span data-ttu-id="c6640-238">توفر كل عملية تشغيل للوظيفة التفاصيل التالية:</span><span class="sxs-lookup"><span data-stu-id="c6640-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="c6640-239">تفاصيل التنفيذ</span><span class="sxs-lookup"><span data-stu-id="c6640-239">Execution details</span></span>
- <span data-ttu-id="c6640-240">سجل التنفيذ</span><span class="sxs-lookup"><span data-stu-id="c6640-240">Execution log</span></span>

<span data-ttu-id="c6640-241">تُظهر تفاصيل التنفيذ حالة كل كيان بيانات قامت الوظيفة بمعالجته.</span><span class="sxs-lookup"><span data-stu-id="c6640-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="c6640-242">وبالتالي، يمكنك العثور بسرعة على المعلومات التالية:</span><span class="sxs-lookup"><span data-stu-id="c6640-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="c6640-243">الكيانات التي تمت معالجتها.</span><span class="sxs-lookup"><span data-stu-id="c6640-243">Which entities were processed.</span></span>
- <span data-ttu-id="c6640-244">بالنسبة إلى كيان ما، عدد السجلات التي تمت معالجتها بنجاح وعدد السجلات التي فشلت معالجتها.</span><span class="sxs-lookup"><span data-stu-id="c6640-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="c6640-245">السجلات المرحلية لكل كيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-245">The staging records for each entity.</span></span>

<span data-ttu-id="c6640-246">يمكنك تنزيل البيانات المرحلية في ملف لوظائف التصدير، أو يمكن تحميلها كحزمة لوظائف الاستيراد والتصدير.</span><span class="sxs-lookup"><span data-stu-id="c6640-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="c6640-247">من تفاصيل التنفيذ، يمكنك أيضًا فتح سجل التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="c6640-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="c6640-248">عمليات الاستيراد المتوازية</span><span class="sxs-lookup"><span data-stu-id="c6640-248">Parallel imports</span></span>
<span data-ttu-id="c6640-249">لتسريع استيراد البيانات، يمكن تمكين المعالجة المتوازية لاستيراد الملف إذا كان الكيان يدعم عمليات الاستيراد المتوازية.</span><span class="sxs-lookup"><span data-stu-id="c6640-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="c6640-250">لتكوين المعالجة المتوازية لأحد الكيانات، يجب اتباع الخطوات التالية.</span><span class="sxs-lookup"><span data-stu-id="c6640-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="c6640-251">اذهب إلى **إدارة النظام \> مساحات العمل \> إدارة البيانات**.</span><span class="sxs-lookup"><span data-stu-id="c6640-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="c6640-252">في قسم **الاستيراد/التصدير**، حدد تجانب **معلمات إطار العمل** لفتح صفحة **معلمات إطار العمل لاستيراد/تصدير البيانات**.</span><span class="sxs-lookup"><span data-stu-id="c6640-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="c6640-253">في علامة تبويب **إعدادات الكيان**، حدد **تكوين معلمات تنفيذ الكيان** لفتح صفحة **معلمات تنفيذ استيراد الكيان**.</span><span class="sxs-lookup"><span data-stu-id="c6640-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="c6640-254">قم بتعيين الحقول التالية لتكوين الاستيراد المتوازي للكيان:</span><span class="sxs-lookup"><span data-stu-id="c6640-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="c6640-255">في حقل **الكيان**، حدد الكيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="c6640-256">في حقل **عدد السجلات لحد الاستيراد** أدخل عدد سجلات الحد الخاصة بالاستيراد.</span><span class="sxs-lookup"><span data-stu-id="c6640-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="c6640-257">هذا يحدد عدد السجلات المراد معالجتها بواسطة أحد السلاسل.</span><span class="sxs-lookup"><span data-stu-id="c6640-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="c6640-258">إذا كان أحد الملفات يتضمن 10K سجل، فإن عدد السجلات 2500 مع عدد مهام 4 سيعني أن كل سلسلة ستعالج 2500 سجل.</span><span class="sxs-lookup"><span data-stu-id="c6640-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="c6640-259">في حقل **عدد مهام الاستيراد** أدخل عدد مهام الاستيراد.</span><span class="sxs-lookup"><span data-stu-id="c6640-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="c6640-260">وهذا يجب ألا يتجاوز الحد الأقصى لسلاسل المجموعة المخصص لكل معالجة مجمعة في **إدارة النظام \>تكوين الخادم**.</span><span class="sxs-lookup"><span data-stu-id="c6640-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="clean-up-the-staging-tables"></a><span data-ttu-id="c6640-261">تنظيف الجداول المرحلية</span><span class="sxs-lookup"><span data-stu-id="c6640-261">Clean up the staging tables</span></span>
<span data-ttu-id="c6640-262">اعتبارًا من Platform update 29، تم إهمال هذه الوظيفة.</span><span class="sxs-lookup"><span data-stu-id="c6640-262">Starting in Platform update 29, this functionality has been deprecated.</span></span> <span data-ttu-id="c6640-263">وتم استبدالها بإصدار جديد من وظيفة تنظيف محفوظات الوظائف الموضحة أدناه.</span><span class="sxs-lookup"><span data-stu-id="c6640-263">This is replaced by a new version of job history clean-up functionality explained below.</span></span>

<span data-ttu-id="c6640-264">يمكن تنظيف الجداول المرحلية باستخدام ميزة **تنظيف الجداول المرحلية** في مساحة عمل **إدارة البيانات**.</span><span class="sxs-lookup"><span data-stu-id="c6640-264">You can clean up staging tables by using the **Staging clean up** feature in the **Data management** workspace.</span></span> <span data-ttu-id="c6640-265">يمكنك استخدام الخيارات التالية لتحديد السجلات التي يجب حذفها والجدول المرحلي الذي يجب حذف هذه السجلات منه:</span><span class="sxs-lookup"><span data-stu-id="c6640-265">You can use the following options to select which records should be deleted from which staging table:</span></span>

- <span data-ttu-id="c6640-266">**الكيان** – إذا تم توفير كيان فقط، فسيتم حذف جميع السجلات من الجدول المرحلي لهذا الكيان.</span><span class="sxs-lookup"><span data-stu-id="c6640-266">**Entity** – If only an entity is provided, all records from that entity’s staging table are deleted.</span></span> <span data-ttu-id="c6640-267">حدد هذا الخيار لتنظيف كافة البيانات في الكيان عبر كافة مشاريع البيانات وكافه الوظائف.</span><span class="sxs-lookup"><span data-stu-id="c6640-267">Select this option to clean up all the data for the entity across all data projects and all jobs.</span></span>
- <span data-ttu-id="c6640-268">**معرف الوظيفة** – إذا تم توفير معرف وظيفة فقط، فسيتم حذف جميع السجلات لجميع الكيانات في الوظيفة المحددة من الجداول المرحلية المناسبة.</span><span class="sxs-lookup"><span data-stu-id="c6640-268">**Job ID** – If only a job ID is provided, all records for all entities in the selected job are deleted from the appropriate staging tables.</span></span>
- <span data-ttu-id="c6640-269">**مشاريع البيانات** – إذا تم تحديد مشروع بيانات فقط، فسيتم حذف جميع السجلات لجميع الكيانات وعبر جميع الوظائف الخاصة بمشروع البيانات المحدد.</span><span class="sxs-lookup"><span data-stu-id="c6640-269">**Data projects** – If only a data project is selected, all records for all entities and across all jobs for the selected data project are deleted.</span></span>

<span data-ttu-id="c6640-270">يمكنك أيضًا دمج الخيارات لزيادة مستوى تقييد مجموعة السجلات التي تم حذفها.</span><span class="sxs-lookup"><span data-stu-id="c6640-270">You can also combine the options to further restrict the record set that is deleted.</span></span>

## <a name="job-history-clean-up-available-in-platform-update-29-and-later"></a><span data-ttu-id="c6640-271">تنظيف محفوظات الوظائف (ميزة متوفرة في Platform update 29 والإصدارات الأحدث)</span><span class="sxs-lookup"><span data-stu-id="c6640-271">Job history clean up (available in Platform update 29 and later)</span></span>

<span data-ttu-id="c6640-272">يجب استخدام وظيفة تنظيف محفوظات الوظائف في إدارة البيانات لجدولة تنظيف دوري لمحفوظات التنفيذ.</span><span class="sxs-lookup"><span data-stu-id="c6640-272">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="c6640-273">تحل هذه الوظيفة محل وظيفة تنظيف الجداول المرحلية السابقة، التي أصبحت الآن مهملة.</span><span class="sxs-lookup"><span data-stu-id="c6640-273">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="c6640-274">سيتم تنظيف الجداول التالية بواسطة عملية التنظيف.</span><span class="sxs-lookup"><span data-stu-id="c6640-274">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="c6640-275">جميع الجداول المرحلية</span><span class="sxs-lookup"><span data-stu-id="c6640-275">All staging tables</span></span>

-   <span data-ttu-id="c6640-276">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="c6640-276">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="c6640-277">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="c6640-277">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="c6640-278">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="c6640-278">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="c6640-279">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="c6640-279">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="c6640-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="c6640-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="c6640-281">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="c6640-281">DMFEXECUTION</span></span>

-   <span data-ttu-id="c6640-282">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="c6640-282">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="c6640-283">يجب تمكين ميزة **تنظيف محفوظات التنفيذ** في إدارة الميزات، ثم يمكن الوصول إليها من **إدارة البيانات \> تنظيف محفوظات الوظائف**.</span><span class="sxs-lookup"><span data-stu-id="c6640-283">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="c6640-284">محددات الجدولة</span><span class="sxs-lookup"><span data-stu-id="c6640-284">Scheduling parameters</span></span>

<span data-ttu-id="c6640-285">عند جدولة عملية التنظيف، يجب تحديد المعلمات التالية لتحديد معايير التنظيف.</span><span class="sxs-lookup"><span data-stu-id="c6640-285">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="c6640-286">**عدد أيام الاحتفاظ بالمحفوظات** – يتم استخدام هذا الإعداد للتحكم في مقدار محفوظات التنفيذ التي سيتم الاحتفاظ بها.</span><span class="sxs-lookup"><span data-stu-id="c6640-286">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="c6640-287">يتم تحديد هذا الخيار بعدد الأيام.</span><span class="sxs-lookup"><span data-stu-id="c6640-287">This is specified in number of days.</span></span> <span data-ttu-id="c6640-288">عند جدولة وظيفة التنظيف كوظيفة دفعية متكررة، سيعمل هذا الإعداد كإطار متحرك باستمرار، مما يؤدي دائمًا إلى ترك المحفوظات سليمة لعدد الأيام المحدد مع حذف الباقي.</span><span class="sxs-lookup"><span data-stu-id="c6640-288">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="c6640-289">الإعداد الافتراضي هو 7 أيام.</span><span class="sxs-lookup"><span data-stu-id="c6640-289">The default is 7 days.</span></span>

-   <span data-ttu-id="c6640-290">**عدد الساعات المطلوبة لتنفيذ الوظيفة** – بحسب مقدار المحفوظات التي سيتم تنظيفها، قد يختلف إجمالي وقت تنفيذ وظيفة التنظيف من دقائق قليلة إلى ساعات قليلة.</span><span class="sxs-lookup"><span data-stu-id="c6640-290">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="c6640-291">يجب تعيين هذه المعلمة على عدد الساعات التي سيتم تنفيذ الوظيفة فيها.</span><span class="sxs-lookup"><span data-stu-id="c6640-291">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="c6640-292">بعد تنفيذ وظيفة التنظيف لعدد محدد من الساعات، فسيتم إنهاء الوظيفة وستستأنف عملية التنظيف في المرة التالية التي يتم تشغيلها استنادًا إلى جدول التكرار.</span><span class="sxs-lookup"><span data-stu-id="c6640-292">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="c6640-293">يمكن تحديد الحد الأقصى لوقت التنفيذ عن طريق تعيين حد أقصى لعدد الساعات التي يجب خلالها تشغيل هذه الوظيفة باستخدام هذا الإعداد.</span><span class="sxs-lookup"><span data-stu-id="c6640-293">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="c6640-294">يمر منطق التنظيف عبر معرف تنفيذ وظيفة واحدة في كل مرة بتسلسل ترتيب زمني، حيث يأتي الأقدم أولاً في عملية تنظيف محفوظات التنفيذ ذات الصلة.</span><span class="sxs-lookup"><span data-stu-id="c6640-294">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="c6640-295">ستتوقف العملية عن انتقاء معرفات تنفيذ جديدة للتنظيف عندما تكون مدة التنفيذ المتبقية ضمن آخر 10% من المدة المحددة.</span><span class="sxs-lookup"><span data-stu-id="c6640-295">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="c6640-296">وفي بعض الحالات، من المتوقع أن تستمر وظيفة التنظيف ما بعد الوقت الأقصى المحدد.</span><span class="sxs-lookup"><span data-stu-id="c6640-296">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="c6640-297">يعتمد هذا إلى حد كبير على عدد السجلات التي سيتم حذفها لمعرف التنفيذ الحالي الذي بدأ قبل الوصول إلى حد 10%.</span><span class="sxs-lookup"><span data-stu-id="c6640-297">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="c6640-298">يجب إكمال عملية التنظيف التي بدأت لضمان تكامل البيانات، مما يعني أن التنظيف سيستمر على الرغم من تجاوز الحد المحدد.</span><span class="sxs-lookup"><span data-stu-id="c6640-298">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="c6640-299">عند اكتمال هذه العمية، لا يتم انتقاء معرفات تنفيذ جديدة وتكتمل مهمة التنظيف.</span><span class="sxs-lookup"><span data-stu-id="c6640-299">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="c6640-300">سيتم انتقاء محفوظات التنفيذ المتبقية التي لم يتم تنظيفها بسبب عدم وجود وقت تنفيذ كافٍ في المرة التالية التي يتم فيها تحديد موعد وظيفة التنظيف.</span><span class="sxs-lookup"><span data-stu-id="c6640-300">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="c6640-301">تم تعيين ساعتين كقيمة افتراضية وحد أدنى لهذا الإعداد.</span><span class="sxs-lookup"><span data-stu-id="c6640-301">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="c6640-302">**الدُفعة المتكررة** – يمكن تشغيل وظيفة التنظيف كتنفيذ يدوي لمرة واحدة، أو يمكن أيضًا جدولتها للتنفيذ المتكرر على دُفعات.</span><span class="sxs-lookup"><span data-stu-id="c6640-302">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="c6640-303">يمكن جدولة الدُفعة باستخدام إعدادات **التشغيل في الخلفية**، وهو إعداد الدُفعات القياسي.</span><span class="sxs-lookup"><span data-stu-id="c6640-303">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="c6640-304">في حالة عدم تنظيف الجداول المرحلية بالكامل، فتأكد من جدولة وظيفة التنظيف ليتم تشغيلها في التكرار.</span><span class="sxs-lookup"><span data-stu-id="c6640-304">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="c6640-305">وكما هو موضح أعلاه، في أي تنفيذ عملية نظيف ستكون الوظيفة تنظيف أكبر قدر ممكن من معرفات التنفيذ فقط خلال الحد الأقصى المتوفر من الساعات.</span><span class="sxs-lookup"><span data-stu-id="c6640-305">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="c6640-306">ولمتابعة التنظيف لأي سجلات مرحلية متبقية، فإنه يجب جدولة الوظيفة لتعمل بشكل دوري.</span><span class="sxs-lookup"><span data-stu-id="c6640-306">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="c6640-307">تنظيف محفوظات المهام وأرشفتها (متاح للمعاينة في تحديث النظام الأساسي 39 أو الإصدار 10.0.15)</span><span class="sxs-lookup"><span data-stu-id="c6640-307">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="c6640-308">تحل وظيفة تنظيف محفوظات الوظيفة والأرشفة محل الإصدارات السابقة من وظيفة التنظيف.</span><span class="sxs-lookup"><span data-stu-id="c6640-308">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="c6640-309">سيشرح هذا القسم هذه الإمكانات الجديدة.</span><span class="sxs-lookup"><span data-stu-id="c6640-309">This section will explain these new capabilities.</span></span>

<span data-ttu-id="c6640-310">أحد التغييرات الرئيسية لوظيفة التنظيف هو استخدام وظيفة مجموعة النظام لتنظيف المحفوظات.</span><span class="sxs-lookup"><span data-stu-id="c6640-310">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="c6640-311">يسمح استخدام وظيفة دفعة النظام لتطبيقات Finance and Operations بجدولة مهمة دفعة التنظيف وتشغيلها تلقائيًا بمجرد أن يكون النظام جاهزًا.</span><span class="sxs-lookup"><span data-stu-id="c6640-311">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="c6640-312">لم يعد مطلوبًا جدولة وظيفة الدفعة يدويًا.</span><span class="sxs-lookup"><span data-stu-id="c6640-312">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="c6640-313">في وضع التنفيذ الافتراضي هذا، سيتم تنفيذ المهمة المجمعة كل ساعة بدءًا من الساعة 12 منتصف الليل وستحتفظ بمحفوظات التنفيذ لآخر 7 أيام.</span><span class="sxs-lookup"><span data-stu-id="c6640-313">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="c6640-314">تتم أرشفة المحفوظات التي تم حذفها لاسترجاعها في المستقبل.</span><span class="sxs-lookup"><span data-stu-id="c6640-314">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="c6640-315">نظرًا لأن هذه الوظيفة قيد المعاينة، فلن تحذف وظيفة دفعة النظام أي محفوظات تنفيذ حتى يتم تمكينها عبر الرحلة DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="c6640-315">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="c6640-316">عندما تكون الميزة متاحة بشكل عام في إصدار مستقبلي، لن تكون هذه الرحلة مطلوبة وستبدأ وظيفة مجموعة النظام في المسح والأرشفة بعد أن يصبح النظام جاهزًا، بناءً على الجدول المحدد كما هو موضح أعلاه.</span><span class="sxs-lookup"><span data-stu-id="c6640-316">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="c6640-317">في إصدار مستقبلي، ستتم إزالة الإصدارات السابقة من وظيفة التنظيف من تطبيقات Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="c6640-317">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="c6640-318">التغيير الثاني في عملية التنظيف هو أرشفة محفوظات التنفيذ الذي تمت إزالتها.</span><span class="sxs-lookup"><span data-stu-id="c6640-318">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="c6640-319">ستعمل مهمة التنظيف على أرشفة السجلات المحذوفة إلى وحدة تخزين البيانات الثنائية الكبيرة التي يستخدمها DIXF لعمليات التكامل المنتظمة.</span><span class="sxs-lookup"><span data-stu-id="c6640-319">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="c6640-320">سيكون الملف المؤرشف بتنسيق حزمة DIXF وسيكون متاحًا لمدة 7 أيام في الكائن الثنائي يمكن خلالها تنزيله.</span><span class="sxs-lookup"><span data-stu-id="c6640-320">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="c6640-321">يمكن تغيير طول العمر الافتراضي البالغ 7 أيام للملف المؤرشف إلى 90 يومًا كحد أقصى في المعلمات.</span><span class="sxs-lookup"><span data-stu-id="c6640-321">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="c6640-322">تغيير الإعدادات الافتراضية</span><span class="sxs-lookup"><span data-stu-id="c6640-322">Changing the default settings</span></span>
<span data-ttu-id="c6640-323">هذه الوظيفة قيد المعاينة حاليًا ويجب تشغيلها بشكل صريح عن طريق تمكين الرحلة DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="c6640-323">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="c6640-324">يجب أيضًا تشغيل ميزة تنظيف التدريج في إدارة الميزات.</span><span class="sxs-lookup"><span data-stu-id="c6640-324">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="c6640-325">لتغيير الإعداد الافتراضي لطول عمر الملف المؤرشف، انتقل إلى مساحة عمل إدارة البيانات وحدد **تنظيف محفوظات الوظائف**.</span><span class="sxs-lookup"><span data-stu-id="c6640-325">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="c6640-326">قم بتعيين **الأيام للاحتفاظ بالحزمة في الكائن الثنائي** لقيمة بين 7 و90 (شاملاً الرقمين).</span><span class="sxs-lookup"><span data-stu-id="c6640-326">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="c6640-327">سيسري هذا على الأرشيفات التي تم إنشاؤها بعد إجراء هذا التغيير.</span><span class="sxs-lookup"><span data-stu-id="c6640-327">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="c6640-328">يتم الآن تنزيل الحزمة المؤرشفة</span><span class="sxs-lookup"><span data-stu-id="c6640-328">Downloading the archived package</span></span>
<span data-ttu-id="c6640-329">هذه الوظيفة قيد المعاينة حاليًا ويجب تشغيلها بشكل صريح عن طريق تمكين الرحلة DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="c6640-329">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="c6640-330">يجب أيضًا تشغيل ميزة تنظيف التدريج في إدارة الميزات.</span><span class="sxs-lookup"><span data-stu-id="c6640-330">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="c6640-331">لتنزيل محفوظات التنفيذ المؤرشفة، انتقل إلى مساحة عمل إدارة البيانات وحدد **تنظيف محفوظات الوظائف**.</span><span class="sxs-lookup"><span data-stu-id="c6640-331">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="c6640-332">حدد **محفوظات النسخ الاحتياطي للحزمة** لفتح نموذج المحفوظات.</span><span class="sxs-lookup"><span data-stu-id="c6640-332">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="c6640-333">يعرض هذا النموذج قائمة بجميع الحزم المؤرشفة.</span><span class="sxs-lookup"><span data-stu-id="c6640-333">This form shows the list of all archived packages.</span></span> <span data-ttu-id="c6640-334">يمكن تحديد أرشيف وتنزيله من خلال تحديد **تنزيل حزمة**.</span><span class="sxs-lookup"><span data-stu-id="c6640-334">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="c6640-335">ستكون الحزمة التي تم تنزيلها بتنسيق حزمة DIXF وستحتوي على الملفات التالية:</span><span class="sxs-lookup"><span data-stu-id="c6640-335">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="c6640-336">ملف الجدول المرحلي للكيان</span><span class="sxs-lookup"><span data-stu-id="c6640-336">The entity staging table file</span></span>
-   <span data-ttu-id="c6640-337">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="c6640-337">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="c6640-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="c6640-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="c6640-339">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="c6640-339">DMFEXECUTION</span></span>
-   <span data-ttu-id="c6640-340">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="c6640-340">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="c6640-341">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="c6640-341">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="c6640-342">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="c6640-342">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="c6640-343">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="c6640-343">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]